{"post_stream":{"posts":[{"id":11468,"name":"","username":"ViteFalcon","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png","created_at":"2016-03-30T18:05:15.000Z","cooked":"\u003cp\u003eHi fellow Urho3D devs,\u003c/p\u003e\n\u003cp\u003eI‚Äôm very new to Urho3D and so far I‚Äôm loving it. I‚Äôm attempting to get MyGUI to work with Urho3D (because I really like that GUI library, Urho3D‚Äôs UI would need more work to do what I‚Äôd like). I‚Äôm having a problem where the UI rendering doesn‚Äôt show up. I have tried to debug it to the point where I‚Äôm out of ideas would really need your help.\u003c/p\u003e\n\u003cp\u003eSo, to start off, I‚Äôll give a brief idea of how MyGUI ‚Äòplatform‚Äô code works. For those who aren‚Äôt familiar about MyGUI please search for MyGUI in your favorite search engine, or visit mygui-dot-info to visit their website (sorry, it seems like I‚Äôm not allowed to post a link in my first post).\u003c/p\u003e\n\u003cp\u003eMyGUI platform code needs some implementation of engine-specific code to get MyGUI integrated with your engine. These are (not real class/interface names):\u003cbr\u003e\n[ul]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eDataStream\u003c/span\u003e: A stream to the resource data[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eDataStreamManager\u003c/span\u003e: A singleton class that needs to be initialized before initializing MyGUI and gets used by MyGUI to retrieve data streams to the engine‚Äôs resources[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eTexture\u003c/span\u003e: A class that implements interactions with the engine‚Äôs texture (creating manual textures, loading existing textures from engine, etc)[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eVertexBuffer\u003c/span\u003e: A class that wraps interactions with the engine‚Äôs vertex buffer implementation.[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eRenderTarget\u003c/span\u003e: A class that wraps the target to which MyGUI renders itself. This for Urho3D is \u003cspan class=\"bbcode-b\"\u003eUrho3D::Renderer\u003c/span\u003e class.[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eRenderManager\u003c/span\u003e: A singleton class that MyGUI interacts with to create/delete VertexBuffers/textures to render them the default render target (or to any render target for that matter).[/li][/ul]\u003c/p\u003e\n\u003cp\u003eMy RenderManager looks something like this:\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúMyGUI_UrhoRenderManager.h‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúMyGUI_UrhoRenderer.h‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúMyGUI_UrhoTexture.h‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúMyGUI_UrhoVertexBuffer.h‚Äù\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Core/CoreEvents.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/Graphics.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/GraphicsEvents.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/Renderer.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/Texture.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/Texture2D.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/View.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Graphics/Viewport.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Scene/SceneEvents.h\u0026gt;\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e \u0026lt;Urho3D/Urho2D/Drawable2D.h\u0026gt;\u003c/p\u003e\n\u003cp\u003enamespace MyGUI\u003cbr\u003e\n{\u003cbr\u003e\nnamespace detail\u003cbr\u003e\n{\u003cbr\u003e\nstatic const TextureUsage TEXTURE_USAGE = TextureUsage::RenderTarget;\u003cbr\u003e\nstatic const PixelFormat PIXEL_FORMAT = PixelFormat::R8G8B8A8;\u003cbr\u003e\n}\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eUrhoRenderManager::UrhoRenderManager(Urho3D::Context* context)\n\t: Urho3D::Object(context)\n\t, mGraphics(*GetSubsystem\u0026lt;Urho3D::Graphics\u0026gt;())\n\t, mRenderer(*GetSubsystem\u0026lt;Urho3D::Renderer\u0026gt;())\n\t, mUiRenderer(new UrhoRenderer(context))\n{\n\tSubscribeToEvent(Urho3D::E_RENDERUPDATE, URHO3D_HANDLER(UrhoRenderManager, handleUpdate));\n\tSubscribeToEvent(Urho3D::E_ENDRENDERING, URHO3D_HANDLER(UrhoRenderManager, render));\n}\n\nIVertexBuffer * UrhoRenderManager::createVertexBuffer()\n{\n\treturn new UrhoVertexBuffer(context_);\n}\n\nvoid UrhoRenderManager::destroyVertexBuffer(IVertexBuffer* _buffer)\n{\n\tdelete _buffer;\n}\n\nMyGUI::ITexture* UrhoRenderManager::createTexture(const std::string\u0026amp; _name)\n{\n\treturn new UrhoTexture(context_, _name);\n}\n\nvoid UrhoRenderManager::destroyTexture(ITexture* _texture)\n{\n\tdelete _texture;\n}\n\nMyGUI::ITexture* UrhoRenderManager::getTexture(const std::string\u0026amp; _name)\n{\n\tauto texture = new UrhoTexture(context_, _name);\n\ttexture-\u0026gt;loadFromFile(_name);\n\treturn texture;\n}\n\nconst MyGUI::IntSize\u0026amp; UrhoRenderManager::getViewSize() const\n{\n\tstatic IntSize viewSize;\n\tstatic auto\u0026amp; graphics = *GetSubsystem\u0026lt;Urho3D::Graphics\u0026gt;();\n\tviewSize.width = graphics.GetWidth();\n\tviewSize.height = graphics.GetHeight();\n\treturn viewSize;\n}\n\nVertexColourType UrhoRenderManager::getVertexFormat()\n{\n\treturn VertexColourType(VertexColourType::ColourABGR);\n}\n\nbool UrhoRenderManager::isFormatSupported(PixelFormat _format, TextureUsage _usage)\n{\n\tbool isPixelFormatSupported = false;\n\tbool isTextureUsageSupported = true;\n\tswitch (_format.getValue())\n\t{\n\tcase PixelFormat::L8:\n\tcase PixelFormat::L8A8:\n\tcase PixelFormat::R8G8B8A8:\n\t\tisPixelFormatSupported = true;\n\t}\n\treturn isPixelFormatSupported \u0026amp;\u0026amp; isTextureUsageSupported;\n}\n\nvoid UrhoRenderManager::begin()\n{\n\tusing namespace Urho3D;\n\n\tVector2 invScreenSize(1.0f / (float)mGraphics.GetWidth(), 1.0f / (float)mGraphics.GetHeight());\n\tVector2 scale(2.0f * invScreenSize.x_, -2.0f * invScreenSize.y_);\n\tVector2 offset(-1.0f, 1.0f);\n\n\tprojection = Matrix4::IDENTITY;\n\n\tprojection.m00_ = scale.x_;\n\tprojection.m03_ = offset.x_;\n\tprojection.m11_ = scale.y_;\n\tprojection.m13_ = offset.y_;\n\tprojection.m22_ = 1.0f;\n\tprojection.m23_ = 0.0f;\n\tprojection.m33_ = 1.0f;\n\n\tnoTextureVS = mGraphics.GetShader(VS, \"Basic\", \"VERTEXCOLOR\");\n\tdiffTextureVS = mGraphics.GetShader(VS, \"Basic\", \"DIFFMAP VERTEXCOLOR\");\n\tnoTexturePS = mGraphics.GetShader(PS, \"Basic\", \"VERTEXCOLOR\");\n\tdiffTexturePS = mGraphics.GetShader(PS, \"Basic\", \"DIFFMAP VERTEXCOLOR\");\n\tdiffMaskTexturePS = mGraphics.GetShader(PS, \"Basic\", \"DIFFMAP ALPHAMASK VERTEXCOLOR\");\n\talphaTexturePS = mGraphics.GetShader(PS, \"Basic\", \"ALPHAMAP VERTEXCOLOR\");\n\n\tmGraphics.ClearParameterSources();\n\tmGraphics.SetColorWrite(true);\n\tmGraphics.SetCullMode(Urho3D::CULL_NONE);\n\tmGraphics.SetDepthTest(Urho3D::CMP_ALWAYS);\n\tmGraphics.SetDepthWrite(false);\n\tmGraphics.SetFillMode(Urho3D::FILL_SOLID);\n\tmGraphics.SetStencilTest(false);\n\tmGraphics.ResetRenderTargets();\n\tmGraphics.SetBlendMode(Urho3D::BlendMode::BLEND_ALPHA);\n\tmGraphics.SetScissorTest(false);\n\tmGraphics.SetViewport(GetSubsystem\u0026lt;Renderer\u0026gt;()-\u0026gt;GetViewport(0)-\u0026gt;GetRect());\n\t// MyGUI doesn't create / need index buffers\n\tmGraphics.SetIndexBuffer(nullptr);\n}\n\nvoid UrhoRenderManager::end()\n{\n}\n\nvoid UrhoRenderManager::doRender(IVertexBuffer * _buffer, ITexture * _texture, size_t _count)\n{\n\tmUiRenderer-\u0026gt;doRender(_buffer, _texture, _count);\n}\n\nconst RenderTargetInfo \u0026amp; UrhoRenderManager::getInfo()\n{\n\tstatic RenderTargetInfo info;\n\tinfo.aspectCoef = float(mGraphics.GetWidth()) / float(mGraphics.GetHeight());\n\t// Depth range for OpenGL is [-1.0f, 1.0f]\n\tinfo.maximumDepth = 1.0f;\n\tinfo.pixScaleX = Urho3D::PIXEL_SIZE;\n\tinfo.pixScaleY = Urho3D::PIXEL_SIZE;\n\treturn info;\n}\n\nvoid UrhoRenderManager::handleUpdate(Urho3D::StringHash eventType, Urho3D::VariantMap \u0026amp; eventData)\n{\n\tusing namespace Urho3D;\n\tusing namespace RenderUpdate;\n\tauto deltaTime = eventData[P_TIMESTEP].GetFloat();\n\tonFrameEvent(deltaTime);\n}\n\nvoid UrhoRenderManager::render(Urho3D::StringHash eventType, Urho3D::VariantMap \u0026amp; eventData)\n{\n\tbegin();\n\tonRenderToTarget(this, true);\n\tend();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}[/code]\u003c/p\u003e\n\u003cp\u003eI have verified that:\u003cbr\u003e\n[ul]\u003cbr\u003e\n[li]All textures are getting loaded correctly[/li]\u003cbr\u003e\n[li]Vertex buffer contents seems to be correct[/li]\u003cbr\u003e\n[li]Rendering calls do happen before the buffers are swapped[/li][/ul]\u003c/p\u003e\n\u003cp\u003eIs there anything that I‚Äôm grossly missing? Am I doing something incredibly stupid, which is making this not work? Thanks a lot for your time.\u003c/p\u003e\n\u003cp\u003eP.S.: I‚Äôm currently only focusing on getting this to work with OpenGL renderer.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:11:37.035Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":101,"reads":14,"readers_count":13,"score":509.8,"yours":false,"topic_id":1928,"topic_slug":"solved-help-with-rendering-custom-mygui-vertexbuffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":374,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11480,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-03-31T12:51:56.000Z","cooked":"\u003cp\u003eWelcome to the forums.\u003c/p\u003e\n\u003cp\u003eYou‚Äôre not showing all of your code ‚Äì e.g. how the vertex buffer is bound and how you actually issue the draw call. I recommend ruling out things one by one - for example first verifying that a simple hardcoded quad comes up right, then replace that with MyGUI supplied data. Or first use no textures, or the ‚Äúreplace‚Äù blend mode, then substitute those with the proper ones. If you were using Direct3D you could use graphics analysis tools like Pix, but for OpenGL the tools are poorer. Not sure if e.g. gDebugger could actually show the mesh you‚Äôre about to render, similar to how Pix can.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:11:37.860Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":13,"readers_count":12,"score":7.6,"yours":false,"topic_id":1928,"topic_slug":"solved-help-with-rendering-custom-mygui-vertexbuffer","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11533,"name":"","username":"ViteFalcon","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png","created_at":"2016-04-04T02:05:54.000Z","cooked":"\u003cp\u003eSorry for the late reply. I was on vacation and had very little time to reply.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWelcome to the forums.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThanks!\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eYou‚Äôre not showing all of your code ‚Äì e.g. how the vertex buffer is bound and how you actually issue the draw call.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eOops! Here‚Äôs the relevant code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\tvoid UrhoRenderer::doRender(IVertexBuffer* _buffer, ITexture* _texture, size_t _count)\n\t{\n\t\tusing namespace Urho3D;\n\t\tMyGUI::GlErrorHandler glErrors;\n\t\tauto vs = noTextureVS;\n\t\tauto ps = noTexturePS;\n\t\tif (_texture != nullptr)\n\t\t{\n\t\t\tvs = diffTextureVS;\n\t\t\tps = diffTexturePS;\n\t\t\tmGraphics.SetTexture(0, dynamic_cast\u0026lt;UrhoTexture*\u0026gt;(_texture)-\u0026gt;getTexture());\n\t\t}\n\t\tmGraphics.SetShaders(vs, ps);\n\t\tif (mGraphics.NeedParameterUpdate(SP_OBJECT, this))\n\t\t\tmGraphics.SetShaderParameter(VSP_MODEL, Matrix3x4::IDENTITY);\n\t\tif (mGraphics.NeedParameterUpdate(SP_CAMERA, this))\n\t\t\tmGraphics.SetShaderParameter(VSP_VIEWPROJ, projection);\n\t\tif (mGraphics.NeedParameterUpdate(SP_MATERIAL, this))\n\t\t\tmGraphics.SetShaderParameter(PSP_MATDIFFCOLOR, Color(1.0f, 1.0f, 1.0f, 1.0f));\n\t\tmGraphics.SetVertexBuffer(dynamic_cast\u0026lt;UrhoVertexBuffer*\u0026gt;(_buffer)-\u0026gt;getBuffer());\n\t\tif (glErrors)\n\t\t{\n\t\t\tlog.Error(ToString(\"GL ERROR: %s\", glErrors.getError().c_str()));\n\t\t}\n\t\tmGraphics.Draw(Urho3D::PrimitiveType::TRIANGLE_LIST, 0, (unsigned int)_count);\n\t\tif (glErrors)\n\t\t{\n\t\t\tlog.Error(ToString(\"GL ERROR: %s\", glErrors.getError().c_str()));\n\t\t}\n\t}\u003c/code\u003e\u003c/pre\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI recommend ruling out things one by one - for example first verifying that a simple hardcoded quad comes up right, then replace that with MyGUI supplied data. Or first use no textures, or the ‚Äúreplace‚Äù blend mode, then substitute those with the proper ones.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eGood suggestion. I‚Äôll try them out and let you know the details below:\u003c/p\u003e\n\u003cp\u003e[ul]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eHardcoded quad\u003c/span\u003e: TODO[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eUse no texture\u003c/span\u003e: TODO[/li]\u003cbr\u003e\n[li] \u003cspan class=\"bbcode-b\"\u003eUse ‚Äòreplace‚Äô blend mode\u003c/span\u003e: TODO[/li][/ul]\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf you were using Direct3D you could use graphics analysis tools like Pix, but for OpenGL the tools are poorer. Not sure if e.g. gDebugger could actually show the mesh you‚Äôre about to render, similar to how Pix can.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI‚Äôll give that a try anyway.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:11:41.768Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":1928,"topic_slug":"solved-help-with-rendering-custom-mygui-vertexbuffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":374,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11561,"name":"","username":"ViteFalcon","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png","created_at":"2016-04-05T08:28:43.000Z","cooked":"\u003cp\u003eOkay, so I figured out the problem. It had to do with the projection matrix. It seems like the projection matrix that works for MyGUI is the following:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e        auto width = mGraphics.GetWidth();\n        auto height = mGraphics.GetHeight();\n        Vector2 invScreenSize(1.0f / float(width), 1.0f / float(height));\n        Vector2 scale(1.0f * invScreenSize.x_, 1.0f * invScreenSize.y_);\n        Vector2 offset(-1.0f, 1.0f);\n\n        projection.m00_ = scale.x_;\n        projection.m03_ = offset.x_;\n        projection.m11_ = scale.y_;\n        projection.m13_ = offset.y_;\n        projection.m22_ = 1.0f;\n        projection.m23_ = 0.0f;\n        projection.m33_ = 1.0f;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eInstead of my previous implementation (which was borrowed from Urho3D::UI:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e      Vector2 invScreenSize(1.0f / (float)mGraphics.GetWidth(), 1.0f / (float)mGraphics.GetHeight());\n      Vector2 scale(2.0f * invScreenSize.x_, -2.0f * invScreenSize.y_);\n      Vector2 offset(-1.0f, 1.0f);\n\n      projection = Matrix4::IDENTITY;\n\n      projection.m00_ = scale.x_;\n      projection.m03_ = offset.x_;\n      projection.m11_ = scale.y_;\n      projection.m13_ = offset.y_;\n      projection.m22_ = 1.0f;\n      projection.m23_ = 0.0f;\n      projection.m33_ = 1.0f;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThanks, Cadaver! Your tip of using gDEBugger actually panned out. I didn‚Äôt create a custom vertex buffer. Instead, I went with gDEBugger and found that the vertex coordinates in the vertex buffer populated by MyGUI was in ‚Äòwindow‚Äô space I guess. So I tweaked the projection matrix accordingly.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:11:43.780Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":2.4,"yours":false,"topic_id":1928,"topic_slug":"solved-help-with-rendering-custom-mygui-vertexbuffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":374,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[11468,11480,11533,11561]},"timeline_lookup":[[1,2428],[3,2424],[4,2423]],"suggested_topics":[{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7100,"title":"UI Sprites - Wrapping/Repeating Texture","fancy_title":"UI Sprites - Wrapping/Repeating Texture","slug":"ui-sprites-wrapping-repeating-texture","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5d95641f056666c79c67a12520276d2d9f4729ae.png","created_at":"2021-12-15T20:32:37.485Z","last_posted_at":"2021-12-16T03:28:29.146Z","bumped":true,"bumped_at":"2021-12-16T03:28:29.146Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7138,"title":"Build fails (linking phase) on Linux","fancy_title":"Build fails (linking phase) on Linux","slug":"build-fails-linking-phase-on-linux","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-01-20T03:08:29.663Z","last_posted_at":"2022-01-21T15:27:41.192Z","bumped":true,"bumped_at":"2022-01-21T15:27:41.192Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":178,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1502,"username":"jasperry","name":"Jason Perry","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/5fc32e/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}}]},{"id":7268,"title":"Get vertex position before Morph in shader","fancy_title":"Get vertex position before Morph in shader","slug":"get-vertex-position-before-morph-in-shader","posts_count":8,"reply_count":6,"highest_post_number":8,"image_url":null,"created_at":"2022-05-15T19:44:19.139Z","last_posted_at":"2022-05-16T06:11:07.099Z","bumped":true,"bumped_at":"2022-08-12T22:38:31.553Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":209,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1205,"username":"Askhento","name":"Askhento","avatar_template":"/user_avatar/discourse.urho3d.io/askhento/{size}/3849_2.png"}},{"extras":"latest","description":"Most Recent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]}],"tags_descriptions":{},"id":1928,"title":"[SOLVED] Help with rendering custom MyGUI VertexBuffer","fancy_title":"[SOLVED] Help with rendering custom MyGUI VertexBuffer","posts_count":4,"created_at":"2016-03-30T18:05:15.000Z","views":533,"reply_count":0,"like_count":0,"last_posted_at":"2016-04-05T08:28:43.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-help-with-rendering-custom-mygui-vertexbuffer","category_id":10,"word_count":1493,"deleted_at":null,"user_id":374,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1928","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":374,"username":"ViteFalcon","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":374,"username":"ViteFalcon","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png"},"last_poster":{"id":374,"username":"ViteFalcon","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vitefalcon/{size}/103_2.png"}}}