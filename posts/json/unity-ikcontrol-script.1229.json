{"post_stream":{"posts":[{"id":6986,"name":"","username":"Mike","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","created_at":"2015-08-02T10:54:08.000Z","cooked":"\u003cp\u003eI‚Äôve tried to port a Unity script found \u003ca href=\"https://github.com/sam-kelly-dev/ovr-pilot/tree/master/Assets/IK/Scripts/ik\" data-bbcode=\"true\"\u003ehere\u003c/a\u003e.\u003cbr\u003e\nDemo \u003ca href=\"https://www.youtube.com/watch?v=FXVtBKVtXjM\" data-bbcode=\"true\"\u003ehere\u003c/a\u003e.\u003cbr\u003e\nIt roughly works as expected but not perfect. As I‚Äôm totally unfamiliar with Unity I may have missed something or made wrong assumptions.\u003c/p\u003e\n\u003cp\u003eIf someone familiar with Unity could check would be great.\u003c/p\u003e\n\u003cp\u003e[spoiler][code]\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúScripts/Utilities/Sample.as‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúScripts/IKControl.as‚Äù\u003c/p\u003e\n\u003cp\u003e// IK stuff\u003cbr\u003e\nNode@ upperArmL;\u003cbr\u003e\nNode@ upperArmR;\u003c/p\u003e\n\u003cp\u003efloat MOVE_SPEED = 1.0f; // Movement speed as world units per second\u003cbr\u003e\nfloat MOUSE_SENSITIVITY = 0.1f; // Mouse sensitivity as degrees per pixel\u003c/p\u003e\n\u003cp\u003eString character = ‚ÄúJack‚Äù;\u003c/p\u003e\n\u003cp\u003evoid Start()\u003cbr\u003e\n{\u003cbr\u003e\nSampleStart();\u003cbr\u003e\nCreateScene();\u003cbr\u003e\nCreateUI();\u003cbr\u003e\nSubscribeToEvents();\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003evoid CreateScene()\u003cbr\u003e\n{\u003cbr\u003e\n// SCENE ROOT\u003cbr\u003e\nscene_ = Scene();\u003cbr\u003e\nscene_.CreateComponent(‚ÄúOctree‚Äù);\u003cbr\u003e\nscene_.CreateComponent(‚ÄúPhysicsWorld‚Äù);\u003cbr\u003e\nscene_.CreateComponent(‚ÄúDebugRenderer‚Äù);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// FLOOR\nNode@ floorNode = scene_.CreateChild(\"Plane\");\nfloorNode.position = Vector3(0.0f, -0.5f, 0.0f);\nfloorNode.scale = Vector3(100.0f, 1.0f, 100.0f);\nStaticModel@ planeObject = floorNode.CreateComponent(\"StaticModel\");\nplaneObject.model = cache.GetResource(\"Model\", \"Models/Box.mdl\");\nplaneObject.material = cache.GetResource(\"Material\", \"Materials/StoneTiled.xml\");\nRigidBody@ body = floorNode.CreateComponent(\"RigidBody\");\nCollisionShape@ shape = floorNode.CreateComponent(\"CollisionShape\");\nshape.SetBox(Vector3(1.0f, 1.0f, 1.0f));\n\n// ZONE\nNode@ zoneNode = scene_.CreateChild(\"Zone\");\nZone@ zone = zoneNode.CreateComponent(\"Zone\");\nzone.boundingBox = BoundingBox(-1000.0f, 1000.0f);\nzone.ambientColor = Color(0.15f, 0.15f, 0.15f);\nzone.fogColor = Color(0.5f, 0.5f, 0.7f);\nzone.fogStart = 100.0f;\nzone.fogEnd = 300.0f;\n\n// LIGHT\nNode@ lightNode = scene_.CreateChild(\"DirectionalLight\");\nlightNode.direction = Vector3(0.6f, -1.0f, -0.8f);\nLight@ light = lightNode.CreateComponent(\"Light\");\nlight.lightType = LIGHT_DIRECTIONAL;\nlight.castShadows = true;\nlight.shadowBias = BiasParameters(0.00025f, 0.5f);\n// Set cascade splits at 10, 50 and 200 world units, fade shadows out at 80% of maximum shadow distance\nlight.shadowCascade = CascadeParameters(10.0f, 50.0f, 200.0f, 0.0f, 0.8f);\n\n// CAMERA\ncameraNode = scene_.CreateChild(\"Camera\");\nCamera@ camera = cameraNode.CreateComponent(\"Camera\");\ncamera.farClip = 300.0f;\ncameraNode.position = Vector3(0.0f, 1.2f, 3.5f);\ncameraNode.rotation = Quaternion(0.0f, 180.0f, 0.0f);\n\n// VIEWPORT\nViewport@ viewport = Viewport(scene_, camera);\nrenderer.viewports[0] = viewport;\n\n// BALLS (target position to reach)\nNode@ ball = scene_.CreateChild(\"Ball\");\nball.SetScale(0.1f);\nball.position = Vector3(-0.5f, 1.5f, 0.25f);\nStaticModel@ ballModel = ball.CreateComponent(\"StaticModel\");\nballModel.model = cache.GetResource(\"Model\", \"Models/Sphere.mdl\");\n\nNode@ ball2 = ball.Clone();\nball2.name = \"Ball2\";\nball2.position = Vector3(0.5f, 1.5f, 0.5f);\n\n// CHARACTER \u0026amp; IK CHAINS\nif (character == \"Jack\")\n{\n\tNode@ modelNode = scene_.CreateChild(\"Character\");\n\tAnimatedModel@ modelObject = modelNode.CreateComponent(\"AnimatedModel\");\n\tmodelNode.CreateComponent(\"AnimationController\"); // Create the animation controller\n\n\tmodelObject.model = cache.GetResource(\"Model\", \"Models/Jack.mdl\");\n\tmodelObject.material = cache.GetResource(\"Material\", \"Materials/Jack.xml\");\n\tupperArmL = modelNode.GetChild(\"Bip01_L_UpperArm\", true);\n\tupperArmR = modelNode.GetChild(\"Bip01_R_UpperArm\", true);\n\n\t// Take manual control of the arms' bones\n\tSkeleton@ skel = modelObject.skeleton;\n\tskel.GetBone(\"Bip01_L_UpperArm\").animated = false;\n\tskel.GetBone(\"Bip01_L_Forearm\").animated = false;\n\tskel.GetBone(\"Bip01_L_Hand\").animated = false;\n\tskel.GetBone(\"Bip01_R_UpperArm\").animated = false;\n\tskel.GetBone(\"Bip01_R_Forearm\").animated = false;\n\tskel.GetBone(\"Bip01_R_Hand\").animated = false;\n\n\t// Create the IK controllers at the top of the IK chains\n\tIKControl@ ikLeft = cast\u0026lt;IKControl\u0026gt;(upperArmL.CreateScriptObject(scriptFile, \"IKControl\"));\n\tikLeft.armAxis = Vector3(0.0f, -1.0f, 0.0f);\n\tikLeft.target = ball;\n\n\tIKControl@ ikRight = cast\u0026lt;IKControl\u0026gt;(upperArmR.CreateScriptObject(scriptFile, \"IKControl\"));\n\tikRight.armAxis = Vector3(0.0f, 1.0f, 0.0f);\n\tikRight.target = ball2;\n}\nelse\n{\n\tNode@ modelNode = scene_.InstantiateXML(cache.GetFile(\"Assets/\" + character + \"/Objects/\" + character + \".xml\"), Vector3(0.0f, 0.5f, 0.0f), Quaternion(0.0f, 0.0f, 0.0f));\n\tmodelNode.name = \"Character\";\n\tmodelNode.SetScale(0.9f);\n\tAnimatedModel@ modelObject = modelNode.GetComponent(\"AnimatedModel\");\n\tmodelNode.CreateComponent(\"AnimationController\"); // Create the animation controller\n\n\tupperArmL = modelNode.GetChild(\"UpperArm.L\", true);\n\tupperArmR = modelNode.GetChild(\"UpperArm.R\", true);\n\n\t// Take manual control of the arms' bones\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e//\t\tSkeleton@ skel = modelObject.skeleton;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúUpperArm.L‚Äù).animated = false;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúForearm.L‚Äù).animated = false;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúHand.L‚Äù).animated = false;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúUpperArm.R‚Äù).animated = false;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúForearm.R‚Äù).animated = false;\u003cbr\u003e\n//\t\tskel.GetBone(‚ÄúHand.R‚Äù).animated = false;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e\t// Create the IK controllers at the top of the IK chains\n\tIKControl@ ikLeft = cast\u0026lt;IKControl\u0026gt;(upperArmL.CreateScriptObject(scriptFile, \"IKControl\"));\n\tikLeft.armAxis = Vector3(0.0f, -1.0f, 0.0f);\n\tikLeft.target = ball;\n\n\tIKControl@ ikRight = cast\u0026lt;IKControl\u0026gt;(upperArmR.CreateScriptObject(scriptFile, \"IKControl\"));\n\tikRight.armAxis = Vector3(0.0f, 1.0f, 0.0f);\n\tikRight.target = ball2;\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid CreateUI()\u003cbr\u003e\n{\u003cbr\u003e\n// Create a Cursor UI element because we want to be able to hide and show it at will. When hidden, the mouse cursor will\u003cbr\u003e\n// control the camera, and when visible, it will point the raycast target\u003cbr\u003e\nCursor@ cursor = Cursor();\u003cbr\u003e\ncursor.SetStyleAuto(cache.GetResource(‚ÄúXMLFile‚Äù, ‚ÄúUI/DefaultStyle.xml‚Äù));\u003cbr\u003e\nui.cursor = cursor;\u003cbr\u003e\n// Set starting position of the cursor at the rendering window center\u003cbr\u003e\ncursor.SetPosition(graphics.width / 2, graphics.height / 2);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Construct new Text object, set string to display and font to use\nText@ instructionText = ui.root.CreateChild(\"Text\");\ninstructionText.text = \"Use directional keys \u0026amp; mouse wheel to move the targets\\n\" \"RMB to rotate around the character\\n\" \"F5 to save scene, F7 to load\\n\" \"Space to toggle debug geometry\";\ninstructionText.SetFont(cache.GetResource(\"Font\", \"Fonts/Anonymous Pro.ttf\"), 15);\ninstructionText.textAlignment = HA_CENTER;\n\n// Position the text relative to the screen center\ninstructionText.horizontalAlignment = HA_CENTER;\ninstructionText.verticalAlignment = VA_CENTER;\ninstructionText.SetPosition(0, ui.root.height / 4);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid SubscribeToEvents()\u003cbr\u003e\n{\u003cbr\u003e\nSubscribeToEvent(‚ÄúUpdate‚Äù, ‚ÄúHandleUpdate‚Äù);\u003cbr\u003e\nSubscribeToEvent(‚ÄúPostRenderUpdate‚Äù, ‚ÄúHandlePostRenderUpdate‚Äù);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003evoid MoveCamera(float timeStep)\u003cbr\u003e\n{\u003cbr\u003e\n// Right mouse button controls mouse cursor visibility: hide when pressed\u003cbr\u003e\nui.cursor.visible = !input.mouseButtonDown[MOUSEB_RIGHT];\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Do not move if the UI has a focused element (the console)\nif (ui.focusElement !is null)\n\treturn;\n\n// Rotate camera around model when the cursor is hidden (ie when right mouse click)\nif (!ui.cursor.visible)\n{\n\tyaw = yaw + MOUSE_SENSITIVITY * input.mouseMove.x;\n\tcameraNode.RotateAround(scene_.GetChild(\"Character\", true).position, Quaternion(0.0f, yaw * 0.1, 0.0f), TS_WORLD);\n}\n\n// Save the scene\nif (input.keyPress[KEY_F5])\n{\n\tFile saveFile(fileSystem.programDir + \"Data/Scenes/IKControlDemo.xml\", FILE_WRITE);\n\tscene_.SaveXML(saveFile);\n}\n\n// Load the scene\nif (input.keyPress[KEY_F7])\n{\n    File loadFile(fileSystem.programDir + \"Data/Scenes/IKControlDemo.xml\", FILE_READ);\n    scene_.LoadXML(loadFile);\n}\n\n// Toggle debug geometry with space\nif (input.keyPress[KEY_SPACE])\n\tdrawDebug = !drawDebug;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid MoveTarget(float timeStep)\u003cbr\u003e\n{\u003cbr\u003e\n// Read directional keys and move the target to the corresponding direction if they are pressed\u003cbr\u003e\nNode@ targetBall = scene_.GetChild(‚ÄúBall‚Äù, true);\u003cbr\u003e\nNode@ targetBall2 = scene_.GetChild(‚ÄúBall2‚Äù, true);\u003cbr\u003e\nVector3 move = Vector3(0.0f, 0.0f, 0.0f);\u003cbr\u003e\nif (input.keyDown[KEY_UP]) move += Vector3(0.0f, 1.0f, 0.0f);\u003cbr\u003e\nif (input.keyDown[KEY_DOWN]) move += Vector3(0.0f, -1.0f, 0.0f);\u003cbr\u003e\nif (input.keyDown[KEY_LEFT]) move += Vector3(1.0f, 0.0f, 0.0f);\u003cbr\u003e\nif (input.keyDown[KEY_RIGHT]) move += Vector3(-1.0f, 0.0f, 0.0f);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Move target in the Z-axis using mouse wheel\nif (input.mouseMoveWheel != 0) move += Vector3(0.0f, 0.0f, -input.mouseMoveWheel * 2.0f);\n\nif (!move.Equals(Vector3(0.0f, 0.0f, 0.0f)))\n{\n\ttargetBall.Translate(move * MOVE_SPEED * timeStep);\n\ttargetBall2.position = targetBall.position * Vector3(-1.0f, 1.0f, 1.0f);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid HandleUpdate(StringHash eventType, VariantMap\u0026amp; eventData)\u003cbr\u003e\n{\u003cbr\u003e\nfloat timeStep = eventData[‚ÄúTimeStep‚Äù].GetFloat();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eMoveCamera(timeStep);\nMoveTarget(timeStep);\n\n// Drag IK effector with left mouse button click\nfloat DRAG_SENSITIVITY = 0.01f;\n\n// Play animation\nAnimationController@ animCtrl = scene_.GetChild(\"Character\", true).GetComponent(\"AnimationController\");\nif (character == \"Jack\")\n\tanimCtrl.PlayExclusive(\"Models/Jack_Walk.ani\", 0, true, 0.2);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e//\telse\u003cbr\u003e\n//\t\tanimCtrl.PlayExclusive(‚ÄúAssets/‚Äù + character + ‚Äú/Models/Run.ani‚Äù, 0, true, 0.2);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003evoid HandlePostRenderUpdate(StringHash eventType, VariantMap\u0026amp; eventData)\u003cbr\u003e\n{\u003cbr\u003e\nif (drawDebug) renderer.DrawDebugGeometry(false);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003e// Create XML patch instructions for screen joystick layout specific to this sample app\u003cbr\u003e\nString patchInstructions = ‚Äú‚Äù;\u003cbr\u003e\n[/code][/spoiler]\u003c/p\u003e\n\u003cp\u003e[spoiler][code]\u003cbr\u003e\n// Script Object is parented to forearm\u003cbr\u003e\n// node\u003cbr\u003e\n//\t  \u0026gt; armIK\u003cbr\u003e\n//\t\t\t  \u0026gt; armRotation\u003c/p\u003e\n\u003cp\u003eclass IKControl : ScriptObject\u003cbr\u003e\n{\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eNode@ forearm; //var forearm : Transform;\nNode@ hand; //var hand : Transform;\nNode@ target; // var target : Transform;\nVector3 armAxis; // Arm rotation axis. Depends on the way the skeleton has been authored.\nbool slerp = false;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e//  float transition = 1.0;\u003cbr\u003e\nfloat elbowAngle = 0.0; // ???\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eNode@ armIK; //private var armIK : Transform;\nNode@ armRotation; //private var armRotation : Transform;\n\nfloat upperArmLength;\nfloat forearmLength;\nfloat armLength;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003evoid Start()\u003cbr\u003e\n{\u003cbr\u003e\nforearm = node.children[0];\u003cbr\u003e\nif (forearm is null)\u003cbr\u003e\nreturn;\u003cbr\u003e\nhand = forearm.children[0];\u003cbr\u003e\nif (hand is null)\u003cbr\u003e\nreturn;\u003c/p\u003e\n\u003cp\u003e//  var armIKGameObject = new GameObject(‚ÄúArm IK‚Äù);\u003cbr\u003e\narmIK = scene.CreateChild(‚ÄúArmIK‚Äù); //armIK = armIKGameObject.transform;\u003cbr\u003e\narmIK.parent = node; // Parent to shoulder joint (UpperArm)\u003cbr\u003e\n//  var armRotationGameObject = new GameObject(‚ÄúArm Rotation‚Äù);\u003cbr\u003e\narmRotation = scene.CreateChild(‚ÄúArmRotation‚Äù); //armRotation = armRotationGameObject.transform;\u003cbr\u003e\narmRotation.parent = armIK;\u003cbr\u003e\nupperArmLength = (forearm.worldPosition - node.worldPosition).length; \u003ca href=\"//Vector3.Distance\"\u003e//Vector3.Distance\u003c/a\u003e(transform.position, forearm.position);\u003cbr\u003e\nforearmLength = (hand.worldPosition - forearm.worldPosition).length; \u003ca href=\"//Vector3.Distance\"\u003e//Vector3.Distance\u003c/a\u003e(forearm.position, hand.position);\u003cbr\u003e\narmLength = upperArmLength + forearmLength;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Subscribe to the SceneDrawableUpdateFinished event which is triggered after the animations have been updated, so we can apply IK to override them\nSubscribeToEvent(\"SceneDrawableUpdateFinished\", \"HandleSceneDrawableUpdateFinished\");\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid HandleSceneDrawableUpdateFinished(StringHash eventType, VariantMap\u0026amp; eventData) //function LateUpdate()\u003cbr\u003e\n{\u003cbr\u003e\nif (target is null || forearm is null || hand is null || armAxis.IsNaN())\u003cbr\u003e\nreturn;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e// Store rotation before IK\nQuaternion storeUpperArmRotation = node.worldRotation;\nQuaternion storeForearmRotation = forearm.worldRotation;\n\n// Upper Arm (node) looks target\narmIK.worldPosition = node.worldPosition;\narmIK.LookAt(forearm.worldPosition);\narmRotation.worldPosition = node.worldPosition;\narmRotation.worldRotation = node.worldRotation;\narmIK.LookAt(target.position);\nnode.worldRotation = armRotation.worldRotation;\n\n// Upper Arm IK angle\nfloat targetDistance = (target.position - node.worldPosition).length; //Vector3.Distance(transform.position, target.position);\ntargetDistance = Min(targetDistance, armLength - 0.00001); //Mathf.Min(targetDistance, armLength - 0.00001);\nfloat adjacent = ((upperArmLength * upperArmLength) - (forearmLength * forearmLength) + (targetDistance * targetDistance)) / (2 * targetDistance);\nfloat angle = Acos(adjacent / upperArmLength); //Mathf.Acos(adjacent / upperArmLength) * Mathf.Rad2Deg;\nnode.RotateAround(node.worldPosition, Quaternion(angle, armAxis), TS_WORLD); //node.RotateAround(transform.position, transform.forward, -angle);\n\n// Forearm looks target\narmIK.worldPosition = forearm.worldPosition;\narmIK.LookAt(hand.worldPosition);\narmRotation.worldPosition = forearm.worldPosition;\narmRotation.worldRotation = forearm.worldRotation;\narmIK.LookAt(target.position);\nforearm.worldRotation = armRotation.worldRotation;\n\n// Elbow angle\nnode.RotateAround(node.worldPosition, Quaternion(elbowAngle, target.position - node.worldPosition), TS_WORLD); //node.RotateAround(node.position, target.position - node.position, elbowAngle);\n\n// Transition IK rotations with animation rotation.\nif (slerp)\n{\n\tfloat transition = eventData[\"TimeStep\"].GetFloat() * 8; //Mathf.Clamp01(transition);\n\tnode.worldRotation = storeUpperArmRotation.Slerp(node.worldRotation, transition); //Quaternion.Slerp(storeUpperArmRotation, node.rotation, transition);\n\tforearm.worldRotation = storeForearmRotation.Slerp(forearm.worldRotation, transition); //Quaternion.Slerp(storeForearmRotation, forearm.rotation, transition);\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e}\u003cbr\u003e\n[/code][/spoiler]\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:06:12.858Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":82,"reads":18,"readers_count":17,"score":413.6,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.youtube.com/watch?v=FXVtBKVtXjM","internal":false,"reflection":false,"title":"Ik script tutorial! - YouTube","clicks":4},{"url":"https://github.com/sam-kelly-dev/ovr-pilot/tree/master/Assets/IK/Scripts/ik","internal":false,"reflection":false,"title":"ovr-pilot/Assets/IK/Scripts/ik at master ¬∑ sam-kelly-dev/ovr-pilot ¬∑ GitHub","clicks":2},{"url":"//Vector3.Distance","internal":false,"reflection":false,"clicks":0},{"url":"http://discourse.urho3d.io/t/inverse-kinematics/1819/2","internal":true,"reflection":true,"title":"Inverse Kinematics","clicks":1},{"url":"http://discourse.urho3d.io/t/ue4-style-ik/2021/2","internal":true,"reflection":true,"title":"UE4-style IK?","clicks":0}],"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":9,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6987,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2015-08-02T11:48:28.000Z","cooked":"\u003cp\u003eIn video i see pole target (it specify the direction of the elbow), but in this example it missing\u003c/p\u003e\n\u003cp\u003eEDIT: Pole target in blender \u003ca href=\"https://www.youtube.com/watch?v=4C1ssz8qCq0\u0026amp;t=242\"\u003eyoutube.com/watch?v=4C1ssz8qCq0\u0026amp;t=242\u003c/a\u003e\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:06:12.953Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.youtube.com/watch?v=4C1ssz8qCq0\u0026t=242","internal":false,"reflection":false,"title":"Tob's Blender 2.5 Foot Rigging Tutorial 6/10 Knee Control - YouTube","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6989,"name":"","username":"Mike","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","created_at":"2015-08-02T14:06:27.000Z","cooked":"\u003cp\u003eThanks, IKControl.js is certainly incomplete, will check the other script. Pole target aside, some rotation resets are certainly missing.\u003c/p\u003e\n\u003cp\u003eEDIT: [color=#FF0000]resetting rotations greatly improves the behavior[/color]\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:06:13.078Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":11,"readers_count":10,"score":12.2,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":9,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":6991,"name":"","username":"1vanK","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","created_at":"2015-08-02T18:18:29.000Z","cooked":"\u003cp\u003eModified version:\u003c/p\u003e\n\u003cp\u003e[code]    // Script Object is parented to forearm\u003cbr\u003e\n// node\u003cbr\u003e\n//     \u0026gt; armIK\u003cbr\u003e\n//           \u0026gt; armRotation\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eclass IKControl : ScriptObject\n{\n\n   Node@ forearm; //var forearm : Transform;\n   Node@ hand; //var hand : Transform;\n   Node@ target; // var target : Transform;\n   Vector3 armAxis; // Arm rotation axis. Depends on the way the skeleton has been authored.\n   bool slerp = false;\n\n//  float transition = 1.0;\n   float elbowAngle = 0.0; // ?????\n\n   Node@ armIK; //private var armIK : Transform;\n   Node@ armRotation; //private var armRotation : Transform;\n\n   float upperArmLength;\n   float forearmLength;\n   float armLength;\n   \n   Quaternion storeUpperArmRotation;\n   Quaternion storeForearmRotation;\n\n\nvoid Start()\n{\n   forearm = node.children[0];\n   if (forearm is null)\n      return;\n   hand = forearm.children[0];\n   if (hand is null)\n      return;\n\n   storeUpperArmRotation = node.worldRotation;\n   storeForearmRotation = forearm.worldRotation;\n\n//  var armIKGameObject = new GameObject(\"Arm IK\");\n   armIK = scene.CreateChild(\"ArmIK\"); //armIK = armIKGameObject.transform;\n   armIK.parent = node; // Parent to shoulder joint (UpperArm)\n//  var armRotationGameObject = new GameObject(\"Arm Rotation\");\n   armRotation = scene.CreateChild(\"ArmRotation\"); //armRotation = armRotationGameObject.transform;\n   armRotation.parent = armIK;\n   upperArmLength = (forearm.worldPosition - node.worldPosition).length; //Vector3.Distance(transform.position, forearm.position);\n   forearmLength = (hand.worldPosition - forearm.worldPosition).length; //Vector3.Distance(forearm.position, hand.position);\n   armLength = upperArmLength + forearmLength;\n\n   // Subscribe to the SceneDrawableUpdateFinished event which is triggered after the animations have been updated, so we can apply IK to override them\n   SubscribeToEvent(\"SceneDrawableUpdateFinished\", \"HandleSceneDrawableUpdateFinished\");\n}\n\n\nvoid HandleSceneDrawableUpdateFinished(StringHash eventType, VariantMap\u0026amp; eventData) //function LateUpdate()\n{\n   if (target is null || forearm is null || hand is null || armAxis.IsNaN())\n      return;\n\n\t// Store rotation before IK\n\tnode.worldRotation = storeUpperArmRotation;\n\tforearm.worldRotation = storeForearmRotation;\n\n   // Upper Arm (node) looks target\n   armIK.worldPosition = node.worldPosition;\n   armIK.LookAt(forearm.worldPosition);\n   armRotation.worldPosition = node.worldPosition;\n   armRotation.worldRotation = node.worldRotation;\n   armIK.LookAt(target.position);\n   node.worldRotation = armRotation.worldRotation;\n\n   // Upper Arm IK angle\n   float targetDistance = (target.position - node.worldPosition).length; //Vector3.Distance(transform.position, target.position);\n   targetDistance = Min(targetDistance, armLength - 0.00001); //Mathf.Min(targetDistance, armLength - 0.00001);\n   float adjacent = ((upperArmLength * upperArmLength) - (forearmLength * forearmLength) + (targetDistance * targetDistance)) / (2 * targetDistance);\n   float angle = Acos(adjacent / upperArmLength); //Mathf.Acos(adjacent / upperArmLength) * Mathf.Rad2Deg;\n   node.RotateAround(node.worldPosition, Quaternion(angle, armAxis), TS_WORLD); //node.RotateAround(transform.position, transform.forward, -angle);\n\n   // Forearm looks target\n   armIK.worldPosition = forearm.worldPosition;\n   armIK.LookAt(hand.worldPosition);\n   armRotation.worldPosition = forearm.worldPosition;\n   armRotation.worldRotation = forearm.worldRotation;\n   armIK.LookAt(target.position);\n   forearm.worldRotation = armRotation.worldRotation;\n\n   // Elbow angle\n   if (armAxis == Vector3(0.0f, -1.0f, 0.0f))\n        elbowAngle = 90;\n   else\n        elbowAngle = -90;\n   \n   node.RotateAround(node.worldPosition, Quaternion(elbowAngle, target.position - node.worldPosition), TS_WORLD); //node.RotateAround(node.position, target.position - node.position, elbowAngle);\n\n   // Transition IK rotations with animation rotation.\n   if (slerp)\n   {\n      float transition = eventData[\"TimeStep\"].GetFloat() * 8; //Mathf.Clamp01(transition);\n      node.worldRotation = storeUpperArmRotation.Slerp(node.worldRotation, transition); //Quaternion.Slerp(storeUpperArmRotation, node.rotation, transition);\n      forearm.worldRotation = storeForearmRotation.Slerp(forearm.worldRotation, transition); //Quaternion.Slerp(storeForearmRotation, forearm.rotation, transition);\n   }\n}\n\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e[/code]\u003c/p\u003e\n\u003cp\u003eReally resetting rotations solves the problem. I think, i found cause.\u003cbr\u003e\nnode.RotateAround add angle to current rotation every frame rather than to set a new computed angle.\u003cbr\u003e\nTherefore, if you set elbowAngle != 0 hand starts to rotate instead of elbow was directed in the right direction\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:06:13.200Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":263,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7000,"name":"","username":"Mike","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","created_at":"2015-08-03T06:03:25.000Z","cooked":"\u003cp\u003eThanks 1vanK, that is the solution that I also came up with.\u003cimg src=\"https://emoji.discourse-cdn.com/twitter/wink.png?v=5\" title=\":wink:\" class=\"emoji\" alt=\":wink:\"\u003e\u003cbr\u003e\nI‚Äôll also incorporate other interesting optimizations/features from the other script so we can easily do procedural animations.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:06:13.863Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":9,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7048,"name":"","username":"franck22000","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png","created_at":"2015-08-04T22:07:07.000Z","cooked":"\u003cp\u003eHello Mike thanks for working on this !\u003c/p\u003e\n\u003cp\u003eAre you planning to release a c++ version of your code ?\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:06:17.323Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":174,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":7052,"name":"","username":"Mike","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","created_at":"2015-08-05T06:15:49.000Z","cooked":"\u003cp\u003eFor now I‚Äôm looking at a global approach for procedural animation, in the vein of Overgrowth. Seems that it is way simpler thant I expected.\u003cbr\u003e\nI‚Äôm thinking of using an IK/FK manager component that handles and gives access to 4 limb components (2 arms \u0026amp; 2 legs), rotates the spine and allows feet to be either grounded or reach a target.\u003c/p\u003e\n\u003cp\u003eIn Urho3D porting AngelScript and Lua scripts to C++ is straightforward. Once the project will reach maturity it will be time to port.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:06:17.597Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":9,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12083,"name":"","username":"namic","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/779978/{size}.png","created_at":"2016-05-17T02:07:36.000Z","cooked":"\u003cp\u003eThat‚Äôs amazing! Thanks for the code, it‚Äôs really useful and covers missing docs on the subject. Did you had any progress with your Overgrowth-style animation? I‚Äôve created a topic about this here: \u003ca href=\"http://discourse.urho3d.io/t/ue4-style-ik/2021/1\"\u003etopic2117.html\u003c/a\u003e\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:12:21.308Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://discourse.urho3d.io/t/ue4-style-ik/2021","internal":true,"reflection":false,"title":"UE4-style IK?","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":253,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12117,"name":"","username":"Mike","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","created_at":"2016-05-18T11:12:19.000Z","cooked":"\u003cp\u003eOverall it wasn‚Äôt perfect and after trying various fixes I gave up.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:12:23.615Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1229,"topic_slug":"unity-ikcontrol-script","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":true,"admin":false,"staff":true,"user_id":9,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[6986,6987,6989,6991,7000,7048,7052,12083,12117]},"timeline_lookup":[[1,2670],[4,2669],[6,2667],[8,2381],[9,2380]],"suggested_topics":[{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7123,"title":"Character hitboxes","fancy_title":"Character hitboxes","slug":"character-hitboxes","posts_count":24,"reply_count":16,"highest_post_number":24,"image_url":null,"created_at":"2022-01-10T19:34:24.617Z","last_posted_at":"2022-01-12T22:44:20.744Z","bumped":true,"bumped_at":"2022-01-12T22:44:20.744Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}}]},{"id":7132,"title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","fancy_title":"How to Draw Anti-Aliased Outlined Line on the UI layer?","slug":"how-to-draw-anti-aliased-outlined-line-on-the-ui-layer","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/c/c040fdbc2f1856c238ba6328fd7f5ff80b15858f_2_782x1024.jpeg","created_at":"2022-01-17T22:08:06.874Z","last_posted_at":"2022-01-20T20:13:30.614Z","bumped":true,"bumped_at":"2022-01-20T20:13:30.614Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":173,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]}],"tags_descriptions":{},"id":1229,"title":"Unity IKControl script","fancy_title":"Unity IKControl script","posts_count":9,"created_at":"2015-08-02T10:54:08.000Z","views":1215,"reply_count":0,"like_count":0,"last_posted_at":"2016-05-18T11:12:19.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"unity-ikcontrol-script","category_id":10,"word_count":2352,"deleted_at":null,"user_id":9,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1229","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":9,"username":"Mike","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":2},{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"moderator":true,"trust_level":4},{"id":174,"username":"franck22000","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f4b2a3/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":253,"username":"namic","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/779978/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1}],"created_by":{"id":9,"username":"Mike","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png"},"last_poster":{"id":9,"username":"Mike","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/m/58f4c7/{size}.png"},"links":[{"url":"https://www.youtube.com/watch?v=FXVtBKVtXjM","title":"Ik script tutorial! - YouTube","internal":false,"attachment":false,"reflection":false,"clicks":4,"user_id":9,"domain":"www.youtube.com","root_domain":"youtube.com"},{"url":"https://www.youtube.com/watch?v=4C1ssz8qCq0\u0026t=242","title":"Tob's Blender 2.5 Foot Rigging Tutorial 6/10 Knee Control - YouTube","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":263,"domain":"www.youtube.com","root_domain":"youtube.com"},{"url":"https://github.com/sam-kelly-dev/ovr-pilot/tree/master/Assets/IK/Scripts/ik","title":"ovr-pilot/Assets/IK/Scripts/ik at master ¬∑ sam-kelly-dev/ovr-pilot ¬∑ GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":9,"domain":"github.com","root_domain":"github.com"},{"url":"http://discourse.urho3d.io/t/inverse-kinematics/1819/2","title":"Inverse Kinematics","internal":true,"attachment":false,"reflection":true,"clicks":1,"user_id":263,"domain":"discourse.urho3d.io","root_domain":"urho3d.io"}]}}