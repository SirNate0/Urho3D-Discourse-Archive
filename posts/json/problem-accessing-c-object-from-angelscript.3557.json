{"post_stream":{"posts":[{"id":20698,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T03:53:32.280Z","cooked":"\u003cp\u003eHello,\u003c/p\u003e\n\u003cp\u003eI have a line in AngleScript:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003eWeakHandle weakGridHandle = gridworld.GetGrid(gridworld.RealToGrid(node.position));\n\tcurrentGrid = weakGridHandle.Get();\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eThe function GetGrid returns a WeakPtr.\u003c/p\u003e\n\u003cp\u003eHowever whenever these lines are run, i get an assert error in ReCounted::AddRef() on the c++ side.\u003c/p\u003e\n\u003cp\u003eBoth gridWorld and grid objects are registered in c++:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode\u003eRegisterObject\u0026lt;GridWorld\u0026gt;(engine, \"GridWorld\");\nRegisterObject\u0026lt;Grid\u0026gt;(engine, \"Grid\");\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAnd the registration for the function that causes the issue:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eengine-\u0026gt;RegisterObjectMethod(‚ÄúGridWorld‚Äù, ‚ÄúGrid\u0026amp; GetGrid(Vector3 globalPos)‚Äù, asMETHODPR(GridWorld, GetGrid, (Vector3), WeakPtr\u0026lt;Grid\u0026gt;), asCALL_THISCALL);\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eGrid is directly derived from Object.\u003c/p\u003e\n\u003cp\u003eAny Ideas of what i could be missing?\u003c/p\u003e\n\u003cp\u003eThanks, Trevor\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-09-12T20:31:45.493Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":45,"reads":42,"readers_count":41,"score":240.4,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":5,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20719,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T07:10:35.295Z","cooked":"\u003caside class=\"quote\" data-post=\"1\" data-topic=\"3557\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/trevorcash/40/698_1.png\" class=\"avatar\"\u003e TrevorCash:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eengine-\u0026gt;RegisterObjectMethod(‚ÄúGridWorld‚Äù, ‚ÄúGrid\u0026amp; GetGrid(Vector3 globalPos)‚Äù, asMETHODPR(GridWorld, GetGrid, (Vector3), WeakPtr), asCALL_THISCALL);\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI see that you are lying here\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e\u003cstrong\u003eGrid\u0026amp;\u003c/strong\u003e GetGrid(Vector3 globalPos)\u003cbr\u003e\nGetGrid, (Vector3), \u003cstrong\u003eWeakPtr\u003c/strong\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eWhat‚Äôs actual \u003ccode\u003eGetGrid\u003c/code\u003e signature?\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-09-12T11:00:02.388Z","reply_count":1,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":2,"reads":38,"readers_count":37,"score":22.6,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20725,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T13:50:52.304Z","cooked":"\u003cp\u003eSorry did not notice the signature got messed up when I pasted in:\u003c/p\u003e\n\u003cp\u003eHere is the full signature for GetGrid:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eengine-\u0026gt;RegisterObjectMethod(‚ÄúGridWorld‚Äù, ‚ÄúGrid\u0026amp; GetGrid(Vector3 globalPos)‚Äù, asMETHODPR(GridWorld, GetGrid, (Vector3), WeakPtr\u0026lt;Grid\u0026gt;), asCALL_THISCALL);\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eUpdating Original Post.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-09-12T13:50:52.304Z","reply_count":2,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":16.4,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20726,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T13:59:26.350Z","cooked":"\u003cp\u003eSignature of AngelScript function should match the signature of C++ function. If you tell AS that \u003ccode\u003eGrid\u0026amp;\u003c/code\u003e is returned, \u003ccode\u003eGrid\u0026amp;\u003c/code\u003e shall be returned.\u003cbr\u003e\nYou probably cannot expose template things to AS including \u003ccode\u003eWeakPtr\u0026lt;Grid\u0026gt;\u003c/code\u003e (I may be wrong here), so you should return something like \u003ccode\u003eGrid*\u003c/code\u003e in both C++ and AS signatures. Urho usually use wrappes to not disturb public interface.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-09-12T13:59:26.350Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":31,"readers_count":30,"score":6.2,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20727,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T14:14:39.954Z","cooked":"\u003cp\u003eYou could also try to use \u003ccode\u003eWeakHandle\u003c/code\u003e return value in AS signature, but it‚Äôs a bit hacky.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-09-12T14:14:39.954Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":32,"readers_count":31,"score":11.4,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20731,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T19:30:49.352Z","cooked":"\u003cp\u003eThe problem seems to be with AngleScript attempting to delete the GridWorld Object after the following call in the API:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003estatic SharedPtr\u0026lt;GridWorld\u0026gt; GetGridWorld()\u003cbr\u003e\n{\u003cbr\u003e\nreturn SharedPtr\u0026lt;GridWorld\u0026gt;(GetScriptContext()-\u0026gt;GetSubsystem\u0026lt;GridWorld\u0026gt;());\u003cbr\u003e\n}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eOn the C++ side, 1 new GridWorld is created and registered as a subsystem in the global context.\u003cbr\u003e\nA SharedPtr to the GridWorld also exists as a member in my Application class just to make sure I don‚Äôt run out of references.\u003c/p\u003e\n\u003cp\u003eI put a break point in the destructor of GridWorld and that is never called.  However I keep getting crashes in ReleaseRef()\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-09-12T19:30:49.352Z","reply_count":2,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":1,"reads":24,"readers_count":23,"score":19.8,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20732,"name":"","username":"Victor","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","created_at":"2017-09-12T19:56:31.496Z","cooked":"\u003cp\u003eI‚Äôve not used AngleScript before, however that does look odd the way it‚Äôs written. If GridWorld is already created as a Subsystem singleton, couldn‚Äôt you do something like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eSharedPtr\u0026lt;GridWorld\u0026gt; GetGridWorld() { \n        return GetScriptContext()-\u0026gt;GetSubsystem\u0026lt;GridWorld\u0026gt;();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAgain, I‚Äôve not used AngleScript, but your return statement looks like you‚Äôre creating a new object that deletes itself once it‚Äôs outside of the scope of the function.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-09-12T19:56:31.496Z","reply_count":1,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":3,"reads":26,"readers_count":25,"score":25.2,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":461,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20733,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T20:06:15.529Z","cooked":"\u003caside class=\"quote\" data-post=\"7\" data-topic=\"3557\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/victor/40/430_1.png\" class=\"avatar\"\u003e Victor:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI‚Äôve not used AngleScript before, however that does look odd the way it‚Äôs written. If GridWorld is already created as a Subsystem singleton, couldn‚Äôt you do something like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eSharedPtr\u0026lt;GridWorld\u0026gt; GetGridWorld() { \n        return GetScriptContext()-\u0026gt;GetSubsystem\u0026lt;GridWorld\u0026gt;();\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eAgain, I‚Äôve not used AngleScript, but your return statement looks like you‚Äôre creating a new object that deletes itself once it‚Äôs outside of the scope of the function.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eDoes casting a pointer to a shared pointer result in a new object?  I thought perhaps that cast would simply temporarily increase the reference of the GridWorld Itself.\u003c/p\u003e\n\u003cp\u003eIf I do what you suggest - I get a compiler error because there is no implicit conversion from raw pointer to SharedPtr.\u003c/p\u003e\n\u003cp\u003eI did try simply this:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003estatic GridWorld* GetGridWorld()\u003cbr\u003e\n{\u003cbr\u003e\nreturn GetScriptContext()-\u0026gt;GetSubsystem\u0026lt;GridWorld\u0026gt;();\u003cbr\u003e\n}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eWhich interestingly now does result in the GridWorld destructor being invoked. which of course still crashes‚Ä¶\u003c/p\u003e\n\u003cp\u003eThere must be a way to keep Angel-script from taking control of singleton subsystems like this.\u003c/p\u003e\n\u003cp\u003eAgain the AngelScript code:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWeakHandle weakGridHandle = gridworld;\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eResults in the crash.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-09-12T20:06:15.529Z","reply_count":0,"reply_to_post_number":7,"quote_count":1,"incoming_link_count":0,"reads":26,"readers_count":25,"score":5.2,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20734,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T20:06:56.092Z","cooked":"\u003caside class=\"quote\" data-post=\"6\" data-topic=\"3557\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/trevorcash/40/698_1.png\" class=\"avatar\"\u003e TrevorCash:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe problem seems to be with AngleScript attempting to delete the GridWorld Object after the following call in the API:\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIf you have a problem with AngelScript, always share both C++ signature and binding code, it really helps.\u003cbr\u003e\nKeep in mind that \u003cstrong\u003eAngelScrpt has no signature validation in any form\u003c/strong\u003e (except simple syntax errors). So, incorrect signature usually lead to crash during function call.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-09-12T20:06:56.092Z","reply_count":1,"reply_to_post_number":6,"quote_count":1,"incoming_link_count":0,"reads":24,"readers_count":23,"score":9.8,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20735,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T20:12:37.559Z","cooked":"\u003cp\u003eIn my Application::Start():\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eRegisterGridWorldAPI(GetSubsystem()-\u0026gt;GetScriptEngine());\u003cbr\u003e\ncontext_-\u0026gt;RegisterSubsystem(new GridWorld(scene_, cache, camera, cameraPivot, 4, context_));\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eIn my GridWorldAPI.cpp:\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003evoid RegisterGridWorldAPI(asIScriptEngine* engine)\u003cbr\u003e\n{\u003cbr\u003e\nRegisterGridWorld(engine);\u003cbr\u003e\n}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003estatic void RegisterGridWorld(asIScriptEngine* engine)\u003cbr\u003e\n{\u003cbr\u003e\nRegisterObject(engine, ‚ÄúGridWorld‚Äù);\u003c/p\u003e\n\u003cp\u003eengine-\u0026gt;RegisterGlobalFunction(‚ÄúGridWorld@ get_gridworld()‚Äù, asFUNCTION(GetGridWorld), asCALL_CDECL);\u003cbr\u003e\n}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003estatic GridWorld* GetGridWorld()\u003cbr\u003e\n{\u003cbr\u003e\nreturn GetScriptContext()-\u0026gt;GetSubsystem\u0026lt;GridWorld\u0026gt;();\u003cbr\u003e\n}\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eEdited\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-09-12T20:18:43.564Z","reply_count":1,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":3,"reads":22,"readers_count":21,"score":24.4,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20736,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T20:24:30.286Z","cooked":"\u003cp\u003eTry \u003ccode\u003eGridWorld@+ get_gridworld()\u003c/code\u003e\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-09-12T20:30:45.542Z","reply_count":1,"reply_to_post_number":10,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":9.2,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":20737,"name":"Trevor Cash","username":"TrevorCash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","created_at":"2017-09-12T20:26:56.964Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"11\" data-topic=\"3557\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"\u003e Eugene:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eTry \u003ccode\u003eGridWorld@+ get_gridworld()\u003c/code\u003e\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eThanks Eugene, this worked. Also adding @+ to the member method signatures worked for the GetGrid functions.\u003c/p\u003e\n\u003cp\u003eClosing\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2017-09-12T20:31:13.316Z","reply_count":1,"reply_to_post_number":11,"quote_count":1,"incoming_link_count":0,"reads":21,"readers_count":20,"score":24.2,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Trevor Cash","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":792,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":20738,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2017-09-12T20:33:38.220Z","cooked":"\u003cp\u003eI recommend you to read a bit about AS bindings, they are quite sophisticated sometimes.\u003cbr\u003e\nThe main usage of \u003ccode\u003e@\u003c/code\u003e references is to give new object to AS (you should AddRef here)\u003cbr\u003e\nI suggest to always use \u003ccode\u003e@+\u003c/code\u003e references because they behave as native pointers in bindings.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2017-09-12T20:34:14.585Z","reply_count":0,"reply_to_post_number":12,"quote_count":0,"incoming_link_count":0,"reads":20,"readers_count":19,"score":34.0,"yours":false,"topic_id":3557,"topic_slug":"problem-accessing-c-object-from-angelscript","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[20698,20719,20725,20726,20727,20731,20732,20733,20734,20735,20736,20737,20738]},"timeline_lookup":[[1,1898],[6,1897]],"suggested_topics":[{"id":7105,"title":"Multiple Application.UI Roots?","fancy_title":"Multiple Application.UI Roots?","slug":"multiple-application-ui-roots","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg","created_at":"2021-12-20T08:55:14.707Z","last_posted_at":"2021-12-22T02:33:05.795Z","bumped":true,"bumped_at":"2021-12-22T02:33:05.795Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":243,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7112,"title":"What is the proper way to add more source files(.cpp and .h) to a project?","fancy_title":"What is the proper way to add more source files(.cpp and .h) to a project?","slug":"what-is-the-proper-way-to-add-more-source-files-cpp-and-h-to-a-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-27T18:18:21.946Z","last_posted_at":"2021-12-28T12:19:43.514Z","bumped":true,"bumped_at":"2021-12-28T12:19:43.514Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":195,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1498,"username":"Tryout","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/85f322/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]},{"id":7083,"title":"Using custom models in Xamarin.Forms shared project","fancy_title":"Using custom models in Xamarin.Forms shared project","slug":"using-custom-models-in-xamarin-forms-shared-project","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2021-12-03T08:34:21.895Z","last_posted_at":"2021-12-03T11:40:30.983Z","bumped":true,"bumped_at":"2021-12-03T11:40:30.983Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":198,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1493,"username":"Nikolai","name":"Nikolai Miroshnichenko","avatar_template":"/user_avatar/discourse.urho3d.io/nikolai/{size}/3632_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":3557,"title":"Problem Accessing C++ Object From AngelScript","fancy_title":"Problem Accessing C++ Object From AngelScript","posts_count":13,"created_at":"2017-09-12T03:53:32.184Z","views":804,"reply_count":11,"like_count":3,"last_posted_at":"2017-09-12T20:33:38.220Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"problem-accessing-c-object-from-angelscript","category_id":10,"word_count":804,"deleted_at":null,"user_id":792,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_3557","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":13,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":11,"username":"Eugene","excerpt":"Try GridWorld@+ get_gridworld()"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":792,"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":461,"username":"Victor","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/3e96dc/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":792,"username":"TrevorCash","name":"Trevor Cash","avatar_template":"/user_avatar/discourse.urho3d.io/trevorcash/{size}/698_2.png"},"last_poster":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}}