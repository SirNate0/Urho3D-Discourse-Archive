{"post_stream":{"posts":[{"id":37484,"name":"Brian Knox","username":"najak3d","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","created_at":"2020-04-23T07:03:42.859Z","cooked":"\u003cp\u003eWe are making good headway with Urho3D for our port to 3D.\u003c/p\u003e\n\u003cp\u003eOne thing our mapping app does is deals with 1000‚Äôs of dynamic lines, rendered over a map, and bodies of water (filled shapes).  We have it all rendering very nicely now (anti-aliased lines with outlines)‚Ä¶ but need to make it more efficient.\u003c/p\u003e\n\u003cp\u003eHow do you modify Custom Geometry vertex locations from UrhoSharp?  Does it allow access to modify the actual vertex data directly?  Or do you have to modify it in a source array and just use ‚ÄúSetData()‚Äù to set the new data (which means you need two copies)‚Ä¶   Namely, since we change it so often, we‚Äôre wanting to NOT thrash memory by recreating a new data array in memory each iteration.  Instead we‚Äôd just like to modify vertex data in-place, and re-use it (no memory allocations required after the first big one).\u003c/p\u003e\n\u003cp\u003eDoes anyone have hints about the more efficient way to do this?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-04-23T07:03:42.859Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":17,"reads":34,"readers_count":33,"score":91.8,"yours":false,"topic_id":6113,"topic_slug":"efficient-dynamic-custom-geometry","display_username":"Brian Knox","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1334,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37486,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2020-04-23T12:22:56.759Z","cooked":"\u003cp\u003eVertexBuffer, at least, has a ‚Äú\u003ca href=\"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_vertex_buffer.html#a20dd4ccb7666c5acc1abcf5034fcea00\"\u003eSetDataRange\u003c/a\u003e (const void *data, unsigned start, unsigned count, bool discard=false)‚Äù method that seems to allow what you would like. I don‚Äôt know that this behavior is exposed I‚Äôm the CustomGeometry class, you may have to switch to using a Model with regular Geometry instances that you update the VertexBuffers for. Possibly it is handled internally in CustomGeometry, likely in the Commit method, but I am guessing it‚Äôs not. I didn‚Äôt check the source, so I can‚Äôt say either way.\u003c/p\u003e\n\u003cp\u003eI do have a recommendation, though. If this is not what you‚Äôre doing, feel free to ignore it, this is mostly a guess. It sounds like you‚Äôre adding all of your lines/models/something to the same large custom geometry and then wish to update them, probably as the user moves around the map? If that is the case, I would switch to a tile- or chunk-based system where you decide the map into smaller sections that become an unchanging set of data, and then unload the distant tiles when the user gets to far away/as memory usage requires.\u003c/p\u003e\n\u003cp\u003eAlso, I‚Äôm glad you got your initial version working so quickly. Congratulations on the progress!\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-04-23T12:23:53.922Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":28,"readers_count":27,"score":10.6,"yours":false,"topic_id":6113,"topic_slug":"efficient-dynamic-custom-geometry","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_vertex_buffer.html#a20dd4ccb7666c5acc1abcf5034fcea00","internal":false,"reflection":false,"title":"Urho3D - Documentation - Urho3D::VertexBuffer Class Reference","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37487,"name":"Brian Knox","username":"najak3d","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","created_at":"2020-04-23T15:20:18.200Z","cooked":"\u003cp\u003eThank‚Äôs I saw that SetDataRange() and we‚Äôll try that today.  It seems to be exposed in UrhoSharp as well.\u003c/p\u003e\n\u003cp\u003eWe‚Äôll do a programmatic stress test to verify that whatever we do won‚Äôt be an issue.  We do have tiled data, but the presentation of this data will be swapped out for new data frequently.  Where possible, when the new data comes in, we just want to \u003cem\u003eoverwrite\u003c/em\u003e the memory where the previous data existed (pooling techniques), and just wanted to make sure that we can do something fairly efficient in this manner.\u003c/p\u003e\n\u003cp\u003eAre there ANY contributors still hanging out here?  This is odd, because Microsoft Xamarin STILL calls UrhoSharp the best solution for 3D in Xamarin.  And we spent a week looking for something better (and more alive) and could not find anything better.  Urho is it for us, it seems.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-04-23T15:20:18.200Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":6113,"topic_slug":"efficient-dynamic-custom-geometry","display_username":"Brian Knox","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1334,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[37484,37486,37487]},"timeline_lookup":[[1,944]],"suggested_topics":[{"id":7254,"title":"Android :android:urho3d-lib:generateJsonModelDebug failed task","fancy_title":"Android :android:urho3d-lib:generateJsonModelDebug failed task","slug":"android-urho3d-lib-generatejsonmodeldebug-failed-task","posts_count":14,"reply_count":8,"highest_post_number":14,"image_url":null,"created_at":"2022-05-07T08:16:09.637Z","last_posted_at":"2022-08-31T13:37:02.824Z","bumped":true,"bumped_at":"2022-08-31T13:37:02.824Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"Android :android:urho3d-lib:generateJsonModelDebug failed task","tags_descriptions":{},"like_count":2,"views":344,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1518,"username":"Joshua-PotatoMan","name":"Joshua","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/e9c0ed/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1522,"username":"tungts1101","name":"tungts1101","avatar_template":"/user_avatar/discourse.urho3d.io/tungts1101/{size}/3803_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7182,"title":"How install landscape in the format (.tor or .obj)?","fancy_title":"How install landscape in the format (.tor or .obj)?","slug":"how-install-landscape-in-the-format-tor-or-obj","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-02-03T16:58:20.976Z","last_posted_at":"2022-02-04T16:34:09.663Z","bumped":true,"bumped_at":"2022-02-04T16:34:09.663Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":"latest","description":"Most Recent Poster, Accepted Answer","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7260,"title":"Is urho3d supported on Windows 8 and below?","fancy_title":"Is urho3d supported on Windows 8 and below?","slug":"is-urho3d-supported-on-windows-8-and-below","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-05-11T12:24:39.422Z","last_posted_at":"2022-05-11T12:50:41.468Z","bumped":true,"bumped_at":"2022-05-11T12:50:41.468Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":5,"views":103,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1519,"username":"Integar","name":"Torque189","avatar_template":"/user_avatar/discourse.urho3d.io/integar/{size}/3795_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]}],"tags_descriptions":{},"id":6113,"title":"Efficient Dynamic Custom Geometry","fancy_title":"Efficient Dynamic Custom Geometry","posts_count":3,"created_at":"2020-04-23T07:03:42.780Z","views":301,"reply_count":0,"like_count":0,"last_posted_at":"2020-04-23T15:20:18.200Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"efficient-dynamic-custom-geometry","category_id":10,"word_count":527,"deleted_at":null,"user_id":1334,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6113","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"},"last_poster":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"},"links":[{"url":"https://urho3d.github.io/documentation/1.7/class_urho3_d_1_1_vertex_buffer.html#a20dd4ccb7666c5acc1abcf5034fcea00","title":"Urho3D - Documentation - Urho3D::VertexBuffer Class Reference","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":628,"domain":"urho3d.github.io","root_domain":"urho3d.github.io"}]}}