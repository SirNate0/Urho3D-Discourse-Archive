{"post_stream":{"posts":[{"id":37831,"name":"","username":"jzpekarek","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","created_at":"2020-06-06T22:54:33.758Z","cooked":"\u003cp\u003eHi, I recently upgraded from Urho3D 1.5 to Urho3D 1.7.1, and ran into a bug that I can‚Äôt seem to resolve that wasn‚Äôt a problem in 1.5. I found that when I have multiple instances of a model that use the same material, the objects all disappear. This is building on Windows, Direct3d9 (I got linker errors I couldn‚Äôt resolve when I tried Direct3D11).\u003c/p\u003e\n\u003cp\u003eI modified the StaticScene example to just create two boxes as shown below, and assign the same material to both. When I run the example, the boxes are not visible. If I change the second box to use material2, then I see the two boxes. I also found that you can use the same material on different models, and it seems to work as expected, so it appears there is an issue when using the same Material and same Model together on multiple objects. Any ideas?\u003c/p\u003e\n\u003cp\u003eNode* boxNode1 = scene_-\u0026gt;CreateChild(‚ÄúBox‚Äù);\u003cbr\u003e\nboxNode1-\u0026gt;SetPosition(Vector3(-4.0f, 0.0f, 15.0f));\u003cbr\u003e\nboxNode1-\u0026gt;SetScale(5.0f);\u003cbr\u003e\nModel* box = cache-\u0026gt;GetResource(‚ÄúModels/Box.mdl‚Äù);\u003cbr\u003e\nMaterial* material1 = cache-\u0026gt;GetResource(‚ÄúMaterials/Mushroom.xml‚Äù);\u003cbr\u003e\nMaterial* material2 = cache-\u0026gt;GetResource(‚ÄúMaterials/Terrain.xml‚Äù);\u003c/p\u003e\n\u003cp\u003eStaticModel* boxObject1 = boxNode1-\u0026gt;CreateComponent();\u003cbr\u003e\nboxObject1-\u0026gt;SetModel(box);\u003cbr\u003e\nboxObject1-\u0026gt;SetMaterial(material1);\u003c/p\u003e\n\u003cp\u003e//Create a second node, using the same model and material\u003cbr\u003e\nNode* boxNode2 = scene_-\u0026gt;CreateChild(‚ÄúBox‚Äù);\u003cbr\u003e\nboxNode2-\u0026gt;SetPosition(Vector3(4.0f, 0.0f, 15.0f));\u003cbr\u003e\nboxNode2-\u0026gt;SetScale(5.0f);\u003cbr\u003e\nStaticModel* boxObject2 = boxNode2-\u0026gt;CreateComponent();\u003cbr\u003e\nboxObject2-\u0026gt;SetModel(box);\u003cbr\u003e\nboxObject2-\u0026gt;SetMaterial(material1);\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2020-06-06T22:54:33.758Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":40,"readers_count":39,"score":18.0,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":367,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37832,"name":"","username":"jzpekarek","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","created_at":"2020-06-06T23:41:22.366Z","cooked":"\u003cp\u003eOne other thing I just realized is that the StaticScene example isn‚Äôt working for me either. If I comment out the line below, then I see all the mushrooms (all white), but with the line below enabled, they all disappear (but with some strange drawing artifacts on the right side of the screen).\u003c/p\u003e\n\u003cp\u003e//mushroomObject-\u0026gt;SetMaterial(cache-\u0026gt;GetResource(‚ÄúMaterials/Mushroom.xml‚Äù));\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2020-06-06T23:41:22.366Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":37,"readers_count":36,"score":7.4,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":367,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37833,"name":"","username":"jzpekarek","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","created_at":"2020-06-07T00:22:31.167Z","cooked":"\u003cp\u003eSorry for continuing to reply to my own post, but I figured out that the problem is related to the dynamic instancing (which happens with multiple identical models with the same material). If I turn that off, then the example works as expected, so it appears there is a problem with the dynamic instancing.\u003c/p\u003e\n\u003cp\u003eRenderer* renderer = GetSubsystem();\u003cbr\u003e\nrenderer-\u0026gt;SetDynamicInstancing(false);\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2020-06-07T00:22:31.167Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":38,"readers_count":37,"score":12.6,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":367,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37834,"name":"","username":"JTippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","created_at":"2020-06-07T02:55:17.309Z","cooked":"\u003cp\u003eMake sure you update your CoreData folders to ensure you are using the shaders for the newer Urho3D version. Having a stale CoreData folder can result in issues like that.\u003c/p\u003e\n\u003cp\u003eAdditionally, 1.7 is confirmed to be buggy. Although there hasn‚Äôt been a stable release since then, the current master is pretty stable and has fixed a lot of the issues that plague 1.7, so my recommendation is that you update to master.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2020-06-07T02:55:17.309Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":37,"readers_count":36,"score":12.4,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":30,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37837,"name":"","username":"jzpekarek","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","created_at":"2020-06-07T20:36:33.958Z","cooked":"\u003cp\u003eThanks for the suggestion, updating the CoreData didn‚Äôt work, so I‚Äôll try updating to the latest source. I downloaded the 1.8 Alpha source (not sure if that is the same as the master), but I‚Äôm still working on getting it to build (my Visual Studio was too old, so I tried upgrading to VS 2019, and somehow the installation got corrupted, so fighting with that now)\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2020-06-07T20:36:33.958Z","reply_count":1,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":0,"reads":27,"readers_count":26,"score":10.4,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":367,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":37851,"name":"","username":"jzpekarek","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","created_at":"2020-06-09T02:25:16.811Z","cooked":"\u003cp\u003eFYI, upgrading to 1.8 alpha fixed the dynamic instancing issue!\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2020-06-09T02:25:16.811Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":21,"readers_count":20,"score":34.2,"yours":false,"topic_id":6193,"topic_slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"jzpekarek","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":367,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[37831,37832,37833,37834,37837,37851]},"timeline_lookup":[[1,899],[5,898],[6,897]],"suggested_topics":[{"id":7367,"title":"How to make a full dump of this forum?","fancy_title":"How to make a full dump of this forum?","slug":"how-to-make-a-full-dump-of-this-forum","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-11-22T12:29:46.411Z","last_posted_at":"2022-11-22T17:55:34.126Z","bumped":true,"bumped_at":"2022-11-22T17:55:34.126Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":54,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}}]},{"id":7337,"title":"SphereCast() always returns with Distance=0 [SOLVED]","fancy_title":"SphereCast() always returns with Distance=0 [SOLVED]","slug":"spherecast-always-returns-with-distance-0-solved","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":null,"created_at":"2022-10-13T11:17:10.195Z","last_posted_at":"2022-10-13T16:07:59.696Z","bumped":true,"bumped_at":"2022-10-13T16:07:59.696Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":76,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7324,"title":"3D Particle Emitter Liquid Effects","fancy_title":"3D Particle Emitter Liquid Effects","slug":"3d-particle-emitter-liquid-effects","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-09-08T13:59:16.260Z","last_posted_at":"2022-09-14T08:38:38.762Z","bumped":true,"bumped_at":"2022-09-14T08:38:38.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":185,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":6193,"title":"Problem using same Material on multiple instances of the same Model","fancy_title":"Problem using same Material on multiple instances of the same Model","posts_count":6,"created_at":"2020-06-06T22:54:33.683Z","views":306,"reply_count":2,"like_count":2,"last_posted_at":"2020-06-09T02:25:16.811Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"problem-using-same-material-on-multiple-instances-of-the-same-model","category_id":7,"word_count":528,"deleted_at":null,"user_id":367,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6193","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":6,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":367,"username":"jzpekarek","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":367,"username":"jzpekarek","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png"},"last_poster":{"id":367,"username":"jzpekarek","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/9dc877/{size}.png"}}}