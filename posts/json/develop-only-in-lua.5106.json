{"post_stream":{"posts":[{"id":29440,"name":"","username":"Lunarovich","avatar_template":"/user_avatar/discourse.urho3d.io/lunarovich/{size}/2097_2.png","created_at":"2019-04-17T07:31:40.448Z","cooked":"\u003cp\u003eIs it a viable solution to develop an entiry game only in Lua? And if it is, how one proceeds with it? Can we use, for example, only Urho3DPlayer with a resource path prefix specified? Or is it OK to use some minimal Lua C++ hook file, something like the following\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eusing namespace Urho3D;\n\nGame::Game(Context* context):\n    Application(context)\n{\n\n}\n\nvoid Game::Setup()\n{\n    engineParameters_[\"FullScreen\"] = false;\n}\n\nvoid Game::Start()\n{\n    LuaScript* script = new LuaScript(context_);\n    context_-\u0026gt;RegisterSubsystem(script);\n\n    script-\u0026gt;ExecuteFile(\"LuaScripts/01_HelloWorld.lua\");\n    LuaFunction* start = script-\u0026gt;GetFunction(\"Start\");\n    start-\u0026gt;BeginCall();\n    start-\u0026gt;EndCall();    \n}\n\nvoid Game::Stop()\n{\n\n}\n\nURHO3D_DEFINE_APPLICATION_MAIN(Game)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eOr there‚Äôs some other more canonic way to do it?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2019-04-17T07:32:05.187Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":6,"reads":43,"readers_count":42,"score":38.6,"yours":false,"topic_id":5106,"topic_slug":"develop-only-in-lua","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":421,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29441,"name":"","username":"orefkov","avatar_template":"/user_avatar/discourse.urho3d.io/orefkov/{size}/1164_2.png","created_at":"2019-04-17T07:52:57.720Z","cooked":"\u003cp\u003eI have some games for android in playmarket, writed only on Urho3dPlayer + AngelScript (it worked on desktop too).\u003cbr\u003e\nAnd since the script wrapper is done for both AngelScript and Lua, I see no reason why this was impossible. Current player check script file extension and run AngelScript or Lua engines.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2019-04-17T07:52:57.720Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":42,"readers_count":41,"score":43.4,"yours":false,"topic_id":5106,"topic_slug":"develop-only-in-lua","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":584,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29442,"name":"","username":"Bluemoon","avatar_template":"/user_avatar/discourse.urho3d.io/bluemoon/{size}/348_2.png","created_at":"2019-04-17T07:56:03.742Z","cooked":"\u003cp\u003eAs much as I know, you can develop an entire game either with lua or AngelScript in Urho3D with just the Urho3DPlayer  as it is. But if you feel you need additional functionalities exposed then you would have to create bindings for those.\u003c/p\u003e\n\u003cp\u003eThe bottom line is that most of the things needed are already exposed to the scripting subsystems by default\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2019-04-17T07:56:03.742Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":42,"readers_count":41,"score":28.4,"yours":false,"topic_id":5106,"topic_slug":"develop-only-in-lua","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":94,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":29443,"name":"","username":"JTippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","created_at":"2019-04-17T09:29:21.372Z","cooked":"\u003cp\u003eThe initial prototype of my game was written in Lua. It is viable.\u003c/p\u003e\n\u003cp\u003eIn my experience, the AngelScript side of things is tighter and probably superior to the Lua side, as there are still some \u003ca href=\"https://github.com/urho3d/Urho3D/issues/649\" rel=\"nofollow noopener\"\u003eissues\u003c/a\u003e with Lua garbage collection that are intrinsic to using tolua++ to generate the bindings. Some care needs to be used when using Lua; ie, avoid generating Urho3D object garbage inside large range loops, or explicitly calling collectgarbage() at intervals inside those loops to clear out garbage before it accumulates. Where this has bitten me in the ass before has been double-nested loops iterating on images and generating Color garbage, and double-nested loops iterating on a tile map and generating Vector3 garbage. The issue manifests as increasing time spent in garbage collection every cycle, as the GC iterates large internal tables, and if allowed to grow large enough it can severely reduce framerate and cause tangible hitches or hiccups.\u003c/p\u003e\n\u003cp\u003eTo circumvent issues like this, it is best to limit the amount of Lua object garbage you generate in a frame. My solution was to implement the ‚Äòheavy‚Äô routines (procedural level generation tasks, iterating tilemaps or images, etc‚Ä¶) as C++ routines exposed to Lua script so that they don‚Äôt generate 65k temporary objects all in one whack to choke the GC. (This is probably a good idea anyway, even without the GC issue, to keep performance of these tasks as tight as possible.)\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2019-04-17T09:29:21.372Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":40,"readers_count":39,"score":53.0,"yours":false,"topic_id":5106,"topic_slug":"develop-only-in-lua","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/issues/649","internal":false,"reflection":false,"title":"Lua: Objects not being garbage collected. ¬∑ Issue #649 ¬∑ urho3d/Urho3D ¬∑ GitHub","clicks":2}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":3}],"moderator":false,"admin":false,"staff":false,"user_id":30,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[29440,29441,29442,29443]},"timeline_lookup":[[1,1316]],"suggested_topics":[{"id":7328,"title":"Any Expense if Setting AnimationState.Time to Previous Value?","fancy_title":"Any Expense if Setting AnimationState.Time to Previous Value?","slug":"any-expense-if-setting-animationstate-time-to-previous-value","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2022-09-19T17:51:43.462Z","last_posted_at":"2022-09-22T11:28:01.861Z","bumped":true,"bumped_at":"2022-09-22T11:28:01.861Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":115,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1456,"username":"Jens","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/j/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7088,"title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","fancy_title":"What Compiler is recommended for building Urho3D under Windows 7 32 bit?","slug":"what-compiler-is-recommended-for-building-urho3d-under-windows-7-32-bit","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2021-12-06T07:50:47.867Z","last_posted_at":"2021-12-06T13:55:20.901Z","bumped":true,"bumped_at":"2021-12-06T13:55:20.901Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":152,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7167,"title":":four_leaf_clover: Dry 01","fancy_title":":four_leaf_clover: Dry 01","slug":"dry-01","posts_count":33,"reply_count":26,"highest_post_number":33,"image_url":null,"created_at":"2022-01-29T06:58:35.533Z","last_posted_at":"2022-01-29T14:06:28.195Z","bumped":true,"bumped_at":"2022-01-29T11:09:43.702Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"üçÄ Dry 01","tags_descriptions":{},"like_count":2,"views":422,"category_id":6,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1004,"username":"GoldenThumbs","name":"Golden Thumbs","avatar_template":"/user_avatar/discourse.urho3d.io/goldenthumbs/{size}/1669_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]}],"tags_descriptions":{},"id":5106,"title":"Develop only in Lua","fancy_title":"Develop only in Lua","posts_count":4,"created_at":"2019-04-17T07:31:40.358Z","views":405,"reply_count":0,"like_count":6,"last_posted_at":"2019-04-17T09:29:21.372Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"develop-only-in-lua","category_id":7,"word_count":466,"deleted_at":null,"user_id":421,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_5106","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":94,"username":"Bluemoon","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/bluemoon/{size}/348_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":421,"username":"Lunarovich","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/lunarovich/{size}/2097_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":584,"username":"orefkov","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/orefkov/{size}/1164_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":421,"username":"Lunarovich","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/lunarovich/{size}/2097_2.png"},"last_poster":{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/issues/649","title":"Lua: Objects not being garbage collected. ¬∑ Issue #649 ¬∑ urho3d/Urho3D ¬∑ GitHub","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":30,"domain":"github.com","root_domain":"github.com"}]}}