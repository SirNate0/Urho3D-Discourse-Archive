{"post_stream":{"posts":[{"id":10756,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-09T16:56:42.000Z","cooked":"\u003cp\u003eIm trying to add a new buffer into the G-Buffer to handle specular color and roughness. But they way its set up is confusing me a little as OpenGL outputs gl_fragcolor[2] as the normalbuffer, the normal buffer is in sampler slot 2. but gl_fragcolor[3] is the depthbuffer and the depthbuffer is resisted as sampler 13. Similar scenario for DirectX so any help would be appreciated.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:10:46.841Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":18,"reads":8,"readers_count":7,"score":86.6,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10761,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-03-09T19:01:14.000Z","cooked":"\u003cp\u003eHi, so why you do not use this scenario ?\u003cbr\u003e\n\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg\" title=\"\"\u003e\u003cimg src=\"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg\" alt=\"\" width=\"690\" height=\"179\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003e\u003c/span\u003e\u003cspan class=\"informations\"\u003e1000√ó260\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003cbr\u003e\n\u003ca href=\"https://habrahabr.ru/company/mailru/blog/248873/\"\u003ehabrahabr.ru/company/mailru/blog/248873/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ein comments folks talked about what depth(hw) actually no real render target (so it do not use MRT output I think) (except additional user‚Äôs linear sw depth 16f/32f), so actually on this picture only used 3 - RTT = 96bit per pixel\u003cbr\u003e\nHDR - are lighting buffer for GI and self-illuminated objects\u003cbr\u003e\nalso they talked what, additional G-buffer RTTs produce move overdraw for objects in separated passes. So, they keep g-buffer as possibly tiny.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:10:47.188Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://habrahabr.ru/company/mailru/blog/248873/","internal":false,"reflection":false,"title":"Skyforge: —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ / –ë–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–∏ Mail.Ru Group / –•–∞–±—Ä–∞—Ö–∞–±—Ä","clicks":2},{"url":"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg","internal":false,"reflection":false,"title":"f34422ef554f49a3979f85c4cd9ac35c.jpg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10762,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-09T19:13:57.000Z","cooked":"\u003cp\u003e[quote=‚Äúcodingmonkey‚Äù]Hi, so why you do not use this scenario ?\u003cbr\u003e\n\u003cdiv class=\"lightbox-wrapper\"\u003e\u003ca class=\"lightbox\" href=\"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg\" title=\"\"\u003e\u003cimg src=\"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg\" alt=\"\" width=\"690\" height=\"179\"\u003e\u003cdiv class=\"meta\"\u003e\u003csvg class=\"fa d-icon d-icon-far-image svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#far-image\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003cspan class=\"filename\"\u003e\u003c/span\u003e\u003cspan class=\"informations\"\u003e1000√ó260\u003c/span\u003e\u003csvg class=\"fa d-icon d-icon-discourse-expand svg-icon\" aria-hidden=\"true\"\u003e\u003cuse xlink:href=\"#discourse-expand\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/div\u003e\u003c/a\u003e\u003c/div\u003e\u003cbr\u003e\n\u003ca href=\"https://habrahabr.ru/company/mailru/blog/248873/\"\u003ehabrahabr.ru/company/mailru/blog/248873/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ein comments folks talked about what depth(hw) actually no real render target (so it do not use MRT output I think) (except additional user‚Äôs linear sw depth 16f/32f), so actually on this picture only used 3 - RTT = 96bit per pixel\u003cbr\u003e\nHDR - are lighting buffer for GI and self-illuminated objects\u003cbr\u003e\nalso they talked what, additional G-buffer RTTs produce move overdraw for objects in separated passes. So, they keep g-buffer as possibly tiny.[/quote]\u003c/p\u003e\n\u003cp\u003eMy current issue is that the specular is an RGB colour value so there is not enough space in the current buffers. But if depth is not a real RTT then id have to add a buffer before it and move depth to the end although this is just a guess at the moment.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:10:47.262Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://habrahabr.ru/company/mailru/blog/248873/","internal":false,"reflection":false,"title":"Skyforge: —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ / –ë–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–∏ Mail.Ru Group / –•–∞–±—Ä–∞—Ö–∞–±—Ä","clicks":0},{"url":"https://habrastorage.org/files/f34/422/ef5/f34422ef554f49a3979f85c4cd9ac35c.jpg","internal":false,"reflection":false,"title":"f34422ef554f49a3979f85c4cd9ac35c.jpg","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10763,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-03-09T19:31:36.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eMy current issue is that the specular is an RGB colour value so there is not enough space in the current buffers\u003cbr\u003e\nThis leads to a natural question, can we just save F0 instead RGB values ?\u003c/p\u003e\n\u003c/blockquote\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:10:47.342Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10764,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-09T19:36:18.000Z","cooked":"\u003cp\u003e[quote=‚Äúcodingmonkey‚Äù]\u0026gt;My current issue is that the specular is an RGB colour value so there is not enough space in the current buffers\u003cbr\u003e\nThis leads to a natural question, can we just save F0 instead RGB values ?[/quote]\u003c/p\u003e\n\u003cp\u003eit represents a color, and its not ideal to recalculate this value.\u003c/p\u003e\n\u003cp\u003e[code]    \u003cspan class=\"hashtag\"\u003e#ifdef\u003c/span\u003e PBR\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    #ifdef SPECMAP // SPECULAR\n        float4 specSample = Sample2D(SpecGlossMap, iTexCoord.xy);\n        float3 specColor = specSample.rgb;\n\n        #ifdef ROUGHNESS\n            float roughness = max(0.04, specSample.a);\n        #else\n            float roughness = max(0.04, 1.0 - specSample.a);\n            roughness *= roughness;\n        #endif            \n\n\t\troughness += cRoughness;\n         roughness = pow(roughness, 2);\n        specColor *= cMatSpecColor.rgb; // mix in externally defined color\n\n    #elif METALIC // METALNESS\n        float4 roughMetalSrc = Sample2D(RoughMetalFresnel, iTexCoord.xy);\n\n        #ifdef ROUGHNESS\n            float roughness = max(0.04, roughMetalSrc.r);\n        #else\n            float roughness = max(0.04, 1.0 - roughMetalSrc.r);\n            roughness *= roughness;\n        #endif\n\n\t\troughness += cRoughness;\n         roughness = pow(roughness, 2);\n        float metalness = clamp(roughMetalSrc.g + cMetalic, 0.0, 1.0);\n        \n        float3 specColor = max(diffColor.rgb * metalness, float3(0.08, 0.08, 0.08));\n        specColor *= cMatSpecColor.rgb;\n        diffColor.rgb = diffColor.rgb - diffColor.rgb * metalness; // Modulate down the diffuse\n\t#else\n\t\tfloat roughness = cRoughness;\n        roughness *= roughness;\n\t\tfloat metalness = cMetalic;\n\n        metalness = clamp(metalness, 0.01, 1.0);\n\t \n\t\tfloat3 specColor = max(diffColor.rgb * metalness, float3(0.08, 0.08, 0.08));\n\t\tspecColor *= cMatSpecColor.rgb;\n\t\tdiffColor.rgb = diffColor.rgb - diffColor.rgb * metalness; // Modulate down the diffuse\n    #endif[/code]\u003c/code\u003e\u003c/pre\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:10:47.414Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":8,"readers_count":7,"score":1.6,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10765,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-03-09T19:51:50.000Z","cooked":"\u003cp\u003eS?bastien wrote in his topic what:\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSpecular texture is now rather constant and gloss is high-resolution \u003cspan class=\"bbcode-b\"\u003emonochrome\u003c/span\u003e. For advanced materials, a high-resolution specular texture can be authored [1].\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e\u003ca href=\"https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/\"\u003eseblagarde.wordpress.com/2011/0 ‚Ä¶ ting-mode/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003emonochrome - means 8bit in low budget case, or no? )\u003c/p\u003e\n\u003cp\u003eActually i‚Äôm do not know how they use this F0 on second rendering steps and got colored spec.\u003cbr\u003e\nBut I guess what using of monochrome Specular it‚Äôs world standard of PBR )\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:10:47.492Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/","internal":false,"reflection":false,"clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10766,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-09T19:56:03.000Z","cooked":"\u003cp\u003e[quote=‚Äúcodingmonkey‚Äù]S?bastien wrote in his topic what:\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSpecular texture is now rather constant and gloss is high-resolution \u003cspan class=\"bbcode-b\"\u003emonochrome\u003c/span\u003e. For advanced materials, a high-resolution specular texture can be authored [1].\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003e\u003ca href=\"https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/\"\u003eseblagarde.wordpress.com/2011/0 ‚Ä¶ ting-mode/\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003emonochrome - means 8bit in low budget case, or no? )\u003c/p\u003e\n\u003cp\u003eActually i‚Äôm do not know how they use this F0 on second rendering steps and got colored spec.\u003cbr\u003e\nBut I guess what using of monochrome Specular it‚Äôs world standard of PBR )[/quote]\u003c/p\u003e\n\u003cp\u003eThey are using a Spec/Gloss workflow although what worked on is mainly a Metal/Rough workflow and converting the spec to monochrome would make it a greyscale value, in a real world representation it should be all thats need but Urho3d allow for control over the specular color so this can not be the case.\u003c/p\u003e\n\u003cp\u003erefer to page 16 table3: \u003ca href=\"http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\" data-bbcode=\"true\"\u003ehttp://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf\u003c/a\u003e\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:10:47.574Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.frostbite.com/wp-content/uploads/2014/11/course_notes_moving_frostbite_to_pbr.pdf","internal":false,"reflection":false,"clicks":0},{"url":"https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/","internal":false,"reflection":false,"title":"Feeding a physically based shading model | S√©bastien Lagarde","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10767,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-03-09T20:12:19.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eThey are using a Spec/Gloss workflow although what worked on is mainly a Metal/Rough workflow and converting the spec to monochrome\u003cbr\u003e\nOh, thank for clarify. I do not figure out a lot with this PBR  rendering and so on‚Ä¶ so actually I can‚Äôt help you a lot with this.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e\u003cspan class=\"spoiler\"\u003efind slides: \u003ca href=\"http://www.slideshare.net/makeevsergey/skyforge-rendering-techkri14finalv21\"\u003eslideshare.net/makeevsergey/ ‚Ä¶ 14finalv21\u003c/a\u003e\u003cbr\u003e\nslide 72 show spec F0\u003c/span\u003e\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:10:47.655Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.slideshare.net/makeevsergey/skyforge-rendering-techkri14finalv21","internal":false,"reflection":false,"title":"Skyforge rendering tech (KRI 2014)","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10768,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-09T20:49:48.000Z","cooked":"\u003cp\u003e[quote=‚Äúcodingmonkey‚Äù]\u003cbr\u003e\nso actually I can‚Äôt help you a lot with this.[/quote]\u003c/p\u003e\n\u003cp\u003eThats ok, i just need to add a new buffer into urho3d and ill be good \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:10:47.731Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10805,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-03-10T13:09:02.000Z","cooked":"\u003cp\u003eD3D9 limits maximum rendertargets to 4, in which case there is no room for an added RT, unless hardware depth is used, which not all GPU‚Äôs support.\u003c/p\u003e\n\u003cp\u003eIt‚Äôs OK to change the D3D11 \u0026amp; GL rendering code to support more than 4 though, but please don‚Äôt touch the original deferred renderpath, which shouldn‚Äôt use any more RTs due to efficiency concerns. It‚Äôs OK if you make separate renderpath and lighting shaders for PBR.\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2017-01-02T01:10:50.388Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10807,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-10T13:17:53.000Z","cooked":"\u003cp\u003e[quote=‚Äúcadaver‚Äù]D3D9 limits maximum rendertargets to 4, in which case there is no room for an added RT, unless hardware depth is used, which not all GPU‚Äôs support.\u003c/p\u003e\n\u003cp\u003eIt‚Äôs OK to change the D3D11 \u0026amp; GL rendering code to support more than 4 though, but please don‚Äôt touch the original deferred renderpath, which shouldn‚Äôt use any more RTs due to efficiency concerns. It‚Äôs OK if you make separate renderpath and lighting shaders for PBR.[/quote]\u003c/p\u003e\n\u003cp\u003eSo far i have managed to integrate PBR alongside the Forward renderer without changing its original functionality. i plan to do the same for deferred, since its the case you dont approve of additional RT‚Äôs i will look into recalculating the specular color.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2017-01-02T01:10:50.519Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10808,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-03-10T13:29:12.000Z","cooked":"\u003cp\u003eIt wouldn‚Äôt be a problem to add RTs if you create a separate PBR deferred renderpath. Actually there would probably be two: PBR deferred non-hardware depth (with extra linear depth RT), and PBR deferred hardware depth (no depth RT needed)\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2017-01-02T01:10:50.580Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10809,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-10T13:36:26.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIt wouldn‚Äôt be a problem to add RTs if you create a separate PBR deferred renderpath. Actually there would probably be two: PBR deferred non-hardware depth (with extra linear depth RT), and PBR deferred hardware depth (no depth RT needed)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eill do some testing, but the main reasons i was avoiding adding an extra render path is PBR materials will look extreamly broken on none PBR paths, and this could confuse people who are new to the engine.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2017-01-02T01:10:50.653Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10812,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-03-10T14:16:15.000Z","cooked":"\u003cp\u003eThere are probably hundreds of ways to shoot yourself in the foot or get confused in a 3D engine (starting even from simple things like camera near and far clip) so I wouldn‚Äôt personally use that as a reason to limit myself or do a lesser implementation of some effect.\u003c/p\u003e\n\u003cp\u003eThat said, so far the renderpaths have aimed at producing the same output, so naturally it‚Äôs cleaner if no extra ones are added.\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2017-01-02T01:10:50.837Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":6,"readers_count":5,"score":6.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":10813,"name":"","username":"dragonCASTjosh","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","created_at":"2016-03-10T14:34:18.000Z","cooked":"\u003cp\u003e[quote=‚Äúcadaver‚Äù]There are probably hundreds of ways to shoot yourself in the foot or get confused in a 3D engine (starting even from simple things like camera near and far clip) so I wouldn‚Äôt personally use that as a reason to limit myself or do a lesser implementation of some effect.\u003c/p\u003e\n\u003cp\u003eThat said, so far the renderpaths have aimed at producing the same output, so naturally it‚Äôs cleaner if no extra ones are added.[/quote]\u003c/p\u003e\n\u003cp\u003eI personally dont think it would lesser the effect if i dont implement the renderpath, the worst case of not doing so would likely be less then 1 ms additional render time on a standard game scene. So i believe keeping it cleaner may be a better option in this scenario especially with dx9 limitations.\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2017-01-02T01:10:50.900Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1858,"topic_slug":"adding-to-deferred-g-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":284,"hidden":false,"trust_level":3,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[10756,10761,10762,10763,10764,10765,10766,10767,10768,10805,10807,10808,10809,10812,10813]},"timeline_lookup":[[1,2450],[2,2449]],"suggested_topics":[{"id":7179,"title":"Need help with cusomized PBR renderpath","fancy_title":"Need help with cusomized PBR renderpath","slug":"need-help-with-cusomized-pbr-renderpath","posts_count":4,"reply_count":0,"highest_post_number":4,"image_url":null,"created_at":"2022-02-01T09:04:58.692Z","last_posted_at":"2022-02-03T17:35:34.174Z","bumped":true,"bumped_at":"2022-02-03T17:35:34.174Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":13,"views":205,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":247,"username":"Dave82","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dave82/{size}/2369_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7107,"title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u003cSDL/SDL_gamecontroller.h\u003e","fancy_title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u0026lt;SDL/SDL_gamecontroller.h\u0026gt;","slug":"error-sdl-sdl-gamecontroller-h-no-such-file-or-directory-include-sdl-sdl-gamecontroller-h","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2021-12-21T15:29:52.810Z","last_posted_at":"2021-12-22T15:32:44.818Z","bumped":true,"bumped_at":"2021-12-22T15:32:44.818Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":271,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7210,"title":"Shadow Map Coverage Skewed to the Side","fancy_title":"Shadow Map Coverage Skewed to the Side","slug":"shadow-map-coverage-skewed-to-the-side","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/640dc6184f3d70ce00e656555c22db772ea941a4_2_1024x545.jpeg","created_at":"2022-02-28T15:02:02.662Z","last_posted_at":"2022-03-06T04:51:22.096Z","bumped":true,"bumped_at":"2022-03-06T04:51:22.096Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":211,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]}],"tags_descriptions":{},"id":1858,"title":"Adding to deferred G-Buffer?","fancy_title":"Adding to deferred G-Buffer?","posts_count":15,"created_at":"2016-03-09T16:56:42.000Z","views":377,"reply_count":0,"like_count":0,"last_posted_at":"2016-03-10T14:34:18.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"adding-to-deferred-g-buffer","category_id":10,"word_count":1512,"deleted_at":null,"user_id":284,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1858","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":15,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":284,"username":"dragonCASTjosh","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png","post_count":8,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":3},{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":284,"username":"dragonCASTjosh","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png"},"last_poster":{"id":284,"username":"dragonCASTjosh","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/dragoncastjosh/{size}/774_2.png"},"links":[{"url":"https://habrahabr.ru/company/mailru/blog/248873/","title":"Skyforge: —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ / –ë–ª–æ–≥ –∫–æ–º–ø–∞–Ω–∏–∏ Mail.Ru Group / –•–∞–±—Ä–∞—Ö–∞–±—Ä","internal":false,"attachment":false,"reflection":false,"clicks":2,"user_id":148,"domain":"habrahabr.ru","root_domain":"habrahabr.ru"},{"url":"https://seblagarde.wordpress.com/2011/08/17/feeding-a-physical-based-lighting-mode/","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":148,"domain":"seblagarde.wordpress.com","root_domain":"wordpress.com"}]}}