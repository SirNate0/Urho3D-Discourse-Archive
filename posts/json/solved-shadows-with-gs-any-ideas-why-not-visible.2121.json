{"post_stream":{"posts":[{"id":12852,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-16T13:24:22.000Z","cooked":"\u003cp\u003eHi there!\u003cbr\u003e\nI trying to figure out with new changes in renderer. So i porting my prev GS-related code into the new master.\u003cbr\u003e\nAnd it‚Äôs seems works in most cases fine (i mean as before), but when I try to implement shadow pass (from unlit grass onto floor) and there is nothing to visible, but in same time all shaders programs linked sucessful and grass has rendered in firs pass fine. Only shadow from grass are not visible, so my question is why?\u003c/p\u003e\n\u003cp\u003eIs shadow pass has custom primitive input state? (not from material) ?\u003cbr\u003e\nis shadow pass do not use all elements from vertex (model) (use only position semantic in vertex for example) ?\u003c/p\u003e\n\u003cp\u003etech\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u0026lt;technique vs=\"UnlitGSGrass\" ps=\"UnlitGSGrass\" gs=\"UnlitGSGrass\" vsdefines=\"VERTEXCOLOR\" gsdefines=\"VERTEXCOLOR\" psdefines=\"DIFFMAP ALPHAMASK VERTEXCOLOR\" alphamask=\"true\"\u0026gt;\n    \u0026lt;pass name=\"alpha\" blend=\"replace\"/\u0026gt;\n    \u0026lt;pass name=\"shadow\" vs=\"GrassShadow\" vsdefines=\"VERTEXCOLOR\" gs=\"GrassShadow\" gsdefines=\"VERTEXCOLOR\" ps=\"GrassShadow\" psdefines=\"ALPHAMASK\" /\u0026gt;\n\u0026lt;/technique\u0026gt;\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eforward render, pcf shadows 24bit\u003cbr\u003e\ndebug info\u003cbr\u003e\n\u003ca href=\"http://savepic.ru/10493947.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.ru/10493947m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:13:16.864Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":25,"reads":12,"readers_count":11,"score":127.4,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.ru/10493947.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10493947 - –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Ñ–æ—Ä—É–º—ã","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12853,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-07-16T13:49:45.000Z","cooked":"\u003cp\u003eShadow shader uses only the position and first texcoord in case alpha masking is needed. However you would easily end up in the same situation with a textured unlit shader as well. Otherwise there shouldn‚Äôt be anything special in how it works. If your old code was from the time before arbitrary vertex declarations, then handling them has changed quite a bit.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:13:16.928Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12855,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-16T15:43:06.000Z","cooked":"\u003cp\u003eYes I see what std shadow shader use position and texcoords.\u003cbr\u003e\nactually I use almost the same: position, texcoord(only for randomization in GS, real texcoord generated in GS for PS shader), and VertexColor\u003cbr\u003e\nanyway I guess I find the solution.\u003cbr\u003e\nI find that the shadow pass are rendered through Graphics::Draw(‚Ä¶) but I was thinking what it use only Batch::Draw(‚Ä¶). (with my GS hack code)\u003cbr\u003e\nSo that‚Äôs why it was not be visible.\u003c/p\u003e\n\u003cp\u003eFixed Graphics::Draw()\u003c/p\u003e\n\u003cp\u003e[spoiler][code]\u003cbr\u003e\nvoid BatchGroup::Draw(View* view, Camera* camera, bool allowDepthWrite) const\u003cbr\u003e\n{\u003cbr\u003e\nGraphics* graphics = view-\u0026gt;GetGraphics();\u003cbr\u003e\nRenderer* renderer = view-\u0026gt;GetRenderer();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif (instances_.Size() \u0026amp;\u0026amp; !geometry_-\u0026gt;IsEmpty())\n{\n    // Draw as individual objects if instancing not supported or could not fill the instancing buffer\n    VertexBuffer* instanceBuffer = renderer-\u0026gt;GetInstancingBuffer();\n    if (!instanceBuffer || geometryType_ != GEOM_INSTANCED || startIndex_ == M_MAX_UNSIGNED)\n    {\n        Batch::Prepare(view, camera, false, allowDepthWrite);\n\n        graphics-\u0026gt;SetIndexBuffer(geometry_-\u0026gt;GetIndexBuffer());\n        graphics-\u0026gt;SetVertexBuffers(geometry_-\u0026gt;GetVertexBuffers());\n\n        for (unsigned i = 0; i \u0026lt; instances_.Size(); ++i)\n        {\n\t\t\tif (graphics-\u0026gt;NeedParameterUpdate(SP_OBJECT, instances_[i].worldTransform_))\n\t\t\t{\n\t\t\t\tgraphics-\u0026gt;SetShaderParameter(VSP_MODEL, *instances_[i].worldTransform_);\n\t\t\t\tgraphics-\u0026gt;SetShaderParameter(GSP_MODEL, *instances_[i].worldTransform_);\n\t\t\t}\n\n\t\t\tPrimitiveType gsPrimitiveType = graphics-\u0026gt;GetEffectivePrimitiveTypeOverGSInput(geometry_-\u0026gt;GetPrimitiveType());\n\n\t\t\tgraphics-\u0026gt;Draw(gsPrimitiveType, geometry_-\u0026gt;GetIndexStart(), geometry_-\u0026gt;GetIndexCount(),\n                geometry_-\u0026gt;GetVertexStart(), geometry_-\u0026gt;GetVertexCount());\n        }\n    }\n    else\n    {\n        Batch::Prepare(view, camera, false, allowDepthWrite);\n\n        // Get the geometry vertex buffers, then add the instancing stream buffer\n        // Hack: use a const_cast to avoid dynamic allocation of new temp vectors\n        Vector\u0026lt;SharedPtr\u0026lt;VertexBuffer\u0026gt; \u0026gt;\u0026amp; vertexBuffers = const_cast\u0026lt;Vector\u0026lt;SharedPtr\u0026lt;VertexBuffer\u0026gt; \u0026gt;\u0026amp;\u0026gt;(\n            geometry_-\u0026gt;GetVertexBuffers());\n        vertexBuffers.Push(SharedPtr\u0026lt;VertexBuffer\u0026gt;(instanceBuffer));\n\n        graphics-\u0026gt;SetIndexBuffer(geometry_-\u0026gt;GetIndexBuffer());\n        graphics-\u0026gt;SetVertexBuffers(vertexBuffers, startIndex_);\n\t\tPrimitiveType gsPrimitiveType = graphics-\u0026gt;GetEffectivePrimitiveTypeOverGSInput(geometry_-\u0026gt;GetPrimitiveType());\n\t\tgraphics-\u0026gt;DrawInstanced(gsPrimitiveType, geometry_-\u0026gt;GetIndexStart(), geometry_-\u0026gt;GetIndexCount(),\n            geometry_-\u0026gt;GetVertexStart(), geometry_-\u0026gt;GetVertexCount(), instances_.Size());\n\n        // Remove the instancing buffer \u0026amp; element mask now\n        vertexBuffers.Pop();\n    }\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003cbr\u003e\n[/code][/spoiler]\u003c/p\u003e\n\u003cp\u003eBut now I have other problem unlit box with texture and shadows are gone )\u003cbr\u003e\n\u003ca href=\"http://savepic.ru/10532611.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.ru/10532611m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:13:17.046Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.ru/10532611.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10532611 - –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Ñ–æ—Ä—É–º—ã","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12868,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-17T19:57:54.000Z","cooked":"\u003cp\u003eI have solved last problem with the ‚Äúdisappeared Box‚Äù I just manualy set Primitive mode in material, by default it‚Äôs uses wrong type: point list insted triangle list\u003c/p\u003e\n\u003cp\u003eSo now I have other problem with shadows from my grass, and I thinking that this is because render gets wrong BoundaryBox of rendered model. Since I use GS for generate model I do not have ability to set BB manualy, or somehow else.\u003c/p\u003e\n\u003cp\u003eSo, Is it BB issue produce this ‚Äúshadows flickering/cliping‚Äù or something else?\u003c/p\u003e\n\u003cp\u003e[video]\u003ca href=\"https://youtu.be/PNq_ha7PfXk%5B/video%5D\"\u003ehttps://youtu.be/PNq_ha7PfXk[/video]\u003c/a\u003e\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:13:17.964Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://youtu.be/PNq_ha7PfXk%5B/video%5D","internal":false,"reflection":false,"clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12873,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-07-18T08:21:12.000Z","cooked":"\u003cp\u003eObviously if bounding box of model is smaller than what the GS creates, there is bound to be culling issues. That sounds like it could be a job for a subclass of StaticModel that can define the BB expansion.\u003c/p\u003e\n\u003cp\u003eHowever I can‚Äôt wrap my head around why moving one node would cause the other‚Äôs shadow to disappear.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:13:18.321Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12875,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2016-07-18T10:33:18.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/cadaver/40/3_1.png\" class=\"avatar\"\u003e cadaver:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHowever I can‚Äôt wrap my head around why moving one node would cause the other‚Äôs shadow to disappear.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eOrdering? I‚Äôm guessing it doesn‚Äôt matter which one is moved.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:13:18.440Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":11,"readers_count":10,"score":2.2,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12877,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-18T13:53:33.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThat sounds like it could be a job for a subclass of StaticModel that can define the BB expansion.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI hack this in minor code change style - just add\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e\n\tURHO3D_ATTRIBUTE(\"Use Manual BBox\", bool, useManualBoundingBox_, false, AM_DEFAULT);\n\tURHO3D_ATTRIBUTE(\"Manual BBox\", Vector3, manualBoundingBox_, Vector3(1,1,1), AM_DEFAULT);\u003c/code\u003e\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid StaticModel::SetBoundingBox(const BoundingBox\u0026amp; box)\n{\n\tif (!useManualBoundingBox_)\n\t\tboundingBox_ = box;\n\telse\n\t{\n\t\tboundingBox_.Clear();\n\t\tboundingBox_.Merge(manualBoundingBox_ / -2.0);\n\t\tboundingBox_.Merge(manualBoundingBox_ / 2.0);\n\t}\n\t\n    OnMarkedDirty(node_);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003caside class=\"quote\"\u003e\n\u003cblockquote\u003e\n\u003cp\u003eOrdering? I‚Äôm guessing it doesn‚Äôt matter which one is moved.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eNo, I guess it because instansing somehow ‚Äúpurge‚Äù data for shadows pass (in case GS using)\u003cbr\u003e\nbecause if I try to use two various model there is no bug, but if I try use two equal models shadows are disappears\u003cbr\u003e\nexample:\u003cbr\u003e\n[video]\u003ca href=\"https://www.youtube.com/watch?v=WA1MESkVS3E%5B/video%5D\"\u003ehttps://www.youtube.com/watch?v=WA1MESkVS3E[/video]\u003c/a\u003e\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:13:18.602Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.youtube.com/watch?v=WA1MESkVS3E%5B/video%5D","internal":false,"reflection":false,"title":"GS and Shadows 2","clicks":3}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12879,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-07-18T15:05:18.000Z","cooked":"\u003cp\u003eCan your GS handle instancing properly? If not, you could test with turning instancing off. Or if you want the GS-objects to never use instancing while others can still use it, you can use the geometry type GEOM_STATIC_NOINSTANCING.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:13:18.739Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12880,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-18T15:50:44.000Z","cooked":"\u003cp\u003eOh you right, I guess i missed something big \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=9\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e\n\u003cp\u003eafter turn-off instansing in Editor, two grass planes rendered fine with shadows\u003cbr\u003e\n\u003ca href=\"http://savepic.ru/10601886.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.ru/10601886m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eso I think, i take a look into transfoms.glsl\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e#ifdef INSTANCED\nmat4 GetInstanceMatrix()\n{\n    const vec4 lastColumn = vec4(0.0, 0.0, 0.0, 1.0);\n    return mat4(iTexCoord4, iTexCoord5, iTexCoord6, lastColumn);\n}\n#endif\u003c/code\u003e\u003cbr\u003e\nand try to find way to use instansing with GS\u003c/p\u003e\n\u003cp\u003eadd:\u003cbr\u003e\nI found interesting results of perfomance ( GS with instansing )\u003cbr\u003e\n\u003ca href=\"http://www.joshbarczak.com/blog/?p=667\"\u003ejoshbarczak.com/blog/?p=667\u003c/a\u003e\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:13:18.795Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":9,"readers_count":8,"score":11.8,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://www.joshbarczak.com/blog/?p=667","internal":false,"reflection":false,"title":"Why Geometry Shaders Are Slow (Unless you‚Äôre Intel) ‚Äì The Burning Basis Vector","clicks":3},{"url":"http://savepic.ru/10601886.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10601886 - –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Ñ–æ—Ä—É–º—ã","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":12899,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-07-19T09:16:59.000Z","cooked":"\u003cp\u003eFinally I solved this problem with using iModelMatrix it store within the propely object‚Äôs transformation, in case auto pushed shaders definition such as \u003cspan class=\"hashtag\"\u003e#INSTANCED\u003c/span\u003e\u003cbr\u003e\nSo i just fix VS\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"bbcode-b\"\u003egl_Position = pos * cModel;\u003cbr\u003e\n\u003c/span\u003e\u003cbr\u003e\nto\u003c/p\u003e\n\u003cp\u003e\u003cspan class=\"bbcode-b\"\u003egl_Position = pos * iModelMatrix; \u003c/span\u003e\u003c/p\u003e\n\u003cp\u003eNow shadowed GS-generated models working fine even with instansing\u003c/p\u003e\n\u003cp\u003egrassShadow.glsl for\u003cbr\u003e\n\u003c/p\u003e\n\u003cdiv class=\"spoiler\"\u003e\n\u003cp\u003e[pastebin]YrSeUjef[/pastebin]\u003c/p\u003e\n\u003c/div\u003e","post_number":10,"post_type":1,"updated_at":"2017-01-02T01:13:20.050Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":2121,"topic_slug":"solved-shadows-with-gs-any-ideas-why-not-visible","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[12852,12853,12855,12868,12873,12875,12877,12879,12880,12899]},"timeline_lookup":[[1,2321],[4,2319],[10,2318]],"suggested_topics":[{"id":7204,"title":"How handle with multiple scenes?","fancy_title":"How handle with multiple scenes?","slug":"how-handle-with-multiple-scenes","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-02-23T16:15:02.697Z","last_posted_at":"2022-02-23T16:15:02.762Z","bumped":true,"bumped_at":"2022-02-23T16:15:02.762Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":131,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7105,"title":"Multiple Application.UI Roots?","fancy_title":"Multiple Application.UI Roots?","slug":"multiple-application-ui-roots","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/7/74b10ce575f1b69fe43be4abcb07605d74a1d27c_2_1024x544.jpeg","created_at":"2021-12-20T08:55:14.707Z","last_posted_at":"2021-12-22T02:33:05.795Z","bumped":true,"bumped_at":"2021-12-22T02:33:05.795Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":243,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7210,"title":"Shadow Map Coverage Skewed to the Side","fancy_title":"Shadow Map Coverage Skewed to the Side","slug":"shadow-map-coverage-skewed-to-the-side","posts_count":8,"reply_count":5,"highest_post_number":8,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/6/640dc6184f3d70ce00e656555c22db772ea941a4_2_1024x545.jpeg","created_at":"2022-02-28T15:02:02.662Z","last_posted_at":"2022-03-06T04:51:22.096Z","bumped":true,"bumped_at":"2022-03-06T04:51:22.096Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":211,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster, Accepted Answer","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"}}]}],"tags_descriptions":{},"id":2121,"title":"[SOLVED] Shadows with GS: any ideas why not visible?","fancy_title":"[SOLVED] Shadows with GS: any ideas why not visible?","posts_count":10,"created_at":"2016-07-16T13:24:22.000Z","views":452,"reply_count":0,"like_count":0,"last_posted_at":"2016-07-19T09:16:59.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"solved-shadows-with-gs-any-ideas-why-not-visible","category_id":10,"word_count":1083,"deleted_at":null,"user_id":148,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2121","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":10,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":6,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2},{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"last_poster":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"links":[{"url":"http://savepic.ru/10493947.htm","title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10493947 - –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Ñ–æ—Ä—É–º—ã","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":148,"domain":"savepic.ru","root_domain":"savepic.ru"},{"url":"https://www.youtube.com/watch?v=WA1MESkVS3E%5B/video%5D","title":"GS and Shadows 2","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":148,"domain":"www.youtube.com","root_domain":"youtube.com"},{"url":"https://youtu.be/PNq_ha7PfXk%5B/video%5D","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":148,"domain":"youtu.be","root_domain":"youtu.be"},{"url":"http://www.joshbarczak.com/blog/?p=667","title":"Why Geometry Shaders Are Slow (Unless you‚Äôre Intel) ‚Äì The Burning Basis Vector","internal":false,"attachment":false,"reflection":false,"clicks":3,"user_id":148,"domain":"www.joshbarczak.com","root_domain":"joshbarczak.com"},{"url":"http://savepic.ru/10532611.htm","title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 10532611 - –í—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ñ–æ—Ç–æ –∏ –∫–∞—Ä—Ç–∏–Ω–∫–∏ –≤ —Ñ–æ—Ä—É–º—ã","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":148,"domain":"savepic.ru","root_domain":"savepic.ru"}]}}