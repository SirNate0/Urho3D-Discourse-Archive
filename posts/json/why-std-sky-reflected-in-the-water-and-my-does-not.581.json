{"post_stream":{"posts":[{"id":3236,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2014-11-25T12:16:17.000Z","cooked":"\u003cp\u003ei record video demo of this problem.\u003c/p\u003e\n\u003cdiv class=\"lazyYT\" data-youtube-id=\"YFDy6Bf-VWc\" data-youtube-title=\"water reflects\" data-width=\"480\" data-height=\"270\" data-parameters=\"feature=oembed\u0026amp;wmode=opaque\"\u003e\u003c/div\u003e\n\u003cp\u003estandart sky doom reflected in water but my sky sphere does not.\u003cbr\u003e\nwhy?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-06-29T07:59:56.855Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":13,"reads":8,"readers_count":7,"score":66.6,"yours":false,"topic_id":581,"topic_slug":"why-std-sky-reflected-in-the-water-and-my-does-not","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://www.youtube.com/watch?v=YFDy6Bf-VWc","internal":false,"reflection":false,"title":"water reflects","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3246,"name":"hd_","username":"hdunderscore","avatar_template":"/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png","created_at":"2014-11-25T21:16:37.000Z","cooked":"\u003cp\u003eInteresting that it works in the editor.\u003cbr\u003e\n[ul][li]When you open the console in your game (f1), or look at the log, are there errors loading resources?[/li]\u003cbr\u003e\n[li]Do you have a diffuse texture on the water material ?[/li][/ul]\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:01:31.584Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":581,"topic_slug":"why-std-sky-reflected-in-the-water-and-my-does-not","display_username":"hd_","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Contributor","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":114,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3247,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2014-11-25T21:58:08.000Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eInteresting that it works in the editor\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003ein editor water always reflect random texture, just in that time it reflect right texture )\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e?Do you have a diffuse texture on the water material ?\u003cbr\u003e\nyes, i‚Äôm created diff texure manualy in c++ code\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid GameMain::WaterSetup(Urho3D::String waterNodeName) \n{\n\tResourceCache* cache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\tGraphics* graphics = GetSubsystem\u0026lt;Graphics\u0026gt;();\n\n\t// ??????? ????? ???? ?? ???????????? ?????? ? ???????? ?? ???-?????\n\tNode* waterNode_ = scene_-\u0026gt;GetChild(\"waterNode\",true);\n\tStaticModel* waterMesh = waterNode_-\u0026gt;GetComponent\u0026lt;StaticModel\u0026gt;();\n\t// ???????? ???? ???-????? ????? ???????? ?? ?? ?????? ??????? ????? ???????? \n\twaterMesh-\u0026gt;SetViewMask(0x80000000);\n\n\t// ????????? ? ????. ?????????\n\t//???????? ????????? ???? ??? ??????????\n\twaterPlane_ = Plane(waterNode_-\u0026gt;GetWorldRotation() * Vector3(0.0f, 1.0f, 0.0f), waterNode_-\u0026gt;GetWorldPosition()); \n\t// ? ???? ????????????\n\twaterClipPlane_ = Plane(waterNode_-\u0026gt;GetWorldRotation() * Vector3(0.0f, 1.0f, 0.0f), waterNode_-\u0026gt;GetWorldPosition() - Vector3(0.0f, 0.1f, 0.0f));\n\n\t// ???????? ?????? ??? ?????????\n\t// ??? ????? ????? ???? ????? ????????? ????????? ? ???????, ??? ? ??????? ?????? ????.\n\treflectionCameraNode_ = cameraNode_-\u0026gt;CreateChild();\n\tCamera* reflectionCamera = reflectionCameraNode_-\u0026gt;CreateComponent\u0026lt;Camera\u0026gt;();\n\n\treflectionCamera-\u0026gt;SetFarClip(1000.0);\n\treflectionCamera-\u0026gt;SetFov(75.0f);\n\treflectionCamera-\u0026gt;SetViewMask(0x7fffffff); // Hide objects with only bit 31 in the viewmask (the water plane)\n\treflectionCamera-\u0026gt;SetAutoAspectRatio(false);\n\treflectionCamera-\u0026gt;SetUseReflection(true);\n\treflectionCamera-\u0026gt;SetReflectionPlane(waterPlane_);\n\treflectionCamera-\u0026gt;SetUseClipping(true); // Enable clipping of geometry behind water plane\n\treflectionCamera-\u0026gt;SetClipPlane(waterClipPlane_);\n\t// The water reflection texture is rectangular. Set reflection camera aspect ratio to match\n\treflectionCamera-\u0026gt;SetAspectRatio((float)graphics-\u0026gt;GetWidth() / (float)graphics-\u0026gt;GetHeight());\n\n\n\t// C??????? ???????? ? ???????? ?? ??? ??? ?????????, ?????????? ???????? ??? ????? ????? ? ????????? ???? \n\tint texSize = 2048;\n\tSharedPtr\u0026lt;Texture2D\u0026gt; renderTexture(new Texture2D(context_));\n\trenderTexture-\u0026gt;SetSize(texSize, texSize, Graphics::GetRGBFormat(), TEXTURE_RENDERTARGET);\n\trenderTexture-\u0026gt;SetFilterMode(FILTER_BILINEAR);\n\tRenderSurface* surface = renderTexture-\u0026gt;GetRenderSurface();\n\tSharedPtr\u0026lt;Viewport\u0026gt; rttViewport(new Viewport(context_, scene_, reflectionCamera));\n\tsurface-\u0026gt;SetViewport(0, rttViewport);\n\tMaterial* waterMat = cache-\u0026gt;GetResource\u0026lt;Material\u0026gt;(\"Materials/Water.xml\");\n\twaterMat-\u0026gt;SetTexture(TU_DIFFUSE, renderTexture);\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI believe this is due to\u003cbr\u003e\nbecause i‚Äôm using the usual great texture and not use cubemap for my sky sphere, besides i‚Äôm manualy fix( hack) constant bias = 1 in material for my sky.\u003c/p\u003e\n\u003cp\u003eBut how can I use on cubemap my sphere sky mesh ?)\u003c/p\u003e\n\u003cp\u003eMoreover I do not need doom-like sky.\u003cbr\u003e\ni needed the lower part of the sphere too\u003cbr\u003e\nbecause my land in air and sky on the bottom of the world, should be seen too.\u003c/p\u003e\n\u003cp\u003eMay simply try to use cube mesh ?)\u003cbr\u003e\nand to hell with it, I bake for him sky cubemap texture in a blender )\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:01:31.652Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":581,"topic_slug":"why-std-sky-reflected-in-the-water-and-my-does-not","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3259,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2014-11-26T20:14:49.000Z","cooked":"\u003cp\u003eI came up with an easier way, I copied the standard technique skybox and renamed it to skysphere and in file i‚Äôm changed the name of the shader to skysphere.\u003cbr\u003e\nthen i found the skybox.hlsl and copied it, then renamed to skysphere.hlsl and corrected for my sphere\u003cbr\u003e\nlike this:\u003c/p\u003e\n\u003cp\u003eskysphere.hlsl\u003c/p\u003e\n\u003cp\u003e[code]\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúUniforms.hlsl‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúSamplers.hlsl‚Äù\u003cbr\u003e\n\u003cspan class=\"hashtag\"\u003e#include\u003c/span\u003e ‚ÄúTransform.hlsl‚Äù\u003c/p\u003e\n\u003cp\u003evoid VS(float4 iPos : POSITION, float2 iTexCoord: TEXCOORD0,\u003cbr\u003e\nout float4 oPos : POSITION,\u003cbr\u003e\nout float2 oTexCoord : TEXCOORD0)\u003cbr\u003e\n{\u003cbr\u003e\nfloat4x3 modelMatrix = iModelMatrix;\u003cbr\u003e\nfloat3 worldPos = GetWorldPos(modelMatrix);\u003cbr\u003e\noPos = GetClipPos(worldPos);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eoPos.z = oPos.w;\noTexCoord = iTexCoord;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003evoid PS(float3 iTexCoord : TEXCOORD0,\u003cbr\u003e\nout float4 oColor : COLOR0)\u003cbr\u003e\n{\u003cbr\u003e\noColor = cMatDiffColor * tex2D(sDiffMap, iTexCoord);\u003cbr\u003e\n}[/code]\u003c/p\u003e\n\u003cp\u003enow it working like as it should be\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-06-29T07:59:46.617Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":581,"topic_slug":"why-std-sky-reflected-in-the-water-and-my-does-not","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true}],"stream":[3236,3246,3247,3259]},"timeline_lookup":[[1,2920],[2,2919],[4,2918]],"suggested_topics":[{"id":7097,"title":"View Physics event for ConvexCast","fancy_title":"View Physics event for ConvexCast","slug":"view-physics-event-for-convexcast","posts_count":11,"reply_count":5,"highest_post_number":11,"image_url":null,"created_at":"2021-12-09T23:56:27.507Z","last_posted_at":"2021-12-12T20:20:02.788Z","bumped":true,"bumped_at":"2021-12-12T20:20:02.788Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":206,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7250,"title":"CMake freezes with -D options","fancy_title":"CMake freezes with -D options","slug":"cmake-freezes-with-d-options","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-05-02T16:47:01.579Z","last_posted_at":"2022-05-06T08:26:07.285Z","bumped":true,"bumped_at":"2022-05-06T08:26:07.285Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":138,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":581,"title":"Why std sky reflected in the water and my does not","fancy_title":"Why std sky reflected in the water and my does not","posts_count":4,"created_at":"2014-11-25T12:16:17.000Z","views":353,"reply_count":0,"like_count":0,"last_posted_at":"2014-11-26T20:14:49.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"why-std-sky-reflected-in-the-water-and-my-does-not","category_id":10,"word_count":522,"deleted_at":null,"user_id":148,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_581","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":4,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":4,"username":"codingmonkey","excerpt":"I came up with an easier way, I copied the standard technique skybox and renamed it to skysphere and in file i‚Äôm changed the name of the shader to skysphere. \nthen i found the skybox.hlsl and copied it, then renamed to skysphere.hlsl and corrected for my sphere \nlike this: \nskysphere.hlsl \n[code]#in\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":114,"username":"hdunderscore","name":"hd_","avatar_template":"/user_avatar/discourse.urho3d.io/hdunderscore/{size}/1151_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"last_poster":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"}}}