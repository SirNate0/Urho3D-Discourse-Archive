{"post_stream":{"posts":[{"id":3634,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-16T02:20:59.000Z","cooked":"\u003cp\u003eHello\u003c/p\u003e\n\u003cp\u003eI revised some code to create a GameObject component so it can hold a object lifetime, creation date/time, and additional information once added.\u003c/p\u003e\n\u003cp\u003eThe question, I have is  how do test the time between the creation time and the lifetime, based on Urho3d built in timers. I was thinking in the main Postupdate event. It can loop through the nodes and test for a object lifetime.\u003c/p\u003e\n\u003cp\u003e/// Base code\u003cbr\u003e\nGameObject::GameObject(Context* context) :\u003cbr\u003e\nLogicComponent(context),\u003cbr\u003e\nGameObjectType(0),\u003cbr\u003e\nGameObjectLifetime(0),\u003cbr\u003e\nGameObjectLifetimeCreated(0)\u003c/p\u003e\n\u003cp\u003e{\u003cbr\u003e\n/// Only the physics update event is needed: unsubscribe from the rest for optimization\u003cbr\u003e\nSetUpdateEventMask(USE_FIXEDUPDATE);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003ePart of the code for the GameObject\u003c/p\u003e\n\u003cp\u003e[code]/// Registering a object\u003cbr\u003e\nvoid GameObject::RegisterObject(Context* context)\u003cbr\u003e\n{\u003cbr\u003e\ncontext-\u0026gt;RegisterFactory();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/// These macros register the class attributes to the Context for automatic load / save handling.\n// We specify the Default attribute mode which means it will be used both for saving into file, and network replication\nATTRIBUTE(GameObject, VAR_INT, \"Game Object Type\", GameObjectType, 0, AM_DEFAULT);\nATTRIBUTE(GameObject, VAR_INT, \"Game Lifetime\", GameObjectLifetime, 0, AM_DEFAULT);\nATTRIBUTE(GameObject, VAR_INT, \"Game Lifetime Created\", GameObjectLifetimeCreated, 0, AM_DEFAULT);\n\nreturn;[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003eCode I can probably move to test lifetime in a eventupdate of either the individual object or the whole scene which I prefer.\u003c/p\u003e\n\u003cp\u003e[code]/// Get node list\u003cbr\u003e\nPODVector \u0026lt;Node *\u0026gt; NodesVector;\u003cbr\u003e\nscene_ -\u0026gt; GetChildren (NodesVector, true);\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/// Set necessary objects\nNode * OrphanNode;\nString Nodename;\n\n/// loop nodes\nfor(int i=0; i \u0026lt; NodesVector.Size(); i++)\n{\n    /// Do nothing like copy the node vector to a node\n    OrphanNode = NodesVector[i];\n\n    /// Add a component\n    GameObject * OrphanNodeGameObject = OrphanNode-\u0026gt; CreateComponent \u0026lt;GameObject\u0026gt;();\n\n    OrphanNodeGameObject -\u0026gt; SetLifetime(0);\n\n}[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eVivienne\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:02:01.267Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":21,"reads":14,"readers_count":13,"score":107.8,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3635,"name":"","username":"JTippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","created_at":"2014-12-16T03:59:22.000Z","cooked":"\u003cp\u003eI‚Äôm kind of uneasy about this ‚ÄúGameObject‚Äù approach. What is a GameObject? Is a Treasure Chest a GameObject? The player? Is a tree? Why is it named so generically? It seems to me like a GameObject would tend to accumulate all sorts of useless cruft in the same manner that traditional deep object hierarchies did; and, in fact, you can see it with this lifetime counter. Do all GameObjects need a lifetime counter? What if a type of GameObject is intended to exist perpetually and not track its lifetime? In such a case you have waste.\u003c/p\u003e\n\u003cp\u003eMy approach has so far been to break GameObjects down into components, which is how the library itself is structured. GameObjects are Nodes, aggregated from components and child nodes. Really, that‚Äôs the heart and soul of a component system. So instead of including time life counter in some general-purpose GameObject, I would instead include it in a special-case component or script object. ie (in Lua):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eTimedLifeComponent=ScriptObject()\nfunction TimedLifeComponent:Start()\n     self.life=0\n    self.timeToLive=10\nend\n\nfunction TimedLifeComponent:Update(dt)\n    self.life=self.life+dt\n    if self.life\u0026gt;self.timeToLive then\n        self.node:SendEvent(\"TimeToLiveEnded\")  -- Or some other means of telling the game this object needs to end\n    end\nend\n\nfunction TimedLifeComponent:SetTimeToLive(ttl)\n    self.timeToLive=ttl\nend\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, any game object that needs to have a life counter can just add a TimedLifeComponent script instance:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003etimer=gameobject:CreateScriptObject(TimedLifeComponent)\ntimer:SetTimeToLive(43)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis way, the game at large doesn‚Äôt really need to know or care about which objects have a timed life. There is no need to loop through all nodes (and there can be a great many nodes in some games, so this really isn‚Äôt that practical). You just need to figure out what to do with an object when it passes the\"TimeToLiveEnded\" event. (And sane object despawning is a problem all fair-sized games need to handle gracefully.)\u003c/p\u003e\n\u003cp\u003eReally, any time you start finding yourself writing overly general classes like GameObject, you ought to step back and take a look at your design. Large god-objects like that can ALWAYS be broken down into smaller, more atomicized responsibilities.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:02:01.348Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":15,"readers_count":14,"score":8.0,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":30,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3636,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-16T04:11:20.000Z","cooked":"\u003cp\u003eGame object is a component in a  general term with only a few variables to define the type, parent(s), children(s), time of life.  If anything, It could be used as a postupdate event for that component, nod, or a loop through.\u003c/p\u003e\n\u003cp\u003eGameObject is a component attached to a node. I‚Äôm coding it in C++ so it would be integrated into the actual game.\u003c/p\u003e\n\u003cp\u003eAs for looping, there will be a lot of things going on so at this point. I could put in special-case areas but I‚Äôll probably have to loop through objects nodes anyway.\u003c/p\u003e\n\u003cp\u003e[quote=‚ÄúJTippetts‚Äù]I‚Äôm kind of uneasy about this ‚ÄúGameObject‚Äù approach. What is a GameObject? Is a Treasure Chest a GameObject? The player? Is a tree? Why is it named so generically? It seems to me like a GameObject would tend to accumulate all sorts of useless cruft in the same manner that traditional deep object hierarchies did; and, in fact, you can see it with this lifetime counter. Do all GameObjects need a lifetime counter? What if a type of GameObject is intended to exist perpetually and not track its lifetime? In such a case you have waste.\u003c/p\u003e\n\u003cp\u003eMy approach has so far been to break GameObjects down into components, which is how the library itself is structured. GameObjects are Nodes, aggregated from components and child nodes. Really, that‚Äôs the heart and soul of a component system. So instead of including time life counter in some general-purpose GameObject, I would instead include it in a special-case component or script object. ie (in Lua):\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eTimedLifeComponent=ScriptObject()\nfunction TimedLifeComponent:Start()\n     self.life=0\n    self.timeToLive=10\nend\n\nfunction TimedLifeComponent:Update(dt)\n    self.life=self.life+dt\n    if self.life\u0026gt;self.timeToLive then\n        self.node:SendEvent(\"TimeToLiveEnded\")  -- Or some other means of telling the game this object needs to end\n    end\nend\n\nfunction TimedLifeComponent:SetTimeToLive(ttl)\n    self.timeToLive=ttl\nend\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eNow, any game object that needs to have a life counter can just add a TimedLifeComponent script instance:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003etimer=gameobject:CreateScriptObject(TimedLifeComponent)\ntimer:SetTimeToLive(43)\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThis way, the game at large doesn‚Äôt really need to know or care about which objects have a timed life. There is no need to loop through all nodes (and there can be a great many nodes in some games, so this really isn‚Äôt that practical). You just need to figure out what to do with an object when it passes the\"TimeToLiveEnded\" event. (And sane object despawning is a problem all fair-sized games need to handle gracefully.)\u003c/p\u003e\n\u003cp\u003eReally, any time you start finding yourself writing overly general classes like GameObject, you ought to step back and take a look at your design. Large god-objects like that can ALWAYS be broken down into smaller, more atomicized responsibilities.[/quote]\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:02:01.425Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":14,"readers_count":13,"score":2.8,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3637,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-16T04:16:53.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jtippetts/40/357_1.png\" class=\"avatar\"\u003e JTippetts:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eReally, that‚Äôs the heart and soul of a component system. So instead of including time life counter in some general-purpose GameObject, I would instead include it in a special-case component or script object. ie (in Lua)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt‚Äôs coded as a component.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:02:01.500Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3638,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-16T04:33:06.000Z","cooked":"\u003cp\u003eThis might work as the component  The main thing the timestep created is important so I have to calculate that.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e/// Fix update\nvoid GameObject::FixedUpdate(float timeStep)\n{\n    // Disappear when duration expired\n    if (GameObjectLifetime \u0026gt;= 0)\n    {\n        GameObjectLifetime -= timeStep;\n        if (GameObjectLifetime \u0026lt;= 0)\n            node_-\u0026gt;Remove();\n    }\n    return;\n}\n\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eMy idea is\u003c/p\u003e\n\u003cp\u003e[code]/// Fix update\u003cbr\u003e\n/// Creation of a game object\u003cbr\u003e\nvoid GameObject::Start()\u003cbr\u003e\n{\u003cbr\u003e\n// code to set  time created here\u003cbr\u003e\nGameObjectLifetimeCreated = (?) GetTimeStep();\u003cbr\u003e\nreturn;\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003evoid GameObject::FixedUpdate(float timeStep)\u003cbr\u003e\n{\u003cbr\u003e\n// Disappear when duration expired\u003cbr\u003e\nif (GameObjectLifetime+GameObjectLifetimeCreated \u0026gt;= GameObjectLifetimeCreated)\u003cbr\u003e\n{\u003cbr\u003e\nGameObjectLifetime -= timeStep;\u003cbr\u003e\nif (GameObjectLifetime \u0026lt;= 0)\u003cbr\u003e\nnode_-\u0026gt;Remove();\u003cbr\u003e\n/// Send out a event notice or something\u003cbr\u003e\n}\u003cbr\u003e\nreturn;\u003cbr\u003e\n}\u003cbr\u003e\n[/code]\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:02:01.572Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":15,"readers_count":14,"score":13.0,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3645,"name":"","username":"JTippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","created_at":"2014-12-16T17:27:17.000Z","cooked":"\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/vivienneanthony/40/942_1.png\" class=\"avatar\"\u003e vivienneanthony:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e[quote=‚ÄúJTippetts‚Äù]Really, that‚Äôs the heart and soul of a component system. So instead of including time life counter in some general-purpose GameObject, I would instead include it in a special-case component or script object. ie (in Lua)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt‚Äôs coded as a component.[/quote]\u003c/p\u003e\n\u003cp\u003eMy objection is that it‚Äôs coded as part of some kind of nebulously-named, apparently general-case component called GameObject. Ostensibly, GameObject is used by any object in the game, so all objects in the game thus become burdened with this lifetime-limiting functionality whether they need it or not. Sure, you could turn it off for those that don‚Äôt need it, but it‚Äôs still waste and cruft. I think that any component needs to hold to the Single Responsibility Principle. A StaticModel is just that: a static model. A Light is just a Light. A GameObject is‚Ä¶ what? Some sort of aggregate? Architecturally, the aggregation should take place in Node and the components themselves should be simple.\u003c/p\u003e\n\u003cp\u003eMy proposed solution was a component (I wrote it as a ScriptObject, but it could easily be a C++ component) that ONLY handles lifetime management. It doesn‚Äôt track parents, children or type. It doesn‚Äôt have any of this general-purpose GameObject stuff. It only tracks lifetime. You could add such a component to those game objects that need it, and those that don‚Äôt need it don‚Äôt get one. No need to special-case or turn off anything in GameObject.\u003c/p\u003e\n\u003cp\u003eI wonder, too, about your use of GameObject to track things such as parent (which can be obtained through the Node interface instead), type (which can be stored in a Node-level user variable if it‚Äôs really necessary) or children (which again can be accessed through the Node). Again, this strikes me as a component that is trying to take on too much responsibility. It gets back to the same old mess of polymorphic hierarchies trying to include everything, including the kitchen sink, in order to account for all possible object types; worse, you are deliberately bypassing the wonderful composition framework provided by Urho in order to make it.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2017-01-02T01:02:02.089Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":30,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3652,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-17T04:09:31.000Z","cooked":"\u003cp\u003eHmmm. Maybe GameObject is too broad of a term. I think maybe ObjectLifetime.\u003c/p\u003e\n\u003cp\u003eI‚Äôm thinking every node will have a ObjectLifetime.  I‚Äôm going want the ability to change or reset the lifetime, and additionally apply a muiltiple to decrease the lifetime(aging).\u003c/p\u003e\n\u003cp\u003eAs for future coding, I am thinking Nodes might have a one-to-many or many-to-one relationship,  in with some type of Hierarchy component is needed.\u003c/p\u003e\n\u003cp\u003eFor example, two players wearing a suit on a spaceship. The ship would be the parent node. The spacesuit would be a child node and the players inside would be nodes inside of that.\u003c/p\u003e\n\u003caside class=\"quote\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jtippetts/40/357_1.png\" class=\"avatar\"\u003e JTippetts:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003e[quote=‚Äúvivienneanthony‚Äù][quote=‚ÄúJTippetts‚Äù]Really, that‚Äôs the heart and soul of a component system. So instead of including time life counter in some general-purpose GameObject, I would instead include it in a special-case component or script object. ie (in Lua)\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt‚Äôs coded as a component.[/quote]\u003c/p\u003e\n\u003cp\u003eMy objection is that it‚Äôs coded as part of some kind of nebulously-named, apparently general-case component called GameObject. Ostensibly, GameObject is used by any object in the game, so all objects in the game thus become burdened with this lifetime-limiting functionality whether they need it or not. Sure, you could turn it off for those that don‚Äôt need it, but it‚Äôs still waste and cruft. I think that any component needs to hold to the Single Responsibility Principle. A StaticModel is just that: a static model. A Light is just a Light. A GameObject is‚Ä¶ what? Some sort of aggregate? Architecturally, the aggregation should take place in Node and the components themselves should be simple.\u003c/p\u003e\n\u003cp\u003eMy proposed solution was a component (I wrote it as a ScriptObject, but it could easily be a C++ component) that ONLY handles lifetime management. It doesn‚Äôt track parents, children or type. It doesn‚Äôt have any of this general-purpose GameObject stuff. It only tracks lifetime. You could add such a component to those game objects that need it, and those that don‚Äôt need it don‚Äôt get one. No need to special-case or turn off anything in GameObject.\u003c/p\u003e\n\u003cp\u003eI wonder, too, about your use of GameObject to track things such as parent (which can be obtained through the Node interface instead), type (which can be stored in a Node-level user variable if it‚Äôs really necessary) or children (which again can be accessed through the Node). Again, this strikes me as a component that is trying to take on too much responsibility. It gets back to the same old mess of polymorphic hierarchies trying to include everything, including the kitchen sink, in order to account for all possible object types; worse, you are deliberately bypassing the wonderful composition framework provided by Urho in order to make it.[/quote]\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2017-01-02T01:02:02.628Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":13,"readers_count":12,"score":2.6,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3653,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-17T04:36:59.000Z","cooked":"\u003cp\u003eDoes this make sense? I will name GameObject probably to Lifetime (component). This would apply to all objects.\u003c/p\u003e\n\u003cp\u003e[code]/// Base code\u003cbr\u003e\nGameObject::GameObject(Context* context) :\u003cbr\u003e\nLogicComponent(context),\u003cbr\u003e\nGameObjectLifetime(-1.0f)\u003cbr\u003e\n{\u003cbr\u003e\n/// Only the physics update event is needed: unsubscribe from the rest for optimization\u003cbr\u003e\nSetUpdateEventMask(USE_FIXEDUPDATE);\u003cbr\u003e\n}\u003c/p\u003e\n\u003cp\u003e/// Registering a object\u003cbr\u003e\nvoid GameObject::RegisterObject(Context* context)\u003cbr\u003e\n{\u003cbr\u003e\ncontext-\u0026gt;RegisterFactory();\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e/// These macros register the class attributes to the Context for automatic load / save handling.\n// We specify the Default attribute mode which means it will be used both for saving into file, and network replication\nATTRIBUTE(GameObject, VAR_FLOAT, \"Game Lifetime\", GameObjectLifetime, -1.0f, AM_DEFAULT);\n\nreturn;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e/// Creation of a game object\u003cbr\u003e\nvoid GameObject::Start()\u003cbr\u003e\n{\u003cbr\u003e\n/// Set\u003cbr\u003e\nGameObjectLifetime = -1.0f;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ereturn;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e/// Fix update\u003cbr\u003e\nvoid GameObject::FixedUpdate(float timeStep)\u003cbr\u003e\n{\u003cbr\u003e\n// Disappear when duration expired\u003cbr\u003e\nif (GameObjectLifetime  \u0026gt;= 0)\u003cbr\u003e\n{\u003cbr\u003e\nGameObjectLifetime -= timeStep;\u003cbr\u003e\nif (GameObjectLifetime \u0026lt;= 0)\u003cbr\u003e\n{\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e        node_-\u0026gt;Remove();\n    }\n}\nreturn;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e/// Set Lifetime\u003cbr\u003e\nvoid GameObject::SetLifetime(float lifetime)\u003cbr\u003e\n{\u003cbr\u003e\nGameObjectLifetime = lifetime;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ereturn;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e\n\u003cp\u003e/// Set Lifetime\u003cbr\u003e\nfloat GameObject::GetLifetime(void)\u003cbr\u003e\n{\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003ereturn GameObjectLifetime;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003cbr\u003e\n[/code]\u003c/p\u003e\n\u003cp\u003eMy character.h header file is this\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\n/// Character component, responsible for physical movement according to controls, as well as animation.\nclass Character : public LogicComponent\n{\n    OBJECT(Character)\n\npublic:\n    /// Construct.\n    Character(Context* context);\n\n    /// Register object factory and attributes.\n    static void RegisterObject(Context* context);\n\n    /// Handle startup. Called by LogicComponent base class.\n    virtual void Start();\n    /// Handle physics world update. Called by LogicComponent base class.\n    virtual void FixedUpdate(float timeStep);\n    virtual void WorldCollision(VariantMap\u0026amp; eventData);\n    virtual void ArtificialSpaceCollision(VariantMap\u0026amp; eventData);\n\n    /// Set and get the character health\n    int SetHealth(int health);\n    int GetHealth(void);\n\n    /// Set basic information\n    int SetPlayerInfo(playerbasicinfo TempPlayer);\n    playerbasicinfo GetPlayerInfo(void);\n\n    playeralliance GetAlliance(void);\n    int SetAlliance(playeralliance TempAlliance);\n\n    int SetCharacteristics(playercharacteristics TempCharacteristics);\n    playercharacteristics GetCharacteristics(void);\n\n    /// Movement controls. Assigned by the main program each frame.\n    Controls controls_;\n\nprivate:\n    /// Handle physics collision event.\n    void HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData);\n\n    /// Grounded flag for movement.\n    bool onGround_;\n    /// Jump flag.\n    bool okToJump_;\n    /// In air timer. Due to possible physics inaccuracy, character can be off ground for max. 1/10 second and still be allowed to move.\n    float inAirTimer_;\n\n    Player CharacterPlayer;\n};\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2017-01-02T01:02:02.708Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3685,"name":"","username":"vivienneanthony","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","created_at":"2014-12-18T16:29:56.000Z","cooked":"\u003cp\u003eCan this thread be deleted.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2017-01-02T01:02:05.252Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":672,"topic_slug":"creating-a-component-time-life","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":88,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[3634,3635,3636,3637,3638,3645,3652,3653,3685]},"timeline_lookup":[[1,2899],[6,2898],[9,2897]],"suggested_topics":[{"id":7098,"title":"Cartoon Fire Effect","fancy_title":"Cartoon Fire Effect","slug":"cartoon-fire-effect","posts_count":6,"reply_count":0,"highest_post_number":6,"image_url":null,"created_at":"2021-12-10T04:08:49.887Z","last_posted_at":"2021-12-12T02:49:51.076Z","bumped":true,"bumped_at":"2021-12-12T02:49:51.076Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":6,"views":274,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7127,"title":"Switching ribbon trails emission glitches transparent materials","fancy_title":"Switching ribbon trails emission glitches transparent materials","slug":"switching-ribbon-trails-emission-glitches-transparent-materials","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-01-13T17:17:46.847Z","last_posted_at":"2022-02-10T08:10:49.330Z","bumped":true,"bumped_at":"2022-02-10T08:10:49.330Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":323,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1188,"username":"Taqer","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/d2c977/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7156,"title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","fancy_title":"Manual Mesh Part Animation (e.g. Rotate a propeller)","slug":"manual-mesh-part-animation-e-g-rotate-a-propeller","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-26T23:50:29.343Z","last_posted_at":"2022-01-27T05:31:02.766Z","bumped":true,"bumped_at":"2022-01-27T05:31:02.766Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":155,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":672,"title":"Creating a component time life?","fancy_title":"Creating a component time life?","posts_count":9,"created_at":"2014-12-16T02:20:59.000Z","views":416,"reply_count":0,"like_count":0,"last_posted_at":"2014-12-18T16:29:56.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"creating-a-component-time-life","category_id":10,"word_count":2412,"deleted_at":null,"user_id":88,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_672","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":9,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png","post_count":7,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":30,"username":"JTippetts","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts/{size}/357_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png"},"last_poster":{"id":88,"username":"vivienneanthony","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/vivienneanthony/{size}/942_2.png"}}}