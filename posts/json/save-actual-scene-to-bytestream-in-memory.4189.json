{"post_stream":{"posts":[{"id":24276,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-19T10:31:32.414Z","cooked":"\u003cp\u003eHello Community it is me again.\u003c/p\u003e\n\u003cp\u003eI have the following problem, i want in certain conditions to save my scene in memory and hold it outside the urho3d lifecycle. I don‚Äôt want to write it as a persistent file i only want to hold the byte stream in memory. Is this possible?\u003c/p\u003e\n\u003cp\u003eI found that there is a ‚Äòsave()‚Äô function which takes a urho3d Serializer, but there is no example or code how to exactly using this function.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2018-04-19T10:31:32.414Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":45,"reads":42,"readers_count":41,"score":233.4,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24278,"name":"","username":"Adam77","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/cc9497/{size}.png","created_at":"2018-04-19T10:59:36.448Z","cooked":"\u003cp\u003eTaken form LuaFile.cpp\u003c/p\u003e\n\u003cp\u003ebool LuaFile::Save(Serializer\u0026amp; dest) const\u003cbr\u003e\n{\u003cbr\u003e\nif (size_ == 0)\u003cbr\u003e\nreturn false;\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003edest.Write(data_, size_);\n\nreturn true;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e}\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2018-04-19T10:59:36.448Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":42,"readers_count":41,"score":13.4,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":959,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24280,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-19T13:50:18.296Z","cooked":"\u003cp\u003eThy for the fast answer, yeah i already saw that. But how to determine what Serializer to use, should i use MemoryBuffer in my case? What are ‚Äòdata_‚Äô? Is that the scene? How to determine the size of it?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2018-04-19T13:50:18.296Z","reply_count":1,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":0,"reads":36,"readers_count":35,"score":12.2,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Adam77","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/cc9497/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24281,"name":"","username":"Adam77","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/cc9497/{size}.png","created_at":"2018-04-19T13:56:10.228Z","cooked":"\u003cpre\u003e\u003ccode\u003e/// File size.\nunsigned size_;\n/// File data.\nSharedArrayPtr\u0026lt;char\u0026gt; data_;\u003c/code\u003e\u003c/pre\u003e","post_number":4,"post_type":1,"updated_at":"2018-04-19T14:54:26.394Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":36,"readers_count":35,"score":7.2,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":959,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24282,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2018-04-19T14:14:37.188Z","cooked":"\u003cp\u003e\u003ccode\u003eVectorBuffer\u003c/code\u003e is fine. Was designed exactly for this use case.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2018-04-19T14:14:37.188Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":35,"readers_count":34,"score":12.0,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24283,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-19T14:22:21.151Z","cooked":"\u003cp\u003eSry to ask but, can you provide an example from the beginning of the initialization of this VectorBuffer, through saving the whole scene into it and reading it back, with all of its components?\u003c/p\u003e\n\u003cp\u003eWould be awesome^^, cause i can‚Äôt figure out how to use this stuff.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2018-04-19T14:22:21.151Z","reply_count":1,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":35,"readers_count":34,"score":12.0,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24284,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2018-04-19T14:35:22.468Z","cooked":"\u003cp\u003eLol, it seems that binary serialization wasn‚Äôt exposed into Lua bindings.\u003cbr\u003e\nIt seems that Lua has some problems with hierarchies and multiple inheritance.\u003cbr\u003e\nI‚Äôll check things this evening.\u003c/p\u003e\n\u003cdetails\u003e\n\u003csummary\u003e\nDisregard this\u003c/summary\u003e\n\u003cp\u003eI suppose, this code would work\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ebuffer = VectorBuffer()\nscene:Save(buffer)\nbuffer:Seek(0)\nscene:Load(buffer)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eif you add few lines into \u003ccode\u003eUrho3D/LuaScript/pkgs/Scene/Serializable.pkg\u003c/code\u003e:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003ebool Load(Deserializer\u0026amp; source);\nbool Save(Serializer\u0026amp; dest) const;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eI wonder why this wasn‚Äôt done before‚Ä¶\u003c/p\u003e\n\u003c/details\u003e","post_number":7,"post_type":1,"updated_at":"2018-04-19T14:38:42.311Z","reply_count":1,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":0,"reads":34,"readers_count":33,"score":11.8,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24285,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-19T14:40:08.714Z","cooked":"\u003cp\u003eIf it would work with normal cpp code it would be enough, i still would wonder if it would work cause i have several data in my vertexbuffer. Will try the provided save, seek and load sampe and update here asap.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2018-04-19T14:41:40.425Z","reply_count":1,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":0,"reads":29,"readers_count":28,"score":10.8,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24286,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2018-04-19T14:41:48.951Z","cooked":"\u003cp\u003eDamn, I thought for some reason that you need it in Lua /_-\u003cbr\u003e\nYes, it will work at C++ side.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2018-04-19T14:41:48.951Z","reply_count":1,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":10.0,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24287,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-19T14:47:23.229Z","cooked":"\u003cp\u003eBut this also doesn‚Äôt work as expected, my bound data which is in some vertexbuffer on the gpu are not available after saving and loading. The pure serialization and deserialization seems to work now without any issue, but the scene appears empty.\u003c/p\u003e\n\u003cp\u003eOk ‚Ä¶ i get a ‚ÄúMaterial index out of bounds‚Äù‚Ä¶\u003c/p\u003e","post_number":10,"post_type":1,"updated_at":"2018-04-19T14:49:49.653Z","reply_count":1,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":1,"reads":26,"readers_count":25,"score":15.2,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24288,"name":"","username":"Adam77","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/cc9497/{size}.png","created_at":"2018-04-19T14:54:51.823Z","cooked":"\u003cp\u003eRemoved since I haven‚Äôt read previous post.\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2018-04-19T15:02:31.683Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":5.0,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":959,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24289,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2018-04-19T14:57:26.542Z","cooked":"\u003caside class=\"quote no-group\" data-post=\"10\" data-topic=\"4189\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/simonsch/40/1319_1.png\" class=\"avatar\"\u003e simonsch:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eBut this also doesn‚Äôt work as expected, my bound data which is in some vertexbuffer on the gpu are not available after saving and loading. The pure serialization and deserialization seems to work now without any issue, but the scene appears empty.\u003c/p\u003e\n\u003cp\u003eOk ‚Ä¶ i get a ‚ÄúMaterial index out of bounds‚Äù‚Ä¶\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eAhh‚Ä¶ So, you have some manual resources.\u003cbr\u003e\nThis makes things more complicated.\u003cbr\u003e\nHow do you manage them? I have to look at your code.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2018-04-19T14:57:42.130Z","reply_count":1,"reply_to_post_number":10,"quote_count":1,"incoming_link_count":0,"reads":27,"readers_count":26,"score":10.4,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24300,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-20T06:19:10.414Z","cooked":"\u003cp\u003eOkay, i already thought that this will get complicated, before code i want to share more details why i need this. Maybe someone knows a proper solution for my problem. So as some people maybe already know from other threads, i am developing on Android.\u003c/p\u003e\n\u003cp\u003eThis means i need to use SDL to provide the necessary glue between my java stuff and my c++ code base. One drawback of using SDL is the ‚ÄòOnly one window allowed‚Äô-philosophy.\u003c/p\u003e\n\u003cp\u003eAssume i have a process generating data which i stream into my scene, urho holds this data persistent as long as its session persist.\u003c/p\u003e\n\u003cp\u003eAssume now i have second use case in my app where i need a second SDLActivity with a different scene.\u003c/p\u003e\n\u003cp\u003eThe only way to make this possible is to destroy the first Activity before starting the second one. But when i exit activity two i want to be able to switch back to activity one with its previous state. I already thought about resharing the GLSurfaceView aka SDLSurfaceView, but had no idea how to do that.\u003c/p\u003e\n\u003cp\u003eThe problem is that everything is where i need it, the data are on the gpu before destroying the activity and this is fine. Start trying to copy it back to cpu just to hold the actual state of the scene seems like an overkill for me. We are talking about millions of vertices‚Ä¶\u003c/p\u003e\n\u003cp\u003eI hope this sketches out the whole problem, saving the complete scene like i wanted yesterday is not a proper solution i think.\u003c/p\u003e\n\u003cp\u003eIDEA:\u003cbr\u003e\nMaybe i thought to complicated, i will try to use only one activity and hold 2 scenes in urho lifecycle. Then i switch between those scene in certain conditions, hope this will work.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2018-04-20T07:13:59.440Z","reply_count":1,"reply_to_post_number":12,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":9.8,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24302,"name":"kabu","username":"johnnycable","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","created_at":"2018-04-20T08:17:14.130Z","cooked":"\u003cp\u003eOnly reason for having 2+ activities is you have to manage s.t. in android java (i.e, using android java gui / android system). If not, hold 2+ scene into urho/cpp.\u003cbr\u003e\nUse urho save scene mechanism. Save scene make a scene freeze, if you then reload you have everything back. Just need to have asset on filesystem.\u003cbr\u003e\nOnly need to persist with a model of yours if you need s.t \u003cem\u003efaster\u003c/em\u003e than the urho save scene utility.\u003c/p\u003e\n\u003caside class=\"quote quote-modified\" data-post=\"5\" data-topic=\"4173\"\u003e\n  \u003cdiv class=\"title\"\u003e\n    \u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n    \u003cimg loading=\"lazy\" alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/johnnycable/40/788_2.png\" class=\"avatar\"\u003e\n    \u003ca href=\"https://discourse.urho3d.io/t/problem-to-load-scene-from-xml-scene-replication/4173/5\"\u003eProblem to load scene from XML (Scene Replication)\u003c/a\u003e \u003ca class=\"badge-wrapper  bullet\" href=\"/c/discussions/support/10\"\u003e\u003cspan class=\"badge-category-parent-bg\" style=\"background-color: #25AAE2;\"\u003e\u003c/span\u003e\u003cspan class=\"badge-category-bg\" style=\"background-color: #92278F;\"\u003e\u003c/span\u003e\u003cspan style=\"\" data-drop-close=\"true\" class=\"badge-category clear-badge\" title=\"Someone can help you.\"\u003eSupport\u003c/span\u003e\u003c/a\u003e\n  \u003c/div\u003e\n  \u003cblockquote\u003e\n    Use this trick: \nAdd this code to your HandleUpdate (snippet from 18_characterdemo example) \n// Check for loading / saving the scene\nif (input-\u0026gt;GetKeyPress(KEY_F5))\n{\n    File saveFile(context_, GetSubsystem\u0026lt;FileSystem\u0026gt;()-\u0026gt;GetProgramDir() + \"GameData/Scenes/SceneDump.xml\", FILE_WRITE);\n    scene_-\u0026gt;SaveXML(saveFile);\n}\n\nif (input-\u0026gt;GetKeyPress(KEY_F7))\n{\n    File loadFile(context_, GetSubsystem\u0026lt;FileSystem\u0026gt;()-\u0026gt;GetProgramDir() + \"GameData/Scenes/SceneDump.xml\", FILE_READ);\n    scene_-\u0026gt;LoadXML(loadFi‚Ä¶\n  \u003c/blockquote\u003e\n\u003c/aside\u003e\n","post_number":14,"post_type":1,"updated_at":"2018-04-20T08:19:19.276Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":24,"readers_count":23,"score":14.8,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"kabu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://discourse.urho3d.io/t/problem-to-load-scene-from-xml-scene-replication/4173/5","internal":true,"reflection":false,"title":"Problem to load scene from XML (Scene Replication)","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":660,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24303,"name":"","username":"simonsch","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","created_at":"2018-04-20T09:24:49.099Z","cooked":"\u003cp\u003eI don‚Äôt think this will work in my case, i want to avoid copying to much data only for holding a certain state of the render scene.\u003c/p\u003e","post_number":15,"post_type":1,"updated_at":"2018-04-20T09:24:49.099Z","reply_count":1,"reply_to_post_number":14,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"johnnycable","name":"kabu","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":938,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24304,"name":"kabu","username":"johnnycable","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","created_at":"2018-04-20T10:01:08.304Z","cooked":"\u003cp\u003eThat‚Äôs not a render scene. It‚Äôs the XML data binding to your game assets. When you reload the scene, every asset is reloaded, like the scene starts over again. This way, you can build your scene on demand from your starting data, plus the game delta (movement, animations and so on).\u003cbr\u003e\nTry example 18 for a test.\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2018-04-20T10:01:08.304Z","reply_count":0,"reply_to_post_number":15,"quote_count":0,"incoming_link_count":0,"reads":24,"readers_count":23,"score":4.8,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"kabu","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":660,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":24308,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2018-04-20T11:34:37.963Z","cooked":"\u003caside class=\"quote no-group\" data-post=\"13\" data-topic=\"4189\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/simonsch/40/1319_1.png\" class=\"avatar\"\u003e simonsch:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eMaybe i thought to complicated, i will try to use only one activity and hold 2 scenes in urho lifecycle. Then i switch between those scene in certain conditions, hope this will work.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eI wonder why you didn‚Äôt started from this point\u003c/p\u003e","post_number":17,"post_type":1,"updated_at":"2018-04-20T11:34:37.963Z","reply_count":0,"reply_to_post_number":13,"quote_count":1,"incoming_link_count":0,"reads":22,"readers_count":21,"score":4.4,"yours":false,"topic_id":4189,"topic_slug":"save-actual-scene-to-bytestream-in-memory","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[24276,24278,24280,24281,24282,24283,24284,24285,24286,24287,24288,24289,24300,24302,24303,24304,24308]},"timeline_lookup":[[1,1679],[13,1678]],"suggested_topics":[{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7125,"title":"Android mobile shows jaggies in the instersection plane-terrain","fancy_title":"Android mobile shows jaggies in the instersection plane-terrain","slug":"android-mobile-shows-jaggies-in-the-instersection-plane-terrain","posts_count":5,"reply_count":3,"highest_post_number":5,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/d/d36aedb4e8cf5409efca6c976aae7e4a5c499eb9.png","created_at":"2022-01-11T11:59:18.993Z","last_posted_at":"2022-01-11T21:27:40.692Z","bumped":true,"bumped_at":"2022-01-12T07:36:41.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":129,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":856,"username":"feresmu","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/f/f08c70/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7080,"title":"Build urho3d source on windows 10 - cmake - \"Error in configuration process, project files may be invalid\"","fancy_title":"Build urho3d source on windows 10 - cmake - \u0026ldquo;Error in configuration process, project files may be invalid\u0026rdquo;","slug":"build-urho3d-source-on-windows-10-cmake-error-in-configuration-process-project-files-may-be-invalid","posts_count":8,"reply_count":4,"highest_post_number":8,"image_url":null,"created_at":"2021-12-03T01:55:53.267Z","last_posted_at":"2021-12-06T22:46:59.584Z","bumped":true,"bumped_at":"2021-12-06T22:46:59.584Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":324,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1488,"username":"ToolmakerSteve","name":"ToolmakerSteve","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ba9def/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7186,"title":"Best way to do Blob Shadows in Urho","fancy_title":"Best way to do Blob Shadows in Urho","slug":"best-way-to-do-blob-shadows-in-urho","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/2/22e3dc1892512375cae09bf84fd92071a1ae27d8.png","created_at":"2022-02-05T04:59:31.388Z","last_posted_at":"2022-02-05T13:29:22.054Z","bumped":true,"bumped_at":"2022-02-05T13:31:44.299Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":179,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7200,"title":"Urho3D just building if I check \"use SHARED libraries\"","fancy_title":"Urho3D just building if I check \u0026ldquo;use SHARED libraries\u0026rdquo;","slug":"urho3d-just-building-if-i-check-use-shared-libraries","posts_count":8,"reply_count":3,"highest_post_number":8,"image_url":null,"created_at":"2022-02-22T20:02:48.835Z","last_posted_at":"2022-02-23T15:38:33.698Z","bumped":true,"bumped_at":"2022-02-23T15:54:07.879Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":165,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1508,"username":"killinbassou","name":"killin","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/k/848f3c/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]}],"tags_descriptions":{},"id":4189,"title":"Save actual scene to bytestream in memory","fancy_title":"Save actual scene to bytestream in memory","posts_count":17,"created_at":"2018-04-19T10:31:32.325Z","views":823,"reply_count":12,"like_count":0,"last_posted_at":"2018-04-20T11:34:37.963Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"save-actual-scene-to-bytestream-in-memory","category_id":10,"word_count":1012,"deleted_at":null,"user_id":938,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_4189","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":17,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":938,"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png","post_count":7,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":5,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":959,"username":"Adam77","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/cc9497/{size}.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":660,"username":"johnnycable","name":"kabu","avatar_template":"/user_avatar/discourse.urho3d.io/johnnycable/{size}/788_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":938,"username":"simonsch","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/simonsch/{size}/1319_2.png"},"last_poster":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}}