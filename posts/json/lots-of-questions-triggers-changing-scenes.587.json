{"post_stream":{"posts":[{"id":3261,"name":"","username":"rogerdv","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/r/eb8c5e/{size}.png","created_at":"2014-11-26T20:47:28.000Z","cooked":"\u003cp\u003eI was planning to spend my vacations next week coding and I have been thinking how to implement at least changing from one scene to another, but I noticed that I havent seen any engine feature that would allow me to trigger an event when clicking an object or reaching some point in the map. So, I guess Im going to need an extra file describing trigger areas or some other mechanism like that. I would like to hear what experiences have other developers about this topic.\u003cbr\u003e\nThe second question is related to scene change. Seems that if I unload an scene all the nodes are destroyed, do I have to recreate all nodes again in the new scene for all the active creatures in that scene?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:01:32.755Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":7,"reads":12,"readers_count":11,"score":37.4,"yours":false,"topic_id":587,"topic_slug":"lots-of-questions-triggers-changing-scenes","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":76,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3263,"name":"","username":"OvermindDL1","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/o/a8b319/{size}.png","created_at":"2014-11-26T21:55:57.000Z","cooked":"\u003cp\u003eI would just post a message to the object clicked on, and if anything happens to be listening to that event on that object then that could be the trigger?  Or use a component to act as the trigger, it listens for the message and does whatever is appropriate.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:01:32.912Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":12,"readers_count":11,"score":2.4,"yours":false,"topic_id":587,"topic_slug":"lots-of-questions-triggers-changing-scenes","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":42,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":3270,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2014-11-27T07:43:58.000Z","cooked":"\u003cp\u003eabout of triggers:\u003c/p\u003e\n\u003cp\u003esetup in editor:\u003cbr\u003e\n\u003ca href=\"http://savepic.org/6489698.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.org/6489698m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ehandle events in code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid GameMain::SubscribeToEvents()\n{\n//other subscribes\n\tSubscribeToEvent(E_NODECOLLISION, HANDLER(GameMain, HandleNodeCollision));\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid GameMain::HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// Check collision contacts and see if character is standing on ground (look for a contact that has near vertical normal)\n\tusing namespace NodeCollision;\n\n\tNode* contact_node = (Node*)eventData[P_OTHERNODE].GetPtr();\n\tVectorBuffer contacts = eventData[P_CONTACTS].GetBuffer();\n\tVector3 pos = contacts.ReadVector3(); // ????? ????????????\n\n\n\tVariant myAttr = contact_node-\u0026gt;GetVar(\"SceneTrigger\");\n\t\n\tif ( myAttr.GetString() == \"WorldA.xml\") \n\t{\n\t\tStaticModel* model  = contact_node-\u0026gt;GetComponent\u0026lt;StaticModel\u0026gt;();\n\t\tstatic bool isHasOwnCopy = false;\n\t\tSharedPtr\u0026lt;Material\u0026gt; mat;\n\n\t\tif (isHasOwnCopy) \n\t\t{\n\t\t\tmat = model-\u0026gt;GetMaterial(0);\n\t\t}\n\t\telse \n\t\t{\n\t\t\tmat = model-\u0026gt;GetMaterial(0)-\u0026gt;Clone(\"RedMaterial\");\n\t\t\tmodel-\u0026gt;SetMaterial(0, mat);\n\t\t\tisHasOwnCopy = true;\t\t\n\t\t}\n\t\tmat-\u0026gt;SetShaderParameter(\"MatDiffColor\", Vector4(1.0f,0.0f,0.0f,0.25f));\t\n\t}\n}\u003c/code\u003e\u003c/pre\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSeems that if I unload an scene all the nodes are destroyed, do I have to recreate all nodes again in the new scene for all the active creatures in that scene?\u003cbr\u003e\ni don‚Äôt do this, but i think you may call Node.Clone() active (what you wish objects) and add it to some PODVector, then you delete old scene and add new you just add objects to new scene from this PODVector of Nodes saved from previous scene. Or other way save these objects to prefabs/tempfiles and load they in new scene with std metods (InstantiateXML).\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cblockquote\u003e\n\u003cp\u003ean event when clicking an object\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eyou may create you own events and listerning it global or for special node.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid GameMain::SubscribeToEvents()\n{\n\n\t//UI\n\tSubscribeToEvent(E_UIMOUSECLICK, HANDLER(GameMain, HandleControlClicked));\n\n\t// MY EVENTS\n\tSubscribeToEvent(\"YouMostResetThis\", HANDLER(GameMain, HandleYouMostResetThis));\n\n}\n\nvoid GameMain::HandleYouMostResetThis(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// we get this event every time then user press the button.\n\tbotSplinePath_-\u0026gt;Reset();\t\n}\n\n\nvoid GameMain::HandleControlClicked(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// Get control that was clicked\n\tUIElement* clicked = static_cast\u0026lt;UIElement*\u0026gt;(eventData[UIMouseClick::P_ELEMENT].GetPtr());\n\n\tString name = \"...?\";\n\tif (clicked)\n\t{\n\t\t// Get the name of the control that was clicked\n\t\tname = clicked-\u0026gt;GetName();\n\t\t//botSplinePath_-\u0026gt;Reset();\n\t\tSendEvent(\"YouMostResetThis\");\n\t}\t\n}\u003c/code\u003e\u003c/pre\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:01:33.466Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":11,"readers_count":10,"score":17.2,"yours":false,"topic_id":587,"topic_slug":"lots-of-questions-triggers-changing-scenes","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.org/6489698.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 6489698 | –°–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π : —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ : —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–∫ : –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π : —Ñ–æ—Ç–æ—Ö–æ—Å—Ç–∏–Ω–≥ : Free Image Hosting","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[3261,3263,3270]},"timeline_lookup":[[1,2918]],"suggested_topics":[{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11Ôºü","fancy_title":"Do we give up supporting dx11Ôºü","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7227,"title":"How to use -s MAX_WEBGL_VERSION=2","fancy_title":"How to use -s MAX_WEBGL_VERSION=2","slug":"how-to-use-s-max-webgl-version-2","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-03-30T13:12:17.248Z","last_posted_at":"2022-03-30T14:09:14.646Z","bumped":true,"bumped_at":"2022-03-30T14:09:14.646Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":103,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":997,"username":"huminzheng","name":"huminzheng","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/9de0a6/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7069,"title":"Is there any getExceptionInfo support in Urho3d for Angelscript?","fancy_title":"Is there any getExceptionInfo support in Urho3d for Angelscript?","slug":"is-there-any-getexceptioninfo-support-in-urho3d-for-angelscript","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2021-11-27T11:29:46.178Z","last_posted_at":"2021-11-29T20:10:46.256Z","bumped":true,"bumped_at":"2021-11-29T20:10:46.256Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":174,"category_id":7,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]}],"tags_descriptions":{},"id":587,"title":"Lots of questions: triggers, changing scenes","fancy_title":"Lots of questions: triggers, changing scenes","posts_count":3,"created_at":"2014-11-26T20:47:28.000Z","views":271,"reply_count":0,"like_count":1,"last_posted_at":"2014-11-27T07:43:58.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"lots-of-questions-triggers-changing-scenes","category_id":9,"word_count":509,"deleted_at":null,"user_id":76,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_587","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":42,"username":"OvermindDL1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/o/a8b319/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":76,"username":"rogerdv","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/r/eb8c5e/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":76,"username":"rogerdv","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/r/eb8c5e/{size}.png"},"last_poster":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"}}}