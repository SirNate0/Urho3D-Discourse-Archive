{"post_stream":{"posts":[{"id":42065,"name":"","username":"Athos","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png","created_at":"2021-03-04T04:19:08.780Z","cooked":"\u003cp\u003eShadow flickering is occurring whenever the camera is looking exactly 90 degrees down at a shadow of an out of view object.\u003c/p\u003e\n\u003cp\u003eWhich led me to this function:\u003c/p\u003e\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Math/Frustum.h#L154\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Math/Frustum.h#L154\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eurho3d/Urho3D/blob/master/Source/Urho3D/Math/Frustum.h#L154\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-h\"\u003e\u003col class=\"start lines\" start=\"144\" style=\"counter-reset: li-counter 143 ;\"\u003e\n\u003cli\u003eIntersection IsInsideFast(const BoundingBox\u0026amp; box) const\n\u003c/li\u003e\n\u003cli\u003e{\n\u003c/li\u003e\n\u003cli\u003e    Vector3 center = box.Center();\n\u003c/li\u003e\n\u003cli\u003e    Vector3 edge = center - box.min_;\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003e    for (const auto\u0026amp; plane : planes_)\n\u003c/li\u003e\n\u003cli\u003e    {\n\u003c/li\u003e\n\u003cli\u003e        float dist = plane.normal_.DotProduct(center) + plane.d_;\n\u003c/li\u003e\n\u003cli\u003e        float absDist = plane.absNormal_.DotProduct(edge);\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli class=\"selected\"\u003e        if (dist \u0026lt; -absDist)\n\u003c/li\u003e\n\u003cli\u003e            return OUTSIDE;\n\u003c/li\u003e\n\u003cli\u003e    }\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003e    return INSIDE;\n\u003c/li\u003e\n\u003cli\u003e}\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003e/// Return distance of a point to the frustum, or 0 if inside.\n\u003c/li\u003e\n\u003cli\u003efloat Distance(const Vector3\u0026amp; point) const\n\u003c/li\u003e\n\u003cli\u003e{\n\u003c/li\u003e\n\u003cli\u003e    float distance = 0.0f;\n\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eAdding a break statement after the highlighted condition solved the problem.\u003c/p\u003e\n\u003cp\u003eBut why there isn‚Äôt a break statement after the condition there ? I mean if one plane is not outside, then it must be at least intersecting, right?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2021-03-04T04:19:08.780Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":15,"reads":28,"readers_count":27,"score":115.6,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Math/Frustum.h#L154","internal":false,"reflection":false,"title":"Urho3D/Frustum.h at master ¬∑ urho3d/Urho3D ¬∑ GitHub","clicks":0}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1179,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42066,"name":"","username":"JSandusky","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","created_at":"2021-03-04T05:23:54.877Z","cooked":"\u003cp\u003eI assume what you did is:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (dist \u0026lt; -absDist)\n    return OUTSIDE;\nbreak; // this doesn't end up doing what you think it will\n\n// and not something super terrible like:\n\nif (dist \u0026lt; -absDist)\n    break; // if did this, slap yourself\n\u003c/code\u003e\u003c/pre\u003e\n\u003caside class=\"quote no-group\" data-username=\"Athos\" data-post=\"1\" data-topic=\"6747\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/40.png\" class=\"avatar\"\u003e Athos:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI mean if one plane is not outside, then it must be at least intersecting, right?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eNo. Because the entire box could be on the backside of 1 plane without any other corners on the backside of any other plane.\u003c/p\u003e\n\u003cp\u003eIn that case the box would be out of view off to one side, or behind the nearplane, etc. Your change \u003cem\u003efixes your problem\u003c/em\u003e because you‚Äôve broken the test to return false-positives very liberally, so virtually everything will pass containment tests.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eWhich type of light is having the shadow flicker? For instance directional light‚Äôs have an extrusion (\u003ccode\u003eGetShadowMaxExtrusion\u003c/code\u003e \u003ccode\u003eSetShadowMaxExtrusion\u003c/code\u003e) move back the light from it‚Äôs bounded fit so that offscreen things cast shadows. Default for that is 1000, if you‚Äôre using a tiny unit (like 1.0 == 1cm) then you only have 10m of peeling back.\u003c/p\u003e\n\u003cp\u003eIf other lights are doing it then there‚Äôs a containment test problem somewhere either in selecting the light or selecting the shadowcasters to render (more likely the former). You‚Äôll have to step through passing and failing frames. I‚Äôd use Renderdoc to capture both cases to see what the shadowmap passes are doing (ie. are the shadowmaps differing between the two) first to make some determinations of where to go next.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003eIf you need more help then post scene files or at least pictures so we can see what‚Äôs going on.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2021-03-04T05:26:01.791Z","reply_count":0,"reply_to_post_number":null,"quote_count":1,"incoming_link_count":0,"reads":27,"readers_count":26,"score":35.4,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":1358,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42069,"name":"","username":"Athos","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png","created_at":"2021-03-04T14:33:21.281Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eI assume what you did is:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (dist \u0026lt; -absDist)\n    return OUTSIDE;\nbreak; // this doesn't end up doing what you think it will\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eYes.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eWhich type of light is having the shadow flicker?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eAll light types.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf other lights are doing it then there‚Äôs a containment test problem somewhere either in selecting the light or selecting the shadowcasters to render (more likely the former). You‚Äôll have to step through passing and failing frames.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eI‚Äôve checked the frames and it seems the model is being culled.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIf you need more help then post scene files or at least pictures so we can see what‚Äôs going on.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eUploaded a short video:\u003cbr\u003e\n\u003ca href=\"https://youtu.be/U9XF9XFV2TY\" rel=\"noopener nofollow ugc\"\u003ehttps://youtu.be/U9XF9XFV2TY\u003c/a\u003e\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2021-03-04T14:33:21.281Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":26,"readers_count":25,"score":10.2,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://youtu.be/U9XF9XFV2TY","internal":false,"reflection":false,"clicks":6}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1179,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42070,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2021-03-04T15:16:07.779Z","cooked":"\u003cp\u003eCan you reproduce this bug on \u003cem\u003eunmodified\u003c/em\u003e Urho samples?\u003cbr\u003e\nI‚Äôm 90% certain you messed up with scene setup.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2021-03-04T15:16:07.779Z","reply_count":0,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":5.0,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"Athos","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42071,"name":"","username":"Athos","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png","created_at":"2021-03-04T16:54:10.821Z","cooked":"\u003cblockquote\u003e\n\u003cp\u003eCan you reproduce this bug on \u003cem\u003eunmodified\u003c/em\u003e Urho samples?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eYes, sample 15-Navigation:\u003cbr\u003e\n\u003ca href=\"https://youtu.be/Xv1-ghnCOm8\" rel=\"noopener nofollow ugc\"\u003ehttps://youtu.be/Xv1-ghnCOm8\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eI used the 1.8 Alpha.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2021-03-04T16:54:10.821Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":10.0,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://youtu.be/Xv1-ghnCOm8","internal":false,"reflection":false,"clicks":5}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1179,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42072,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2021-03-04T21:33:33.702Z","cooked":"\u003cp\u003eOh shit. Thank you. I \u003cem\u003ethink\u003c/em\u003e I saw this bug before and I investigated it. Lemme re-check.\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2021-03-04T21:33:33.702Z","reply_count":0,"reply_to_post_number":5,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":5.0,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"reply_to_user":{"username":"Athos","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42073,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2021-03-04T21:42:55.372Z","cooked":"\u003cp\u003eOkay, I have good news.\u003cbr\u003e\nThis bug happens \u003cem\u003eonly\u003c/em\u003e if you literally have just flat plane perpendicular to the look direction and nothing else.\u003cbr\u003e\nThe difference between minZ_ and maxZ_ is too small and something breaks.\u003c/p\u003e\n\u003cp\u003eJust do something like maxZ_ += 1 if minZ_ and maxZ_ are too close around here:\u003c/p\u003e\u003caside class=\"onebox githubblob\"\u003e\n  \u003cheader class=\"source\"\u003e\n      \u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/View.cpp#L952\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003egithub.com\u003c/a\u003e\n  \u003c/header\u003e\n  \u003carticle class=\"onebox-body\"\u003e\n    \u003ch4\u003e\u003ca href=\"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/View.cpp#L952\" target=\"_blank\" rel=\"noopener nofollow ugc\"\u003eurho3d/Urho3D/blob/master/Source/Urho3D/Graphics/View.cpp#L952\u003c/a\u003e\u003c/h4\u003e\n\u003cpre class=\"onebox\"\u003e\u003ccode class=\"lang-cpp\"\u003e\u003col class=\"start lines\" start=\"942\" style=\"counter-reset: li-counter 941 ;\"\u003e\n\u003cli\u003e        // If just 1 thread, copy the results directly\n\u003c/li\u003e\n\u003cli\u003e        PerThreadSceneResult\u0026amp; result = sceneResults_[0];\n\u003c/li\u003e\n\u003cli\u003e        minZ_ = result.minZ_;\n\u003c/li\u003e\n\u003cli\u003e        maxZ_ = result.maxZ_;\n\u003c/li\u003e\n\u003cli\u003e        Swap(geometries_, result.geometries_);\n\u003c/li\u003e\n\u003cli\u003e        Swap(lights_, result.lights_);\n\u003c/li\u003e\n\u003cli\u003e    }\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003e    if (minZ_ == M_INFINITY)\n\u003c/li\u003e\n\u003cli\u003e        minZ_ = 0.0f;\n\u003c/li\u003e\n\u003cli class=\"selected\"\u003e\n\u003c/li\u003e\n\u003cli\u003e    // Sort the lights to brightest/closest first, and per-vertex lights first so that per-vertex base pass can be evaluated first\n\u003c/li\u003e\n\u003cli\u003e    for (unsigned i = 0; i \u0026lt; lights_.Size(); ++i)\n\u003c/li\u003e\n\u003cli\u003e    {\n\u003c/li\u003e\n\u003cli\u003e        Light* light = lights_[i];\n\u003c/li\u003e\n\u003cli\u003e        light-\u0026gt;SetIntensitySortValue(cullCamera_-\u0026gt;GetDistance(light-\u0026gt;GetNode()-\u0026gt;GetWorldPosition()));\n\u003c/li\u003e\n\u003cli\u003e        light-\u0026gt;SetLightQueue(nullptr);\n\u003c/li\u003e\n\u003cli\u003e    }\n\u003c/li\u003e\n\u003cli\u003e\n\u003c/li\u003e\n\u003cli\u003e    Sort(lights_.Begin(), lights_.End(), CompareLights);\n\u003c/li\u003e\n\u003cli\u003e}\n\u003c/li\u003e\n\u003c/ol\u003e\u003c/code\u003e\u003c/pre\u003e\n\n\n  \u003c/article\u003e\n  \u003cdiv class=\"onebox-metadata\"\u003e\n    \n    \n  \u003c/div\u003e\n  \u003cdiv style=\"clear: both\"\u003e\u003c/div\u003e\n\u003c/aside\u003e\n\n\u003cp\u003eThe bad news is that I‚Äôm too lazy to commit this fix upstream. DIY if you wish.\u003c/p\u003e","post_number":7,"post_type":1,"updated_at":"2021-03-05T10:31:49.895Z","reply_count":2,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":23,"readers_count":22,"score":49.6,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/View.cpp#L952","internal":false,"reflection":false,"title":"Urho3D/View.cpp at master ¬∑ urho3d/Urho3D ¬∑ GitHub","clicks":1}],"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":2}],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42075,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-03-04T22:04:43.003Z","cooked":"\u003cp\u003eSomething like this?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-css\"\u003e    if (Equals(minZ_, maxZ_))\n        maxZ_ += 1.0f;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eSeems to work.\u003c/p\u003e","post_number":8,"post_type":1,"updated_at":"2021-03-05T11:48:12.964Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42076,"name":"","username":"Athos","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png","created_at":"2021-03-04T23:19:32.490Z","cooked":"\u003cp\u003eFlickering is gone.\u003cbr\u003e\nThank you.\u003c/p\u003e","post_number":9,"post_type":1,"updated_at":"2021-03-04T23:19:32.490Z","reply_count":0,"reply_to_post_number":7,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":4.4,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1179,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42077,"name":"","username":"JSandusky","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","created_at":"2021-03-05T03:49:52.765Z","cooked":"\u003cp\u003eFloor it or use a large epsilon. The numeric_limits epsilon used in \u003ccode\u003eEquals\u003c/code\u003e is really tiny. I was still able to reproduce the flicker (less atrociously) using just \u003ccode\u003eEquals\u003c/code\u003e. Flooring or using \u003ccode\u003eM_LARGE_EPSILON\u003c/code\u003e both worked for me in the case where you nail your look angle to the floor and spin around until you get the flicker.\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eif (Equals(Floor(minZ_), Floor(maxZ_)))\n    maxZ_ += 1.0f;\u003c/code\u003e\u003c/pre\u003e","post_number":10,"post_type":1,"updated_at":"2021-03-05T03:49:52.765Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":24.4,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1358,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42079,"name":"Eugene Kozlov","username":"Eugene","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","created_at":"2021-03-05T07:37:56.883Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"JSandusky\" data-post=\"10\" data-topic=\"6747\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/jsandusky/40/3220_2.png\" class=\"avatar\"\u003e JSandusky:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eThe numeric_limits epsilon used in \u003ccode\u003eEquals\u003c/code\u003e is really tiny\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eIt amazes me how many people use numeric_limits epsilon. Whereas I believe that if you use numeric_limits epsilon, you are doing something wrong. So far I have \u003cem\u003enever\u003c/em\u003e encountered legitimate use of this constant, only mis-uses. Have you ever seen legitimate use?\u003c/p\u003e","post_number":11,"post_type":1,"updated_at":"2021-03-05T07:38:29.632Z","reply_count":2,"reply_to_post_number":10,"quote_count":1,"incoming_link_count":0,"reads":20,"readers_count":19,"score":14.0,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"Eugene Kozlov","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Core developer","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":484,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42080,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2021-03-05T10:37:12.910Z","cooked":"\u003cp\u003eHow‚Äôs this then?\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eif (Equals(minZ_, maxZ_, M_LARGE_EPSILON))\n    maxZ_ += 1.0f;\n\u003c/code\u003e\u003c/pre\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003etemplate \u0026lt;class T\u0026gt; inline bool Equals(T lhs, T rhs, T margin = std::numeric_limits\u0026lt;T\u0026gt;::epsilon())\n{ return lhs + margin \u0026gt;= rhs \u0026amp;\u0026amp; lhs - margin \u0026lt;= rhs; }\n\u003c/code\u003e\u003c/pre\u003e","post_number":12,"post_type":1,"updated_at":"2021-03-05T13:34:40.328Z","reply_count":0,"reply_to_post_number":11,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":19.4,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":3,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":42083,"name":"","username":"JSandusky","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","created_at":"2021-03-05T19:04:46.796Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"Eugene\" data-post=\"11\" data-topic=\"6747\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/eugene/40/902_2.png\" class=\"avatar\"\u003e Eugene:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eHave you ever seen legitimate use?\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eComplete integration over every single possible value in a floating point range.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2021-03-05T19:04:46.796Z","reply_count":0,"reply_to_post_number":11,"quote_count":1,"incoming_link_count":0,"reads":20,"readers_count":19,"score":4.0,"yours":false,"topic_id":6747,"topic_slug":"bounding-box-frustum-culling","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1358,"hidden":false,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[42065,42066,42069,42070,42071,42072,42073,42075,42076,42077,42079,42080,42083]},"timeline_lookup":[[1,629],[5,628],[13,627]],"suggested_topics":[{"id":7073,"title":"A plan to support static batching","fancy_title":"A plan to support static batching","slug":"a-plan-to-support-static-batching","posts_count":5,"reply_count":2,"highest_post_number":5,"image_url":null,"created_at":"2021-12-01T03:43:48.579Z","last_posted_at":"2021-12-02T23:30:07.199Z","bumped":true,"bumped_at":"2021-12-02T23:30:07.199Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":180,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1490,"username":"Sunc","name":"DoubleSuper","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/df788c/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7122,"title":"Faster allocations with PMR","fancy_title":"Faster allocations with PMR","slug":"faster-allocations-with-pmr","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":null,"created_at":"2022-01-10T16:23:15.053Z","last_posted_at":"2022-01-10T16:42:29.752Z","bumped":true,"bumped_at":"2022-01-10T17:55:02.117Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":209,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1363,"username":"vmost","name":null,"avatar_template":"https://avatars.discourse-cdn.com/v4/letter/v/5f9b8f/{size}.png"}}]},{"id":7158,"title":"Xamarin android urhosharp has no octree.getdrawables","fancy_title":"Xamarin android urhosharp has no octree.getdrawables","slug":"xamarin-android-urhosharp-has-no-octree-getdrawables","posts_count":11,"reply_count":9,"highest_post_number":11,"image_url":null,"created_at":"2022-01-27T15:03:52.636Z","last_posted_at":"2022-02-02T07:17:04.722Z","bumped":true,"bumped_at":"2022-02-02T07:17:04.722Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":256,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1503,"username":"tianlv777","name":"zerrrrr","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/a4c791/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7119,"title":"How to programmatically access Morph Target in FBX file?","fancy_title":"How to programmatically access Morph Target in FBX file?","slug":"how-to-programmatically-access-morph-target-in-fbx-file","posts_count":13,"reply_count":8,"highest_post_number":13,"image_url":null,"created_at":"2022-01-03T23:01:43.070Z","last_posted_at":"2022-01-05T11:55:31.130Z","bumped":true,"bumped_at":"2022-01-05T11:55:31.130Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":214,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1499,"username":"csteaderman","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/c/b487fb/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7272,"title":"Normals causing mesh to go all over the place","fancy_title":"Normals causing mesh to go all over the place","slug":"normals-causing-mesh-to-go-all-over-the-place","posts_count":7,"reply_count":3,"highest_post_number":7,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/0/0a0a9a3dc40a56fb224dc7ab3b9b167551b57cb6_2_1024x863.png","created_at":"2022-05-30T22:50:15.428Z","last_posted_at":"2022-06-03T09:23:21.988Z","bumped":true,"bumped_at":"2022-06-03T09:42:18.150Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":172,"category_id":16,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1507,"username":"Kest","name":"Kest","avatar_template":"/user_avatar/discourse.urho3d.io/kest/{size}/3734_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":653,"username":"extobias","name":"tobias alarcon","avatar_template":"/user_avatar/discourse.urho3d.io/extobias/{size}/2836_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":6747,"title":"Bounding box frustum culling","fancy_title":"Bounding box frustum culling","posts_count":13,"created_at":"2021-03-04T04:19:08.676Z","views":380,"reply_count":7,"like_count":8,"last_posted_at":"2021-03-05T19:04:46.796Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"bounding-box-frustum-culling","category_id":16,"word_count":833,"deleted_at":null,"user_id":1179,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_6747","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":13,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":4,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1179,"username":"Athos","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0}],"created_by":{"id":1179,"username":"Athos","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/a/f1d935/{size}.png"},"last_poster":{"id":1358,"username":"JSandusky","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/jsandusky/{size}/3220_2.png"},"links":[{"url":"https://youtu.be/U9XF9XFV2TY","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":6,"user_id":1179,"domain":"youtu.be","root_domain":"youtu.be"},{"url":"https://youtu.be/Xv1-ghnCOm8","title":null,"internal":false,"attachment":false,"reflection":false,"clicks":5,"user_id":1179,"domain":"youtu.be","root_domain":"youtu.be"},{"url":"https://github.com/urho3d/Urho3D/blob/master/Source/Urho3D/Graphics/View.cpp#L952","title":"Urho3D/View.cpp at master ¬∑ urho3d/Urho3D ¬∑ GitHub","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":484,"domain":"github.com","root_domain":"github.com"}]}}