{"post_stream":{"posts":[{"id":44328,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T00:06:00.436Z","cooked":"\u003cp\u003eSo I am trying to have my energy sword cast a constant ray to check if an enemy is within range. However when I turn on the debug render I cannot get the raycast ray to show. I‚Äôve been able to set this up for other parts of my code with no issues. Some of the code has been moved around for debugging.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid EnergySword::RegisterObject(Context* context)\n{\n\tcontext-\u0026gt;RegisterFactory\u0026lt;EnergySword\u0026gt;();\n}\n\nvoid EnergySword::Start()\n{\n\tloadResources();\n\n\t// Component has been inserted into its scene node. Subscribe to events now\n\tSubscribeToEvent(GetNode(), E_NODECOLLISION, URHO3D_HANDLER(EnergySword, HandleNodeCollision));\n}\n\nvoid EnergySword::DelayedStart()\n{\n\tSubscribeToEvent(node_-\u0026gt;GetChild(\"right_hand_marker\", true), E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\n\tSubscribeToEvent(GetNode(), E_ANIMATIONTRIGGER, URHO3D_HANDLER(EnergySword, HandleAnimationTriggerZombie));\n}\n\nvoid EnergySword::FixedUpdate(float timeStep)\n{\n}\n\nvoid EnergySword::loadResources()\n{\n\tcache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\tnode_-\u0026gt;SetScale(Vector3(0.025f, 0.025f, 0.025f));\n\n\tswordObject = node_-\u0026gt;CreateComponent\u0026lt;AnimatedModel\u0026gt;();\n\tswordObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/plasma_sword.mdl\"));\n\tswordObject-\u0026gt;ApplyMaterialList(\"Materials/plasma_sword.txt\");\n\n\tmeleeshape_ = node_-\u0026gt;CreateComponent\u0026lt;CollisionShape\u0026gt;();\n\tmeleeshape_-\u0026gt;SetBox(Vector3(50.0f, 20.0f, 2.0f), Vector3::ZERO, Quaternion::IDENTITY);\n}\n\nvoid EnergySword::HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// Check collision contacts and see if character is standing on ground (look for a contact that has near vertical normal)\n\tusing namespace NodeCollision;\n\n\tRigidBody* body = node_-\u0026gt;GetComponent\u0026lt;RigidBody\u0026gt;(true);\n\n\tMemoryBuffer contacts(eventData[P_CONTACTS].GetBuffer());\n\n\twhile (!contacts.IsEof())\n\t{\n\t\tVector3 contactPosition = contacts.ReadVector3();\n\t\tVector3 contactNormal = contacts.ReadVector3();\n\t\t/*float contactDistance = */contacts.ReadFloat();\n\t\t/*float contactImpulse = */contacts.ReadFloat();\n\n\t\t// If contact is below node center and pointing up, assume it's a ground contact\n\t\tif (contactPosition.y_ \u0026lt; (node_-\u0026gt;GetPosition().y_ + 1.0f))\n\t\t{\n\t\t\tfloat level = contactNormal.y_;\n\t\t}\n\t}\n}\n\nvoid EnergySword::PlaySound(const String\u0026amp; soundName, float gain, float nearAttenuation, float farAttenuation)\n{\n\tResourceCache* cache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\t// Create the sound source node\n\tNode *sound_node = node_-\u0026gt;CreateChild(\"Sound source node\");\n\n\tSound* sound = cache-\u0026gt;GetResource\u0026lt;Sound\u0026gt;(soundName);\n\n\tsoundSrc = node_-\u0026gt;CreateComponent\u0026lt;SoundSource3D\u0026gt;();\n\tsoundSrc-\u0026gt;SetNearDistance(nearAttenuation);\n\tsoundSrc-\u0026gt;SetFarDistance(farAttenuation);\n\n\t// Create the listener node\n\tNode *listener_node = scene_-\u0026gt;GetChild(\"Player\", true);\n\t// Create the listener itself\n\tSoundListener *listener = listener_node-\u0026gt;CreateComponent\u0026lt;SoundListener\u0026gt;();\n\n\t// Set the listener for that audio subsystem\n\tcache-\u0026gt;GetSubsystem\u0026lt;Audio\u0026gt;()-\u0026gt;SetListener(listener);\n\n\tsoundSrc-\u0026gt;SetGain(gain);\n\tsoundSrc-\u0026gt;Play(sound);\n\tsoundSrc-\u0026gt;SetAutoRemoveMode(REMOVE_COMPONENT);\n}\n\nvoid EnergySword::HandleAnimationTriggerZombie(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tusing namespace AnimationTrigger;\n\tAnimatedModel* model = node_-\u0026gt;GetComponent\u0026lt;AnimatedModel\u0026gt;();\n\tif (model)\n\t{\n\t\tAnimationState* state = model-\u0026gt;GetAnimationState(eventData[P_NAME].GetString());\n\n\t\tif (eventData[P_NAME].GetString() == \"Melee 002\")\n\t\t{\n\t\t\tbone = node_-\u0026gt;GetChild(eventData[P_DATA].GetString(), true);\n\n\n\n\t\t\tif (bone != NULL)\n\t\t\t{\n\t\t\t\tPlaySound(\"Sounds/sword_melee%2.ogg\", 0.5f, 0.1f, 10.0f);\n\t\t\t}\n\n\t\t}\n\t\tif (state == NULL)\n\t\t{\n\t\t\treturn;\n\n\t\t}\n\n\t}\n\n}\n\nvoid EnergySword::DrawDebug(DebugRenderer* debug, bool depthTest)\n{\n\tVector3 size_{ 50.0f, 20.0f, 2.0f };\n\tVector3 startPos_{};\n\tVector3 endPos_{};\n\tQuaternion startRot_{};\n\tQuaternion endRot_{};\n\n\tconst BoundingBox bounds{ -size_ * .5f, size_ * .5f };\n\tdebug-\u0026gt;AddBoundingBox(bounds, { startPos_, startRot_, 1.f }, Color::GREEN, depthTest);\n\tdebug-\u0026gt;AddBoundingBox(bounds, { endPos_, endRot_, 1.f }, Color::RED, depthTest);\n\tdebug-\u0026gt;AddLine(startPos_, endPos_, Color::YELLOW, depthTest);\n}\n\nvoid EnergySword::MeleeLunge()\n{\n\tPhysicsWorld* physicsWorld_ = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\tPhysicsRaycastResult result;\n\tVector3 pos(node_-\u0026gt;GetWorldPosition());\n\tRay ray(pos, node_-\u0026gt;GetWorldDirection());  // the given vector is the direction\n\tphysicsWorld_-\u0026gt;RaycastSingle(result, ray, 40.0f, 1);\n\tdebug-\u0026gt;AddLine(pos, Vector3(0, 0, 0), Color::RED, false);\n\tif (result.distance_ \u0026lt;= 40)\n\t{\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":1,"post_type":1,"updated_at":"2022-01-29T01:21:02.634Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":4,"reads":31,"readers_count":30,"score":26.2,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":2,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44337,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T01:23:02.340Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/wand\"\u003e@wand\u003c/a\u003e I have updated the code above.\u003c/p\u003e\n\u003cp\u003eI‚Äôm trying to get my raycast in MeleeLunge() to show up in the debug render so I can begin coding the next parts, however I cannot get the ray to render.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2022-01-29T01:23:02.340Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":10.0,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44340,"name":"Thomas Trocha","username":"dertom","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png","created_at":"2022-01-29T01:35:26.096Z","cooked":"\u003cp\u003eDid you debug if the event is called at all? I would guess that E_POSTRENDERUPDATE isn‚Äôt triggered ‚Äòon‚Äô the node at all but only globally. Try to remove the binding to the node:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eSubscribeToEvent(E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\n\u003c/code\u003e\u003c/pre\u003e","post_number":5,"post_type":1,"updated_at":"2022-01-29T01:35:26.096Z","reply_count":1,"reply_to_post_number":3,"quote_count":0,"incoming_link_count":0,"reads":25,"readers_count":24,"score":25.0,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"Thomas Trocha","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":1038,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44345,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T02:02:33.814Z","cooked":"\u003cp\u003eSo I made the changes, but when I change what \u003ca class=\"mention\" href=\"/u/dertom\"\u003e@dertom\u003c/a\u003e suggested it crashes. Ptr.h line 124\u003c/p\u003e","post_number":6,"post_type":1,"updated_at":"2022-01-29T02:02:33.814Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44357,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2022-01-29T04:31:22.475Z","cooked":"\u003cp\u003eThis post was flagged by the community and is temporarily hidden.\u003c/p\u003e","cooked_hidden":true,"post_number":7,"post_type":1,"updated_at":"2022-01-29T04:31:58.119Z","reply_count":0,"reply_to_post_number":6,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":true,"hidden_reason_id":3,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44387,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T05:17:30.896Z","cooked":"\u003cp\u003eI think so. If I comment out the SubscribeToEvent line everything work fine. I am using the EnergySword class in my main like this. Everything loads fine.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eplayer_handBoneNode = objectNode-\u0026gt;GetChild(\"right_hand_marker\", true);\nplayer_handBoneNode-\u0026gt;CreateComponent\u0026lt;EnergySword\u0026gt;();\nplayer_handBoneNode-\u0026gt;GetComponent\u0026lt;AnimatedModel\u0026gt;()-\u0026gt;SetViewMask(3);\n\u003c/code\u003e\u003c/pre\u003e","post_number":8,"post_type":1,"updated_at":"2022-01-29T05:17:30.896Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44446,"name":"Thomas Trocha","username":"dertom","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png","created_at":"2022-01-29T09:30:03.887Z","cooked":"\u003cp\u003eThe method MeleeLunge has not the right signature for an event-callback. (The one that seems to be kicked also replied this just before me, now his reply is deleted‚Ä¶would have guessed you read that).\u003cbr\u003e\nChange MeleeLunge to:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid EnergySword::MeleeLunge(StringHash eventType, VariantMap\u0026amp; eventData)\n\u003c/code\u003e\u003c/pre\u003e","post_number":9,"post_type":1,"updated_at":"2022-01-29T09:30:47.618Z","reply_count":1,"reply_to_post_number":8,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":9.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"Thomas Trocha","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1038,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44449,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2022-01-29T11:14:23.628Z","cooked":"\u003cp\u003eThis post was flagged by the community and is temporarily hidden.\u003c/p\u003e","cooked_hidden":true,"post_number":10,"post_type":1,"updated_at":"2022-01-29T11:16:44.463Z","reply_count":0,"reply_to_post_number":9,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","reply_to_user":{"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":true,"hidden_reason_id":3,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44450,"name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","username":"Modanung","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","created_at":"2022-01-29T11:21:22.790Z","cooked":"\u003cp\u003eThis post was flagged by the community and is temporarily hidden.\u003c/p\u003e","cooked_hidden":true,"post_number":11,"post_type":1,"updated_at":"2022-01-29T11:21:22.790Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":19.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"","bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":192,"hidden":true,"hidden_reason_id":3,"trust_level":0,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":false,"wiki":false,"user_suspended":true,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44455,"name":"","username":"George1","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","created_at":"2022-01-29T11:51:37.301Z","cooked":"\u003cp\u003eI remember Lumak has an example of ray cast with the ribbon trail slashing a dummy.  It might be useful if you can locate it.\u003c/p\u003e","post_number":12,"post_type":1,"updated_at":"2022-01-29T11:51:37.301Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":23,"readers_count":22,"score":4.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":627,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44480,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T18:50:36.862Z","cooked":"\u003cp\u003eSo I have made all the changes. \u003ca class=\"mention\" href=\"/u/george1\"\u003e@George1\u003c/a\u003e  do you have a link to Lumaks example?\u003c/p\u003e\n\u003cp\u003eI suspect my issue maybe is that the node the EnergySword is used on is a child node of another node. I could be wrong though.\u003c/p\u003e\n\u003cp\u003eI‚Äôve tried this:\u003cbr\u003e\n\u003ccode\u003eSubscribeToEvent(GetNode()-\u0026gt;GetChild(\"right_hand_marker\", true), E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003eIt does not crash, but nothing happens.\u003c/p\u003e","post_number":13,"post_type":1,"updated_at":"2022-01-29T18:50:36.862Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":22,"readers_count":21,"score":9.4,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44481,"name":"Thomas Trocha","username":"dertom","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png","created_at":"2022-01-29T20:10:12.381Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"GodMan\" data-post=\"13\" data-topic=\"7160\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/40.png\" class=\"avatar\"\u003e GodMan:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eIt does not crash, but nothing happens.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eYes, because this event is not triggered on this node.\u003cbr\u003e\nYou need to call as I suggested in the first post and it crashed because you had the method-signature of MeleeLunge wrong,no? Did you change as I suggested in the second post?\u003c/p\u003e","post_number":14,"post_type":1,"updated_at":"2022-01-29T20:11:14.642Z","reply_count":0,"reply_to_post_number":13,"quote_count":1,"incoming_link_count":0,"reads":21,"readers_count":20,"score":4.2,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"Thomas Trocha","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1038,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44484,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T23:17:30.940Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/dertom\"\u003e@dertom\u003c/a\u003e Yes I believe I made the changes you suggested. Here is the new code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid EnergySword::RegisterObject(Context* context)\n{\n\tcontext-\u0026gt;RegisterFactory\u0026lt;EnergySword\u0026gt;();\n}\n\nvoid EnergySword::Start()\n{\n\tloadResources();\n\n\t// Component has been inserted into its scene node. Subscribe to events now\n\tSubscribeToEvent(GetNode(), E_NODECOLLISION, URHO3D_HANDLER(EnergySword, HandleNodeCollision));\n}\n\nvoid EnergySword::DelayedStart()\n{\n\tSubscribeToEvent(GetNode()-\u0026gt;GetChild(\"right_hand_marker\", true), E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\n\tSubscribeToEvent(GetNode(), E_ANIMATIONTRIGGER, URHO3D_HANDLER(EnergySword, HandleAnimationTriggerZombie));\n}\n\nvoid EnergySword::FixedUpdate(float timeStep)\n{\n}\n\nvoid EnergySword::loadResources()\n{\n\tcache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\tnode_-\u0026gt;SetScale(Vector3(0.025f, 0.025f, 0.025f));\n\n\tswordObject = node_-\u0026gt;CreateComponent\u0026lt;AnimatedModel\u0026gt;();\n\tswordObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/plasma_sword.mdl\"));\n\tswordObject-\u0026gt;ApplyMaterialList(\"Materials/plasma_sword.txt\");\n\n\tmeleeshape_ = node_-\u0026gt;CreateComponent\u0026lt;CollisionShape\u0026gt;();\n\tmeleeshape_-\u0026gt;SetBox(Vector3(50.0f, 20.0f, 2.0f), Vector3::ZERO, Quaternion::IDENTITY);\n}\n\nvoid EnergySword::HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// Check collision contacts and see if character is standing on ground (look for a contact that has near vertical normal)\n\tusing namespace NodeCollision;\n\n\tRigidBody* body = node_-\u0026gt;GetComponent\u0026lt;RigidBody\u0026gt;(true);\n\n\tMemoryBuffer contacts(eventData[P_CONTACTS].GetBuffer());\n\n\twhile (!contacts.IsEof())\n\t{\n\t\tVector3 contactPosition = contacts.ReadVector3();\n\t\tVector3 contactNormal = contacts.ReadVector3();\n\t\t/*float contactDistance = */contacts.ReadFloat();\n\t\t/*float contactImpulse = */contacts.ReadFloat();\n\n\t\t// If contact is below node center and pointing up, assume it's a ground contact\n\t\tif (contactPosition.y_ \u0026lt; (node_-\u0026gt;GetPosition().y_ + 1.0f))\n\t\t{\n\t\t\tfloat level = contactNormal.y_;\n\t\t}\n\t}\n}\n\nvoid EnergySword::PlaySound(const String\u0026amp; soundName, float gain, float nearAttenuation, float farAttenuation)\n{\n\tResourceCache* cache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\t// Create the sound source node\n\tNode *sound_node = node_-\u0026gt;CreateChild(\"Sound source node\");\n\n\tSound* sound = cache-\u0026gt;GetResource\u0026lt;Sound\u0026gt;(soundName);\n\n\tsoundSrc = node_-\u0026gt;CreateComponent\u0026lt;SoundSource3D\u0026gt;();\n\tsoundSrc-\u0026gt;SetNearDistance(nearAttenuation);\n\tsoundSrc-\u0026gt;SetFarDistance(farAttenuation);\n\n\t// Create the listener node\n\tNode *listener_node = scene_-\u0026gt;GetChild(\"Player\", true);\n\t// Create the listener itself\n\tSoundListener *listener = listener_node-\u0026gt;CreateComponent\u0026lt;SoundListener\u0026gt;();\n\n\t// Set the listener for that audio subsystem\n\tcache-\u0026gt;GetSubsystem\u0026lt;Audio\u0026gt;()-\u0026gt;SetListener(listener);\n\n\tsoundSrc-\u0026gt;SetGain(gain);\n\tsoundSrc-\u0026gt;Play(sound);\n\tsoundSrc-\u0026gt;SetAutoRemoveMode(REMOVE_COMPONENT);\n}\n\nvoid EnergySword::HandleAnimationTriggerZombie(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tusing namespace AnimationTrigger;\n\tAnimatedModel* model = node_-\u0026gt;GetComponent\u0026lt;AnimatedModel\u0026gt;();\n\tif (model)\n\t{\n\t\tAnimationState* state = model-\u0026gt;GetAnimationState(eventData[P_NAME].GetString());\n\n\t\tif (eventData[P_NAME].GetString() == \"Melee 002\")\n\t\t{\n\t\t\tbone = node_-\u0026gt;GetChild(eventData[P_DATA].GetString(), true);\n\n\n\n\t\t\tif (bone != NULL)\n\t\t\t{\n\t\t\t\tPlaySound(\"Sounds/sword_melee%2.ogg\", 0.5f, 0.1f, 10.0f);\n\t\t\t}\n\n\t\t}\n\t\tif (state == NULL)\n\t\t{\n\t\t\treturn;\n\n\t\t}\n\n\t}\n\n}\n\nvoid EnergySword::DrawDebug(DebugRenderer* debug, bool depthTest)\n{\n\tVector3 size_{ 50.0f, 20.0f, 2.0f };\n\tVector3 startPos_{};\n\tVector3 endPos_{};\n\tQuaternion startRot_{};\n\tQuaternion endRot_{};\n\n\tconst BoundingBox bounds{ -size_ * .5f, size_ * .5f };\n\tdebug-\u0026gt;AddBoundingBox(bounds, { startPos_, startRot_, 1.f }, Color::GREEN, depthTest);\n\tdebug-\u0026gt;AddBoundingBox(bounds, { endPos_, endRot_, 1.f }, Color::RED, depthTest);\n\tdebug-\u0026gt;AddLine(startPos_, endPos_, Color::YELLOW, depthTest);\n}\n\nvoid EnergySword::MeleeLunge(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tPhysicsWorld* physicsWorld_ = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\tPhysicsRaycastResult result;\n\tVector3 pos(node_-\u0026gt;GetWorldPosition());\n\tRay ray(pos, node_-\u0026gt;GetWorldDirection());  // the given vector is the direction\n\tphysicsWorld_-\u0026gt;RaycastSingle(result, ray, 40.0f, 1);\n\tif (result.body_)\n\t{\n\t\tdebug-\u0026gt;AddLine(pos, result.position_, Color::RED, false);\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":15,"post_type":1,"updated_at":"2022-01-29T23:17:30.940Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":8.8,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44485,"name":"SirNate0","username":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","created_at":"2022-01-29T23:29:45.292Z","cooked":"\u003caside class=\"quote no-group\" data-username=\"GodMan\" data-post=\"15\" data-topic=\"7160\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/40.png\" class=\"avatar\"\u003e GodMan:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid EnergySword::MeleeLunge(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tPhysicsWorld* physicsWorld_ = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\tPhysicsRaycastResult result;\n\tVector3 pos(node_-\u0026gt;GetWorldPosition());\n\tRay ray(pos, node_-\u0026gt;GetWorldDirection());  // the given vector is the direction\n\tphysicsWorld_-\u0026gt;RaycastSingle(result, ray, 40.0f, 1);\n\tif (result.body_)\n\t{\n\t\tdebug-\u0026gt;AddLine(pos, result.position_, Color::RED, false);\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e\n\u003cp\u003eGiven that you don‚Äôt declare debug, does this code even compile?\u003c/p\u003e","post_number":16,"post_type":1,"updated_at":"2022-01-29T23:29:45.292Z","reply_count":1,"reply_to_post_number":15,"quote_count":1,"incoming_link_count":0,"reads":19,"readers_count":18,"score":8.8,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"SirNate0","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":628,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44486,"name":"Thomas Trocha","username":"dertom","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png","created_at":"2022-01-29T23:31:44.424Z","cooked":"\u003cp\u003eYou subscribe on the node. Change it please like this. good luck‚Ä¶\u003c/p\u003e\n\u003caside class=\"quote no-group\" data-username=\"dertom\" data-post=\"5\" data-topic=\"7160\" data-full=\"true\"\u003e\n\u003cdiv class=\"title\"\u003e\n\u003cdiv class=\"quote-controls\"\u003e\u003c/div\u003e\n\u003cimg alt=\"\" width=\"20\" height=\"20\" src=\"https://sjc6.discourse-cdn.com/standard17/user_avatar/discourse.urho3d.io/dertom/40/1815_2.png\" class=\"avatar\"\u003e dertom:\u003c/div\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDid you debug if the event is called at all? I would guess that E_POSTRENDERUPDATE isn‚Äôt triggered ‚Äòon‚Äô the node at all but only globally. Try to remove the binding to the node:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003eSubscribeToEvent(E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/blockquote\u003e\n\u003c/aside\u003e","post_number":17,"post_type":1,"updated_at":"2022-01-29T23:31:44.424Z","reply_count":0,"reply_to_post_number":5,"quote_count":1,"incoming_link_count":0,"reads":18,"readers_count":17,"score":3.6,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"Thomas Trocha","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":1038,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44487,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-29T23:42:21.562Z","cooked":"\u003cp\u003e\u003ca class=\"mention\" href=\"/u/sirnate0\"\u003e@SirNate0\u003c/a\u003e Yes debug is defined in the header file. I will move this to the cpp for more clarity.\u003cbr\u003e\n\u003ca class=\"mention\" href=\"/u/dertom\"\u003e@dertom\u003c/a\u003e When I do this it just crashes on startup.\u003c/p\u003e\n\u003cp\u003eNew Code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003evoid EnergySword::RegisterObject(Context* context)\n{\n\tcontext-\u0026gt;RegisterFactory\u0026lt;EnergySword\u0026gt;();\n}\n\nvoid EnergySword::Start()\n{\n\tloadResources();\n\n\t// Component has been inserted into its scene node. Subscribe to events now\n\tSubscribeToEvent(GetNode(), E_NODECOLLISION, URHO3D_HANDLER(EnergySword, HandleNodeCollision));\n}\n\nvoid EnergySword::DelayedStart()\n{\n\tSubscribeToEvent(GetNode(), E_ANIMATIONTRIGGER, URHO3D_HANDLER(EnergySword, HandleAnimationTriggerZombie));\n\tSubscribeToEvent(E_POSTRENDERUPDATE, URHO3D_HANDLER(EnergySword, MeleeLunge));\n}\n\nvoid EnergySword::FixedUpdate(float timeStep)\n{\n}\n\nvoid EnergySword::loadResources()\n{\n\tcache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\tnode_-\u0026gt;SetScale(Vector3(0.025f, 0.025f, 0.025f));\n\n\tswordObject = node_-\u0026gt;CreateComponent\u0026lt;AnimatedModel\u0026gt;();\n\tswordObject-\u0026gt;SetModel(cache-\u0026gt;GetResource\u0026lt;Model\u0026gt;(\"Models/plasma_sword.mdl\"));\n\tswordObject-\u0026gt;ApplyMaterialList(\"Materials/plasma_sword.txt\");\n\n\tmeleeshape_ = node_-\u0026gt;CreateComponent\u0026lt;CollisionShape\u0026gt;();\n\tmeleeshape_-\u0026gt;SetBox(Vector3(50.0f, 20.0f, 2.0f), Vector3::ZERO, Quaternion::IDENTITY);\n}\n\nvoid EnergySword::HandleNodeCollision(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\t// Check collision contacts and see if character is standing on ground (look for a contact that has near vertical normal)\n\tusing namespace NodeCollision;\n\n\tRigidBody* body = node_-\u0026gt;GetComponent\u0026lt;RigidBody\u0026gt;(true);\n\n\tMemoryBuffer contacts(eventData[P_CONTACTS].GetBuffer());\n\n\twhile (!contacts.IsEof())\n\t{\n\t\tVector3 contactPosition = contacts.ReadVector3();\n\t\tVector3 contactNormal = contacts.ReadVector3();\n\t\t/*float contactDistance = */contacts.ReadFloat();\n\t\t/*float contactImpulse = */contacts.ReadFloat();\n\n\t\t// If contact is below node center and pointing up, assume it's a ground contact\n\t\tif (contactPosition.y_ \u0026lt; (node_-\u0026gt;GetPosition().y_ + 1.0f))\n\t\t{\n\t\t\tfloat level = contactNormal.y_;\n\t\t}\n\t}\n}\n\nvoid EnergySword::PlaySound(const String\u0026amp; soundName, float gain, float nearAttenuation, float farAttenuation)\n{\n\tResourceCache* cache = GetSubsystem\u0026lt;ResourceCache\u0026gt;();\n\n\t// Create the sound source node\n\tNode *sound_node = node_-\u0026gt;CreateChild(\"Sound source node\");\n\n\tSound* sound = cache-\u0026gt;GetResource\u0026lt;Sound\u0026gt;(soundName);\n\n\tsoundSrc = node_-\u0026gt;CreateComponent\u0026lt;SoundSource3D\u0026gt;();\n\tsoundSrc-\u0026gt;SetNearDistance(nearAttenuation);\n\tsoundSrc-\u0026gt;SetFarDistance(farAttenuation);\n\n\t// Create the listener node\n\tNode *listener_node = scene_-\u0026gt;GetChild(\"Player\", true);\n\t// Create the listener itself\n\tSoundListener *listener = listener_node-\u0026gt;CreateComponent\u0026lt;SoundListener\u0026gt;();\n\n\t// Set the listener for that audio subsystem\n\tcache-\u0026gt;GetSubsystem\u0026lt;Audio\u0026gt;()-\u0026gt;SetListener(listener);\n\n\tsoundSrc-\u0026gt;SetGain(gain);\n\tsoundSrc-\u0026gt;Play(sound);\n\tsoundSrc-\u0026gt;SetAutoRemoveMode(REMOVE_COMPONENT);\n}\n\nvoid EnergySword::HandleAnimationTriggerZombie(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tusing namespace AnimationTrigger;\n\tAnimatedModel* model = node_-\u0026gt;GetComponent\u0026lt;AnimatedModel\u0026gt;();\n\tif (model)\n\t{\n\t\tAnimationState* state = model-\u0026gt;GetAnimationState(eventData[P_NAME].GetString());\n\n\t\tif (eventData[P_NAME].GetString() == \"Melee 002\")\n\t\t{\n\t\t\tbone = node_-\u0026gt;GetChild(eventData[P_DATA].GetString(), true);\n\n\n\n\t\t\tif (bone != NULL)\n\t\t\t{\n\t\t\t\tPlaySound(\"Sounds/sword_melee%2.ogg\", 0.5f, 0.1f, 10.0f);\n\t\t\t}\n\n\t\t}\n\t\tif (state == NULL)\n\t\t{\n\t\t\treturn;\n\n\t\t}\n\n\t}\n\n}\n\nvoid EnergySword::DrawDebug(DebugRenderer* debug, bool depthTest)\n{\n\tVector3 size_{ 50.0f, 20.0f, 2.0f };\n\tVector3 startPos_{};\n\tVector3 endPos_{};\n\tQuaternion startRot_{};\n\tQuaternion endRot_{};\n\n\tconst BoundingBox bounds{ -size_ * .5f, size_ * .5f };\n\tdebug-\u0026gt;AddBoundingBox(bounds, { startPos_, startRot_, 1.f }, Color::GREEN, depthTest);\n\tdebug-\u0026gt;AddBoundingBox(bounds, { endPos_, endRot_, 1.f }, Color::RED, depthTest);\n\tdebug-\u0026gt;AddLine(startPos_, endPos_, Color::YELLOW, depthTest);\n}\n\nvoid EnergySword::MeleeLunge(StringHash eventType, VariantMap\u0026amp; eventData)\n{\n\tdebug = scene_-\u0026gt;GetComponent\u0026lt;DebugRenderer\u0026gt;();\n\n\tPhysicsWorld* physicsWorld_ = scene_-\u0026gt;GetComponent\u0026lt;PhysicsWorld\u0026gt;();\n\tPhysicsRaycastResult result;\n\tVector3 pos(node_-\u0026gt;GetWorldPosition());\n\tRay ray(pos, node_-\u0026gt;GetWorldDirection());  // the given vector is the direction\n\tphysicsWorld_-\u0026gt;RaycastSingle(result, ray, 40.0f, 1);\n\tif (result.body_)\n\t{\n\t\tdebug-\u0026gt;AddLine(pos, result.position_, Color::RED, false);\n\t}\n}\n\u003c/code\u003e\u003c/pre\u003e","post_number":18,"post_type":1,"updated_at":"2022-01-29T23:42:56.800Z","reply_count":0,"reply_to_post_number":16,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":3.8,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":44488,"name":"","username":"GodMan","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","created_at":"2022-01-30T00:29:39.356Z","cooked":"\u003cp\u003eSo after double checking my code. I forgot to pass the scene from my main to the EnergySword class. This is done to get things like the debug render of the current scene. After \u003ca class=\"mention\" href=\"/u/sirnate0\"\u003e@SirNate0\u003c/a\u003e comment I went to double check all my references. This explains why the other classes were working fine, but not this one.\u003c/p\u003e\n\u003cp\u003eThanks everyone for the suggestions.\u003c/p\u003e","post_number":19,"post_type":1,"updated_at":"2022-01-30T00:29:39.356Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":19,"readers_count":18,"score":18.8,"yours":false,"topic_id":7160,"topic_slug":"raycast-trouble","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":false,"staff":false,"user_id":861,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true}],"stream":[44328,44337,44340,44345,44357,44387,44446,44449,44450,44455,44480,44481,44484,44485,44486,44487,44488]},"timeline_lookup":[[1,298],[11,297]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7185,"title":"Update Ray ray direction","fancy_title":"Update Ray ray direction","slug":"update-ray-ray-direction","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-02-05T00:28:45.414Z","last_posted_at":"2022-02-05T20:19:51.238Z","bumped":true,"bumped_at":"2022-02-05T20:19:51.238Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7104,"title":"Bug in my partial-model copying code","fancy_title":"Bug in my partial-model copying code","slug":"bug-in-my-partial-model-copying-code","posts_count":2,"reply_count":0,"highest_post_number":2,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/5367e370779d64989e5c3ff2c1ebfb0689908c87.png","created_at":"2021-12-17T03:50:19.405Z","last_posted_at":"2021-12-17T13:50:49.662Z","bumped":true,"bumped_at":"2021-12-17T13:50:49.662Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":144,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7177,"title":"Attaching a shader to a BorderImage","fancy_title":"Attaching a shader to a BorderImage","slug":"attaching-a-shader-to-a-borderimage","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-01-31T17:49:50.734Z","last_posted_at":"2022-02-01T02:22:10.927Z","bumped":true,"bumped_at":"2022-02-01T02:22:10.927Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":151,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1165,"username":"throwawayerino","name":"Actually Permanent","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/da6949/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}}]},{"id":7215,"title":"How to build rbfx?","fancy_title":"How to build rbfx?","slug":"how-to-build-rbfx","posts_count":4,"reply_count":1,"highest_post_number":4,"image_url":null,"created_at":"2022-03-11T01:28:40.314Z","last_posted_at":"2022-03-12T19:16:39.360Z","bumped":true,"bumped_at":"2022-03-12T19:16:39.360Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":268,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1447,"username":"Batch","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/b/f17d59/{size}.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","posts_count":17,"created_at":"2022-01-29T00:06:00.367Z","views":260,"reply_count":9,"like_count":3,"last_posted_at":"2022-01-30T00:29:39.356Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"raycast-trouble","category_id":10,"word_count":2063,"deleted_at":null,"user_id":861,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_7160","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":19,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":5,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":19,"username":"GodMan","excerpt":"So after double checking my code. I forgot to pass the scene from my main to the EnergySword class. This is done to get things like the debug render of the current scene. After \u003ca class=\"mention\" href=\"/u/sirnate0\"\u003e@SirNate0\u003c/a\u003e comment I went to double check all my references. This explains why the other classes were working fine, but not \u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png","post_count":8,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png","post_count":4,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":0},{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"},"last_poster":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}}}