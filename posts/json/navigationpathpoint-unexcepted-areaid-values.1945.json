{"post_stream":{"posts":[{"id":11563,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-04-05T16:38:49.000Z","cooked":"\u003cp\u003eHi there!\u003cbr\u003e\nI try to play with navmesh and got strange behavior with areaID values in path.\u003cbr\u003e\nSo I have three planes on scene with some stuff on it.  And each plane have own navArea component with assigned in editor areaID value ~ 1,2,3 for planes\u003cbr\u003e\n\u003ca href=\"http://savepic.net/7946011.htm\" data-bbcode=\"true\"\u003e\u003cimg src=\"http://savepic.net/7946011m.png\" alt=\"\" width=\"\" height=\"\"\u003e\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003ewhen I try to get navMesh-\u0026gt;FindPath(‚Ä¶)\u003c/p\u003e\n\u003cp\u003ePODVector currentPath2_;\u003cbr\u003e\nunsigned char areaID = currentPath2_[0].areaID_;\u003c/p\u003e\n\u003cp\u003ethe path store within - unusual/unexcepted values: for example my testBot starting from navArea with areaID = 1 but path return 205(‚ÄòH‚Äô) - value instead 1\u003cbr\u003e\nso that I forgot or doing wrong with setup areaID ?\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:11:43.942Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":1,"reads":6,"readers_count":5,"score":6.2,"yours":false,"topic_id":1945,"topic_slug":"navigationpathpoint-unexcepted-areaid-values","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"http://savepic.net/7946011.htm","internal":false,"reflection":false,"title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 7946011 | –°–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π : —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ : —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–∫ : –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π : —Ñ–æ—Ç–æ—Ö–æ—Å—Ç–∏–Ω–≥ : Free Image Hosting","clicks":1}],"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11564,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-04-05T17:36:51.000Z","cooked":"\u003cp\u003eI suppose I found a problem place, this is it --\u0026gt; pt.areaID_ = pathData_-\u0026gt;pathAreras_[i];\u003cbr\u003e\nbecause, pathAreras_ never filled with any values anywhere, so within it some kind of garbage I guess\u003c/p\u003e\n\u003cp\u003e[code]void NavigationMesh::FindPath(PODVector\u0026amp; dest, const Vector3\u0026amp; start, const Vector3\u0026amp; end,\u003cbr\u003e\nconst Vector3\u0026amp; extents,\u003cbr\u003e\nconst dtQueryFilter* filter)\u003cbr\u003e\n{\u003cbr\u003e\n‚Ä¶\u003cbr\u003e\n// Transform path result back to world space\u003cbr\u003e\nfor (int i = 0; i \u0026lt; numPathPoints; ++i)\u003cbr\u003e\n{\u003cbr\u003e\nNavigationPathPoint pt;\u003cbr\u003e\npt.position_ = transform * pathData_-\u0026gt;pathPoints_[i];\u003cbr\u003e\npt.flag_ = (NavigationPathPointFlag)pathData_-\u0026gt;pathFlags_[i];\u003cbr\u003e\npt.areaID_ = pathData_-\u0026gt;pathAreras_[i];\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    dest.Push(pt);\n}[/code]\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eEDIT:\u003cbr\u003e\nI fixed this Issue : see comment blocks - fix1 and fix2\u003cbr\u003e\n[pastebin]PqWPiLiE[/pastebin]\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:11:44.008Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1945,"topic_slug":"navigationpathpoint-unexcepted-areaid-values","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11566,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-04-06T07:32:30.000Z","cooked":"\u003cp\u003eThanks. A pull request at the github project is the preferred way to get fixes in. Is there other places that are affected and need the same fix?\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:11:44.143Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":7,"readers_count":6,"score":1.4,"yours":false,"topic_id":1945,"topic_slug":"navigationpathpoint-unexcepted-areaid-values","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11567,"name":"","username":"codingmonkey","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","created_at":"2016-04-06T10:08:03.000Z","cooked":"\u003cp\u003efinally I made some polishing and place code to:\u003c/p\u003e\n\u003cp\u003e1: class NavigationMesh\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003e    /// NavAreas for this NavMesh\n    PODVector\u0026lt;Node*\u0026gt; areas_;\u003c/code\u003e\u003c/p\u003e\n\u003cp\u003e2: To reduce performance penalty I placed getNodes into CollectGeometries(). So in this case we update areas_ array only when we doing navMesh-\u0026gt;Build()\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003e\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e3: simplify NavigationMesh::FindPath\u003c/p\u003e\n\u003cp\u003e[code]    // Transform path result back to world space\u003cbr\u003e\nfor (int i = 0; i \u0026lt; numPathPoints; ++i)\u003cbr\u003e\n{\u003cbr\u003e\nbool find = false;\u003cbr\u003e\nNavigationPathPoint pt;\u003cbr\u003e\npt.position_ = transform * pathData_-\u0026gt;pathPoints_[i];\u003cbr\u003e\npt.flag_ = (NavigationPathPointFlag)pathData_-\u0026gt;pathFlags_[i];\u003cbr\u003e\npt.areaID_ = pathData_-\u0026gt;pathAreras_[i];\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e    // Fix2-begin for NavArea components\n    for (unsigned j = 0; j \u0026lt; areas_.Size(); j++)\n    {\n        NavArea* area = areas_[j]-\u0026gt;GetComponent\u0026lt;NavArea\u0026gt;();\n        if (area \u0026amp;\u0026amp; area-\u0026gt;IsEnabledEffective()) \n        {\n            BoundingBox bb = area-\u0026gt;GetWorldBoundingBox();\n            if (bb.IsInside(pt.position_) == INSIDE)\n            {\n                pt.areaID_ = (unsigned char)area-\u0026gt;GetAreaID();\n                break;\n            }\n        }\n    }\n    // Fix2-end for NavArea components\n\n    dest.Push(pt);\n} \n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e[/code]\u003cbr\u003e\nso after this fixes it‚Äôs works fine for my using case, expect one moment when agent travelling though offMeshConnection, it not get areaID from this offMeshConnection.\u003cbr\u003e\n(actually as before they also return garbage values, but now my navAreas override garbage values then by new execution path)\u003c/p\u003e\n\u003cp\u003e4: also I think if few navAreas have the same point within need doing some kind of sorting by distance to navArea origin for choose nearest navArea\u003c/p\u003e\n\u003col start=\"5\"\u003e\n\u003cli\u003eso, since this feature works without Detour middleware(above it / over it) there is no need keep only 64 max navAreas i suppose.\u003c/li\u003e\n\u003c/ol\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-02T01:11:44.209Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1945,"topic_slug":"navigationpathpoint-unexcepted-areaid-values","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":148,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":11570,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2016-04-06T17:16:03.000Z","cooked":"\u003cp\u003eI believe I‚Äôm not qualified enough to comment. By all means make a PR, then we‚Äôll hopefully get more eyes (and comments) on this in a structured manner.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-01-02T01:11:44.420Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":6,"readers_count":5,"score":1.2,"yours":false,"topic_id":1945,"topic_slug":"navigationpathpoint-unexcepted-areaid-values","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[11563,11564,11566,11567,11570]},"timeline_lookup":[[1,2423],[2,2422],[5,2421]],"suggested_topics":[{"id":7304,"title":"Urho3D is crashing on Android 12","fancy_title":"Urho3D is crashing on Android 12","slug":"urho3d-is-crashing-on-android-12","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-07-28T10:03:51.280Z","last_posted_at":"2022-07-28T10:03:51.349Z","bumped":true,"bumped_at":"2022-07-28T10:38:06.014Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":126,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]},{"id":7344,"title":"Do we give up supporting dx11Ôºü","fancy_title":"Do we give up supporting dx11Ôºü","slug":"do-we-give-up-supporting-dx11","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-03T09:37:37.893Z","last_posted_at":"2022-11-03T13:09:15.153Z","bumped":true,"bumped_at":"2022-11-03T15:28:58.128Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":78,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1510,"username":"SoNewBee","name":"So New Bee","avatar_template":"/user_avatar/discourse.urho3d.io/sonewbee/{size}/3755_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}}]},{"id":7347,"title":"How does Urho handle script objects each frame?","fancy_title":"How does Urho handle script objects each frame?","slug":"how-does-urho-handle-script-objects-each-frame","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-11-08T02:33:56.461Z","last_posted_at":"2022-11-08T14:46:09.857Z","bumped":true,"bumped_at":"2022-11-08T14:46:09.857Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":64,"category_id":9,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1292,"username":"evolgames","name":"evol","avatar_template":"/user_avatar/discourse.urho3d.io/evolgames/{size}/3169_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7281,"title":"Cannot launch + Converting .fbx to .ani","fancy_title":"Cannot launch + Converting .fbx to .ani","slug":"cannot-launch-converting-fbx-to-ani","posts_count":14,"reply_count":10,"highest_post_number":14,"image_url":null,"created_at":"2022-06-17T04:59:42.992Z","last_posted_at":"2022-06-20T16:21:59.555Z","bumped":true,"bumped_at":"2022-06-20T16:21:59.555Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":258,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1526,"username":"NoobBeggar","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/e68b1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":631,"username":"JTippetts1","name":"J Tippetts","avatar_template":"/user_avatar/discourse.urho3d.io/jtippetts1/{size}/96_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":263,"username":"1vanK","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/1vank/{size}/768_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7126,"title":":checkered_flag: Urho Kart","fancy_title":":checkered_flag: Urho Kart","slug":"urho-kart","posts_count":6,"reply_count":3,"highest_post_number":6,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/1/1281338493c5b7deaf16a1166af11a78504bde16.png","created_at":"2022-01-13T03:17:23.415Z","last_posted_at":"2022-01-14T20:54:48.999Z","bumped":true,"bumped_at":"2022-01-14T21:16:54.291Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"unicode_title":"üèÅ Urho Kart","tags_descriptions":{},"like_count":10,"views":385,"category_id":14,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":809,"username":"elix22","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/elix22/{size}/1437_2.png"}}]}],"tags_descriptions":{},"id":1945,"title":"NavigationPathPoint : unexcepted areaID values?","fancy_title":"NavigationPathPoint : unexcepted areaID values?","posts_count":5,"created_at":"2016-04-05T16:38:49.000Z","views":264,"reply_count":0,"like_count":0,"last_posted_at":"2016-04-06T17:16:03.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"navigationpathpoint-unexcepted-areaid-values","category_id":9,"word_count":512,"deleted_at":null,"user_id":148,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1945","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png","post_count":3,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":148,"username":"codingmonkey","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/codingmonkey/{size}/119_2.png"},"last_poster":{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png"},"links":[{"url":"http://savepic.net/7946011.htm","title":"–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 7946011 | –°–µ—Ä–≤–∏—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π : —Ö–æ—Å—Ç–∏–Ω–≥ –∫–∞—Ä—Ç–∏–Ω–æ–∫ : —Ä–∞–∑–º–µ—â–µ–Ω–∏–µ —Ñ–æ—Ç–æ–∫ : –º–µ—Å—Ç–æ –¥–ª—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–π : —Ñ–æ—Ç–æ—Ö–æ—Å—Ç–∏–Ω–≥ : Free Image Hosting","internal":false,"attachment":false,"reflection":false,"clicks":1,"user_id":148,"domain":"savepic.net","root_domain":"savepic.net"}]}}