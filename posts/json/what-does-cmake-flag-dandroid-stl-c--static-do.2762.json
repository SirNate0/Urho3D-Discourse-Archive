{"post_stream":{"posts":[{"id":15906,"name":"Anton Kuzmin","username":"ak88","avatar_template":"/user_avatar/discourse.urho3d.io/ak88/{size}/159_2.png","created_at":"2017-01-31T00:38:29.241Z","cooked":"\u003cp\u003eHi all,\u003c/p\u003e\n\u003cp\u003eI read lots of tutors about Urho3D compilation for android and there is was \u003cstrong\u003ecmake\u003c/strong\u003e flag \u003ccode\u003e-DANDROID_STL=c++_static\u003c/code\u003e in some of them.\u003cbr\u003e\nI want to understand what does the this flag and what it affects.\u003cbr\u003e\nBecause when I set up it my compilation fails with a lot of mistakes like:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003e../Urho3D/src2/Source/Urho3D/Physics/CollisionShape.cpp:1054: error: undefined reference to '__dynamic_cast'\n../Urho3D/src2/Source/Urho3D/Physics/CollisionShape.cpp:1092: error: undefined reference to '__dynamic_cast'\n../Urho3D/src2/Source/Urho3D/Scene/Scene.cpp:152: error: undefined reference to '__dynamic_cast'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/vector:751: error: undefined reference to '__cxa_call_unexpected'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/map:561: error: undefined reference to '__cxa_call_unexpected'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/map:561: error: undefined reference to '__cxa_call_unexpected'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/map:561: error: undefined reference to '__cxa_call_unexpected'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/ostream:488: error: undefined reference to '__cxa_end_catch'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/ostream:488: error: undefined reference to '__cxa_begin_catch'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/ostream:488: error: undefined reference to '__cxa_end_catch'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/ostream:458: error: undefined reference to '__cxa_begin_catch'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/ostream:755: error: undefined reference to '__cxa_begin_catch'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/string:1210: error: undefined reference to '__cxa_allocate_exception'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/string:1210: error: undefined reference to '__cxa_throw'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/string:1210: error: undefined reference to '__cxa_free_exception'\n../android-ndk-r12b/sources/cxx-stl/llvm-libc++/libcxx/include/string:1210: error: undefined reference to 'vtable for std::length_error'\n../android-ndk-r12b/toolchains/arm-linux-androideabi-4.9/prebuilt/linux-x86_64/bin/../lib/gcc/arm-linux-androideabi/4.9.x/../../../../arm-linux-androideabi/bin/ld: the vtable symbol may be undefined because the class is missing its key function (see go/missingkeymethod)\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eso I want to understand what it affects and what is wrong with it?\u003c/p\u003e\n\u003cp\u003eWhat is the difference from \u003ccode\u003e-DANDROID_STL=gnustl_static\u003c/code\u003e and \u003ccode\u003e-DANDROID_STL=c++_shared\u003c/code\u003e?\u003c/p\u003e\n\u003cp\u003eThanks in advance.\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-31T00:38:29.241Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2811,"reads":25,"readers_count":24,"score":14052.0,"yours":false,"topic_id":2762,"topic_slug":"what-does-cmake-flag-dandroid-stl-c--static-do","display_username":"Anton Kuzmin","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":651,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15914,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-01-31T18:17:42.169Z","cooked":"\u003cp\u003eThat build option controls which C++ STL runtime to use. You can find more information about it by reading the comment lines in \u003ca href=\"https://github.com/urho3d/Urho3D/blob/b8ee493454f172aab3edaee433c740bc6bd24e90/CMake/Toolchains/android.toolchain.cmake#L151-L186\"\u003eandroid.toolchain.cmake\u003c/a\u003e. This is an ‚Äúold‚Äù CMake toolchain file that was not originally developed by us. So far in the master branch we only use the default STL runtime ‚Äúgnustl_static‚Äù and has never really tested with other runtimes with this old toolchain file. I am not surprised if it is broken with other runtime because it appears the upstream has stopped maintaining this toolchain file (at least the last time I checked it). Therefore, we have decided to rewrite a new toolchain file of our own from scratch. You can find the new toolchain file called \u003ca href=\"https://github.com/urho3d/Urho3D/blob/7970801a30740b85047afe5d2c9f85ba2ae6af5d/CMake/Toolchains/Android.cmake#L95-L111\"\u003eAndroid.cmake\u003c/a\u003e in the ‚Äúrefactor-buildsystem‚Äù feature branch. The development for this new toolchain is already completed and all the STL runtimes work. Having said that, we have not really tested it in the wild on the actual applications/devices. If you really need to use LLVM libc++ runtime then you may want to try to build your project with the new toolchain.\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-31T19:08:28.887Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":17,"reads":21,"readers_count":20,"score":109.2,"yours":false,"topic_id":2762,"topic_slug":"what-does-cmake-flag-dandroid-stl-c--static-do","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"link_counts":[{"url":"https://github.com/urho3d/Urho3D/blob/b8ee493454f172aab3edaee433c740bc6bd24e90/CMake/Toolchains/android.toolchain.cmake#L151-L186","internal":false,"reflection":false,"title":"Urho3D/android.toolchain.cmake at b8ee493454f172aab3edaee433c740bc6bd24e90 ¬∑ urho3d/Urho3D ¬∑ GitHub","clicks":147},{"url":"https://github.com/urho3d/Urho3D/blob/7970801a30740b85047afe5d2c9f85ba2ae6af5d/CMake/Toolchains/Android.cmake#L95-L111","internal":false,"reflection":false,"title":"Urho3D/Android.cmake at 7970801a30740b85047afe5d2c9f85ba2ae6af5d ¬∑ urho3d/Urho3D ¬∑ GitHub","clicks":49}],"read":true,"user_title":"Admin","title_is_group":false,"bookmarked":false,"actions_summary":[{"id":2,"count":1}],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":true},{"id":15915,"name":"Anton Kuzmin","username":"ak88","avatar_template":"/user_avatar/discourse.urho3d.io/ak88/{size}/159_2.png","created_at":"2017-01-31T19:08:21.384Z","cooked":"\u003cp\u003eThank you for the explanations.\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-31T19:08:21.384Z","reply_count":0,"reply_to_post_number":2,"quote_count":0,"incoming_link_count":3,"reads":21,"readers_count":20,"score":19.2,"yours":false,"topic_id":2762,"topic_slug":"what-does-cmake-flag-dandroid-stl-c--static-do","display_username":"Anton Kuzmin","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"reply_to_user":{"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":651,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15917,"name":"","username":"sabotage3d","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png","created_at":"2017-01-31T22:05:34.224Z","cooked":"\u003cp\u003eI have tested refactor-buildsystem for a while I think everything works. The only thing that was weird it couldn‚Äôt find libc++ library on Android so I had to copy it from android-ndk.\u003c/p\u003e","post_number":4,"post_type":1,"updated_at":"2017-01-31T22:05:34.224Z","reply_count":1,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":2,"reads":20,"readers_count":19,"score":19.0,"yours":false,"topic_id":2762,"topic_slug":"what-does-cmake-flag-dandroid-stl-c--static-do","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":151,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":15918,"name":"Yao Wei Tjong","username":"weitjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","created_at":"2017-02-01T11:49:43.335Z","cooked":"\u003cp\u003eThat is a bit strange. I think our macro will not only automatically ‚Äúpull‚Äù the dependant shared library into the APK, but also make sure the libs are being loaded in the right order in the SDLActivity class.\u003c/p\u003e","post_number":5,"post_type":1,"updated_at":"2017-02-01T11:49:43.335Z","reply_count":0,"reply_to_post_number":4,"quote_count":0,"incoming_link_count":7,"reads":16,"readers_count":15,"score":38.2,"yours":false,"topic_id":2762,"topic_slug":"what-does-cmake-flag-dandroid-stl-c--static-do","display_username":"Yao Wei Tjong","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Admin","title_is_group":false,"reply_to_user":{"username":"sabotage3d","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png"},"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":4,"hidden":false,"trust_level":4,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[15906,15914,15915,15917,15918]},"timeline_lookup":[[1,2122],[2,2121]],"suggested_topics":[{"id":7067,"title":"Can the latest Urho3D version be built with VS2013?","fancy_title":"Can the latest Urho3D version be built with VS2013?","slug":"can-the-latest-urho3d-version-be-built-with-vs2013","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":null,"created_at":"2021-11-25T18:00:24.336Z","last_posted_at":"2021-11-26T17:22:21.878Z","bumped":true,"bumped_at":"2021-11-26T17:22:21.878Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":157,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"}}]},{"id":7065,"title":"Angelscript: Loading a char file into a 2D array: how?","fancy_title":"Angelscript: Loading a char file into a 2D array: how?","slug":"angelscript-loading-a-char-file-into-a-2d-array-how","posts_count":7,"reply_count":4,"highest_post_number":7,"image_url":null,"created_at":"2021-11-24T09:20:05.420Z","last_posted_at":"2021-11-28T11:19:39.689Z","bumped":true,"bumped_at":"2021-11-28T11:26:00.375Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":239,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1491,"username":"xlat","name":"Alex Kuch","avatar_template":"/user_avatar/discourse.urho3d.io/xlat/{size}/3620_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":983,"username":"tarzeron","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/ecae2f/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}}]},{"id":7146,"title":"How create affordable comfortable and modern terrain?","fancy_title":"How create affordable comfortable and modern terrain?","slug":"how-create-affordable-comfortable-and-modern-terrain","posts_count":5,"reply_count":1,"highest_post_number":5,"image_url":null,"created_at":"2022-01-21T15:20:08.910Z","last_posted_at":"2022-01-21T21:51:58.799Z","bumped":true,"bumped_at":"2022-01-21T22:03:14.896Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":193,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":null,"description":"Original Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1304,"username":"lebrewer","name":"lebrewer","avatar_template":"/user_avatar/discourse.urho3d.io/lebrewer/{size}/2811_2.png"}},{"extras":"latest","description":"Most Recent Poster","user":{"id":230,"username":"Nerrik","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/958977/{size}.png"}}]},{"id":7160,"title":"RayCast trouble","fancy_title":"RayCast trouble","slug":"raycast-trouble","posts_count":17,"reply_count":9,"highest_post_number":19,"image_url":null,"created_at":"2022-01-29T00:06:00.367Z","last_posted_at":"2022-01-30T00:29:39.356Z","bumped":true,"bumped_at":"2022-01-30T00:29:39.356Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":260,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":627,"username":"George1","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/9e8a1a/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1038,"username":"dertom","name":"Thomas Trocha","avatar_template":"/user_avatar/discourse.urho3d.io/dertom/{size}/1815_2.png"}}]},{"id":7176,"title":"Orthographic scene slowing down when zooming out","fancy_title":"Orthographic scene slowing down when zooming out","slug":"orthographic-scene-slowing-down-when-zooming-out","posts_count":1,"reply_count":0,"highest_post_number":1,"image_url":null,"created_at":"2022-01-30T10:05:50.218Z","last_posted_at":"2022-01-30T10:05:50.294Z","bumped":true,"bumped_at":"2022-01-30T10:05:50.294Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":0,"views":127,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest single","description":"Original Poster, Most Recent Poster","user":{"id":1351,"username":"Haukinger","name":"Haukinger","avatar_template":"/user_avatar/discourse.urho3d.io/haukinger/{size}/3670_2.png"}}]}],"tags_descriptions":{},"id":2762,"title":"What does CMake flag -DANDROID_STL=c++_static do?","fancy_title":"What does CMake flag -DANDROID_STL=c++_static do?","posts_count":5,"created_at":"2017-01-31T00:38:28.965Z","views":4459,"reply_count":2,"like_count":1,"last_posted_at":"2017-02-01T11:49:43.335Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"what-does-cmake-flag-dandroid-stl-c--static-do","category_id":10,"word_count":675,"deleted_at":null,"user_id":651,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_2762","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":5,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":3,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"accepted_answer":{"post_number":2,"username":"weitjong","excerpt":"That build option controls which C++ STL runtime to use. You can find more information about it by reading the comment lines in \u003ca href=\"https://github.com/urho3d/Urho3D/blob/b8ee493454f172aab3edaee433c740bc6bd24e90/CMake/Toolchains/android.toolchain.cmake#L151-L186\"\u003eandroid.toolchain.cmake\u003c/a\u003e. This is an ‚Äúold‚Äù CMake toolchain file that was not originally developed by us. So far in the master branch we only use the default STL runtime ‚Äúgnu\u0026hellip;"},"details":{"can_edit":false,"notification_level":1,"participants":[{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":4},{"id":651,"username":"ak88","name":"Anton Kuzmin","avatar_template":"/user_avatar/discourse.urho3d.io/ak88/{size}/159_2.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":151,"username":"sabotage3d","name":"","avatar_template":"/user_avatar/discourse.urho3d.io/sabotage3d/{size}/87_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":2}],"created_by":{"id":651,"username":"ak88","name":"Anton Kuzmin","avatar_template":"/user_avatar/discourse.urho3d.io/ak88/{size}/159_2.png"},"last_poster":{"id":4,"username":"weitjong","name":"Yao Wei Tjong","avatar_template":"/user_avatar/discourse.urho3d.io/weitjong/{size}/4_2.png"},"links":[{"url":"https://github.com/urho3d/Urho3D/blob/b8ee493454f172aab3edaee433c740bc6bd24e90/CMake/Toolchains/android.toolchain.cmake#L151-L186","title":"Urho3D/android.toolchain.cmake at b8ee493454f172aab3edaee433c740bc6bd24e90 ¬∑ urho3d/Urho3D ¬∑ GitHub","internal":false,"attachment":false,"reflection":false,"clicks":147,"user_id":4,"domain":"github.com","root_domain":"github.com"},{"url":"https://github.com/urho3d/Urho3D/blob/7970801a30740b85047afe5d2c9f85ba2ae6af5d/CMake/Toolchains/Android.cmake#L95-L111","title":"Urho3D/Android.cmake at 7970801a30740b85047afe5d2c9f85ba2ae6af5d ¬∑ urho3d/Urho3D ¬∑ GitHub","internal":false,"attachment":false,"reflection":false,"clicks":49,"user_id":4,"domain":"github.com","root_domain":"github.com"}]}}