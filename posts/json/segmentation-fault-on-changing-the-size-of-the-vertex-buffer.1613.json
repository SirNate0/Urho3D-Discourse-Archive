{"post_stream":{"posts":[{"id":9250,"name":"","username":"haroim","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/8c91f0/{size}.png","created_at":"2015-12-22T18:05:48.000Z","cooked":"\u003cp\u003eHello,\u003c/p\u003e\n\u003cp\u003eI am playing around with the polyvox library and Urho3D and I got quite far integrating them by following the samples provided. I now have a voxel sphere of which I can set the size and color (per vertex) in the a scene. But I am facing a strange segmentation fault when I made a slider which controls with size of the sphere. It seems to initial work fine and the sphere increase and decreases in size, but after a while of resizing I get a segmentation fault directly after set the new data in the vertex buffer.\u003c/p\u003e\n\u003cp\u003eWhat I do schematically is the following:\u003cbr\u003e\nThe initial mesh is created in the following way:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"lang-auto\"\u003efromScratchModel = new Model(context_);\nvb = new VertexBuffer(context_);\nib = new IndexBuffer(context_);\ngeom = new Geometry(context_);\n\nvb-\u0026gt;SetShadowed(true);\nvb-\u0026gt;SetSize(vertex_data.size(), MASK_POSITION|MASK_NORMAL|MASK_COLOR,false);\nvb-\u0026gt;SetData(\u0026amp;(vertex_data[0]));\n\nib-\u0026gt;SetShadowed(true);\nib-\u0026gt;SetSize(index_data.size(), false);\nib-\u0026gt;SetData(\u0026amp;(index_data[0]));\n\ngeom-\u0026gt;SetVertexBuffer(0, vb);\ngeom-\u0026gt;SetIndexBuffer(ib);\ngeom-\u0026gt;SetDrawRange(TRIANGLE_LIST, 0, index_data.size());\n\nfromScratchModel-\u0026gt;SetNumGeometries(1);\nfromScratchModel-\u0026gt;SetGeometry(0, 0, geom);\nfromScratchModel-\u0026gt;SetBoundingBox(BoundingBox(Vector3(0.0f, 0.0f, 0.0f), Vector3(200.0f, 200.0f, 200.0f)));\n\nNode* node = scene_-\u0026gt;CreateChild(\"FromScratchObject\");\nnode-\u0026gt;SetPosition(Vector3(0.0f, 4.0f, 0.0f));\nnode-\u0026gt;SetScale(1);\nStaticModel* object = node-\u0026gt;CreateComponent\u0026lt;StaticModel\u0026gt;();\nobject-\u0026gt;SetModel(fromScratchModel);\n...\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eThen when I have reason to believe that the mesh has changed I create new vertex data and index data vectors. I have tried just use the SetSize and SetData for the buffers, which worked but got me the segmentation fault after a while. I also tried removing the child from the scene and creating every again (using the same global shared pointers), but it still resulted in the same segmentation fault at the same point (SetData).\u003c/p\u003e\n\u003cp\u003eI looked a the how big my vertexdata vector is and how large my buffer is, just before setting the data, and they have exactly the same size. Can anyone help me find the problem (and hopefully a solution)?\u003c/p\u003e\n\u003cp\u003eThanks!\u003c/p\u003e\n\u003cp\u003eP.S. I am quite new to opengl so it might just be a trivial mistake \u003cimg src=\"https://emoji.discourse-cdn.com/twitter/slight_smile.png?v=5\" title=\":slight_smile:\" class=\"emoji\" alt=\":slight_smile:\"\u003e\u003c/p\u003e","post_number":1,"post_type":1,"updated_at":"2017-01-02T01:08:55.681Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":8,"reads":10,"readers_count":9,"score":42.0,"yours":false,"topic_id":1613,"topic_slug":"segmentation-fault-on-changing-the-size-of-the-vertex-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":366,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9251,"name":"Lasse √ñ√∂rni","username":"cadaver","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","created_at":"2015-12-22T19:21:59.000Z","cooked":"\u003cp\u003eWelcome to the forums.\u003c/p\u003e\n\u003cp\u003eI tested the DynamicGeometry sample growing the vertex buffer each frame (on OpenGL), couldn‚Äôt make it crash.\u003c/p\u003e\n\u003cp\u003eVertexBuffer::SetSize() takes a vertex count. What is the type of your vertex data vector? If it‚Äôs e.g. a std::vector then its size should be numVertices * vertexByteSize. If you have defined a struct for your vertices and your vector holds them instead, then the size being same is correct (barring any struct padding issues.)\u003c/p\u003e","post_number":2,"post_type":1,"updated_at":"2017-01-02T01:08:55.742Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":10,"readers_count":9,"score":2.0,"yours":false,"topic_id":1613,"topic_slug":"segmentation-fault-on-changing-the-size-of-the-vertex-buffer","display_username":"Lasse √ñ√∂rni","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":"Urho3D Author","title_is_group":false,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":true,"staff":true,"user_id":3,"hidden":false,"trust_level":2,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false},{"id":9255,"name":"","username":"haroim","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/8c91f0/{size}.png","created_at":"2015-12-22T19:52:17.000Z","cooked":"\u003cp\u003ehmm, I feel a bit stupid right now. I forgot to divide the vertex_data.size() by seven when I resized the vertex data. It works great now!\u003c/p\u003e\n\u003cp\u003eI am still amazed it didn‚Äôt crash directly :s\u003c/p\u003e\n\u003cp\u003eAnyway, thanks for the quick reply!\u003c/p\u003e","post_number":3,"post_type":1,"updated_at":"2017-01-02T01:08:56.031Z","reply_count":0,"reply_to_post_number":null,"quote_count":0,"incoming_link_count":0,"reads":9,"readers_count":8,"score":1.8,"yours":false,"topic_id":1613,"topic_slug":"segmentation-fault-on-changing-the-size-of-the-vertex-buffer","display_username":"","primary_group_name":null,"flair_name":null,"flair_url":null,"flair_bg_color":null,"flair_color":null,"version":1,"can_edit":false,"can_delete":false,"can_recover":false,"can_wiki":false,"read":true,"user_title":null,"bookmarked":false,"actions_summary":[],"moderator":false,"admin":false,"staff":false,"user_id":366,"hidden":false,"trust_level":1,"deleted_at":null,"user_deleted":false,"edit_reason":null,"can_view_edit_history":true,"wiki":false,"can_accept_answer":false,"can_unaccept_answer":false,"accepted_answer":false}],"stream":[9250,9251,9255]},"timeline_lookup":[[1,2527]],"suggested_topics":[{"id":7296,"title":"What is the purpose of LitBase?","fancy_title":"What is the purpose of LitBase?","slug":"what-is-the-purpose-of-litbase","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":null,"created_at":"2022-07-15T17:46:35.168Z","last_posted_at":"2022-07-15T18:00:02.695Z","bumped":true,"bumped_at":"2022-07-15T18:00:02.695Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":2,"views":93,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":745,"username":"ChunFengTsin","name":"Chun Feng Tsin","avatar_template":"/user_avatar/discourse.urho3d.io/chunfengtsin/{size}/450_2.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":484,"username":"Eugene","name":"Eugene Kozlov","avatar_template":"/user_avatar/discourse.urho3d.io/eugene/{size}/902_2.png"}}]},{"id":7107,"title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u003cSDL/SDL_gamecontroller.h\u003e","fancy_title":"Error: SDL/SDL_gamecontroller.h: No such file or directory #include \u0026lt;SDL/SDL_gamecontroller.h\u0026gt;","slug":"error-sdl-sdl-gamecontroller-h-no-such-file-or-directory-include-sdl-sdl-gamecontroller-h","posts_count":6,"reply_count":1,"highest_post_number":6,"image_url":null,"created_at":"2021-12-21T15:29:52.810Z","last_posted_at":"2021-12-22T15:32:44.818Z","bumped":true,"bumped_at":"2021-12-22T15:32:44.818Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":3,"views":271,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1497,"username":"timob256","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/t/b782af/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7115,"title":"Is it possbile to use one billboard for a lens flare?","fancy_title":"Is it possbile to use one billboard for a lens flare?","slug":"is-it-possbile-to-use-one-billboard-for-a-lens-flare","posts_count":17,"reply_count":4,"highest_post_number":17,"image_url":null,"created_at":"2022-01-02T03:10:48.953Z","last_posted_at":"2022-01-03T21:37:51.953Z","bumped":true,"bumped_at":"2022-01-03T21:37:51.953Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":4,"views":275,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":861,"username":"GodMan","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/g/e79b87/{size}.png"}},{"extras":null,"description":"Frequent Poster, Accepted Answer","user":{"id":192,"username":"Modanung","name":"È≠îÂ§ßÂÜú ùûçùûéùù≥ ÁèæÊãõËúç","avatar_template":"/user_avatar/discourse.urho3d.io/modanung/{size}/3290_2.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]},{"id":7178,"title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","fancy_title":"Medium-Quality Technique for Semi-Reflective/Specular Glass in Urho","slug":"medium-quality-technique-for-semi-reflective-specular-glass-in-urho","posts_count":3,"reply_count":0,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/original/2X/5/51408fe152ba02eb8b92237cc9a9411c8ee922e6.jpeg","created_at":"2022-01-31T22:57:50.134Z","last_posted_at":"2022-02-01T04:32:37.418Z","bumped":true,"bumped_at":"2022-02-01T04:32:37.418Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":154,"category_id":10,"featured_link":null,"has_accepted_answer":false,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster","user":{"id":1334,"username":"najak3d","name":"Brian Knox","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/n/6a8cbe/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":1317,"username":"Lys0gen","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/l/57b2e6/{size}.png"}}]},{"id":7325,"title":"Unable to use external GPU for Urho3D app on Mac OS Monterey","fancy_title":"Unable to use external GPU for Urho3D app on Mac OS Monterey","slug":"unable-to-use-external-gpu-for-urho3d-app-on-mac-os-monterey","posts_count":3,"reply_count":1,"highest_post_number":3,"image_url":"https://global.discourse-cdn.com/standard17/uploads/urho3d/optimized/2X/5/5f906b318833e198a50421d1068fb2d87d17c231_2_1024x585.jpeg","created_at":"2022-09-13T10:07:14.458Z","last_posted_at":"2022-09-14T07:07:26.247Z","bumped":true,"bumped_at":"2022-09-14T07:07:26.247Z","archetype":"regular","unseen":false,"pinned":false,"unpinned":null,"visible":true,"closed":false,"archived":false,"bookmarked":null,"liked":null,"tags_descriptions":{},"like_count":1,"views":84,"category_id":10,"featured_link":null,"has_accepted_answer":true,"posters":[{"extras":"latest","description":"Original Poster, Most Recent Poster, Accepted Answer","user":{"id":1424,"username":"daokoder","name":"Limin Fu","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/d/898d66/{size}.png"}},{"extras":null,"description":"Frequent Poster","user":{"id":628,"username":"SirNate0","name":"SirNate0","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/s/9f8e36/{size}.png"}}]}],"tags_descriptions":{},"id":1613,"title":"Segmentation fault on changing the size of the vertex buffer","fancy_title":"Segmentation fault on changing the size of the vertex buffer","posts_count":3,"created_at":"2015-12-22T18:05:48.000Z","views":345,"reply_count":0,"like_count":0,"last_posted_at":"2015-12-22T19:52:17.000Z","visible":true,"closed":false,"archived":false,"has_summary":false,"archetype":"regular","slug":"segmentation-fault-on-changing-the-size-of-the-vertex-buffer","category_id":10,"word_count":481,"deleted_at":null,"user_id":366,"featured_link":null,"pinned_globally":false,"pinned_at":null,"pinned_until":null,"image_url":null,"slow_mode_seconds":0,"draft":null,"draft_key":"topic_1613","draft_sequence":null,"unpinned":null,"pinned":false,"current_post_number":1,"highest_post_number":3,"deleted_by":null,"actions_summary":[{"id":4,"count":0,"hidden":false,"can_act":false},{"id":8,"count":0,"hidden":false,"can_act":false},{"id":7,"count":0,"hidden":false,"can_act":false}],"chunk_size":20,"bookmarked":false,"bookmarks":[],"topic_timer":null,"message_bus_last_id":0,"participant_count":2,"show_read_indicator":false,"thumbnails":null,"slow_mode_enabled_until":null,"tags_disable_ads":false,"details":{"can_edit":false,"notification_level":1,"participants":[{"id":366,"username":"haroim","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/8c91f0/{size}.png","post_count":2,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"trust_level":1},{"id":3,"username":"cadaver","name":"Lasse √ñ√∂rni","avatar_template":"/user_avatar/discourse.urho3d.io/cadaver/{size}/3_2.png","post_count":1,"primary_group_name":null,"flair_name":null,"flair_url":null,"flair_color":null,"flair_bg_color":null,"admin":true,"trust_level":2}],"created_by":{"id":366,"username":"haroim","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/8c91f0/{size}.png"},"last_poster":{"id":366,"username":"haroim","name":"","avatar_template":"https://avatars.discourse-cdn.com/v4/letter/h/8c91f0/{size}.png"}}}